{"version":3,"file":"NcbiSequenceReportAliasAdapter-DjiW2bmQ.js","sources":["../../node_modules/@jbrowse/plugin-config/esm/NcbiSequenceReportAliasAdapter/NcbiSequenceReportAliasAdapter.js"],"sourcesContent":["import { BaseAdapter } from '@jbrowse/core/data_adapters/BaseAdapter';\nimport { openLocation } from '@jbrowse/core/util/io';\nexport default class NcbiSequenceReportAliasAdapter extends BaseAdapter {\n    async getRefNameAliases() {\n        const loc = this.getConf('location');\n        if (loc.uri === '' || loc.uri === '/path/to/my/sequence_report.tsv') {\n            return [];\n        }\n        const override = this.getConf('useUcscNameOverride');\n        const results = await openLocation(loc, this.pluginManager).readFile('utf8');\n        const lines = results\n            .split(/\\n|\\r\\n|\\r/)\n            .filter(f => !!f.trim())\n            .map(row => row.split('\\t'));\n        const r = lines[0] || [];\n        const idx0 = r.indexOf('GenBank seq accession');\n        const idx1 = r.indexOf('RefSeq seq accession');\n        const idx2 = r.indexOf('UCSC style name');\n        const idx3 = r.indexOf('Sequence name');\n        if (idx0 === -1 || idx1 === -1 || idx2 === -1) {\n            throw new Error('Header line must include \"GenBank seq accession\", \"RefSeq seq accession\", \"UCSC style name\", and \"Sequence name\"');\n        }\n        return lines\n            .slice(1)\n            .filter(cols => !!cols[idx2] || !!cols[idx3])\n            .map(cols => ({\n            refName: (cols[idx2] || cols[idx3]),\n            aliases: [cols[idx0], cols[idx1], cols[idx2], cols[idx3]].filter((f) => !!f),\n            override,\n        }))\n            .filter(f => !!f.refName);\n    }\n    async freeResources() { }\n}\n"],"names":["NcbiSequenceReportAliasAdapter","BaseAdapter","loc","override","lines","openLocation","f","row","r","idx0","idx1","idx2","idx3","cols"],"mappings":"iDAEe,MAAMA,UAAuCC,EAAAA,WAAY,CACpE,MAAM,mBAAoB,CACtB,MAAMC,EAAM,KAAK,QAAQ,UAAU,EACnC,GAAIA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,kCAC9B,MAAO,CAAE,EAEb,MAAMC,EAAW,KAAK,QAAQ,qBAAqB,EAE7CC,GADU,MAAMC,EAAAA,aAAaH,EAAK,KAAK,aAAa,EAAE,SAAS,MAAM,GAEtE,MAAM,YAAY,EAClB,OAAOI,GAAK,CAAC,CAACA,EAAE,KAAM,CAAA,EACtB,IAAIC,GAAOA,EAAI,MAAM,GAAI,CAAC,EACzBC,EAAIJ,EAAM,CAAC,GAAK,CAAE,EAClBK,EAAOD,EAAE,QAAQ,uBAAuB,EACxCE,EAAOF,EAAE,QAAQ,sBAAsB,EACvCG,EAAOH,EAAE,QAAQ,iBAAiB,EAClCI,EAAOJ,EAAE,QAAQ,eAAe,EACtC,GAAIC,IAAS,IAAMC,IAAS,IAAMC,IAAS,GACvC,MAAM,IAAI,MAAM,kHAAkH,EAEtI,OAAOP,EACF,MAAM,CAAC,EACP,OAAOS,GAAQ,CAAC,CAACA,EAAKF,CAAI,GAAK,CAAC,CAACE,EAAKD,CAAI,CAAC,EAC3C,IAAIC,IAAS,CACd,QAAUA,EAAKF,CAAI,GAAKE,EAAKD,CAAI,EACjC,QAAS,CAACC,EAAKJ,CAAI,EAAGI,EAAKH,CAAI,EAAGG,EAAKF,CAAI,EAAGE,EAAKD,CAAI,CAAC,EAAE,OAAQ,GAAM,CAAC,CAAC,CAAC,EAC3E,SAAAT,CACZ,EAAU,EACG,OAAOG,GAAK,CAAC,CAACA,EAAE,OAAO,CACpC,CACI,MAAM,eAAgB,CAAA,CAC1B","x_google_ignoreList":[0]}