import{a2 as j,c as n,j as e,D as T,M as E,h as L,C as z,T as p,f as k,B as x,l as D,e as F}from"./index-CT2bM4yV.js";import{u as g}from"./index-Clz-n0uE.js";function w(){return e.jsxs("div",{children:[e.jsx(D,{size:20,style:{marginRight:20}}),e.jsx(p,{display:"inline",children:"Creating SVG"})]})}function m({children:t,...a}){return e.jsx("div",{children:e.jsx(F,{...a,children:t})})}function f(t,a){return j.useLocalStorage(`svg-${t}`,a)}function R({model:t,handleClose:a}){const r=j.getSession(t),i=typeof OffscreenCanvas<"u",[o,v]=n.useState(i),[y,l]=n.useState(!1),[c,u]=n.useState(),[d,C]=f("file","jbrowse.svg"),[h,b]=f("theme",r.themeName||"default");return e.jsxs(g.Dialog,{open:!0,onClose:a,title:"Export SVG",children:[e.jsxs(T,{children:[c?e.jsx(g.ErrorMessage,{error:c}):y?e.jsx(w,{}):null,e.jsx(m,{helperText:"filename",value:d,onChange:s=>{C(s.target.value)}}),r.allThemes?e.jsx(m,{select:!0,label:"Theme",value:h,onChange:s=>{b(s.target.value)},children:Object.entries(r.allThemes()).map(([s,S])=>e.jsx(E,{value:s,children:S.name||"(Unknown name)"},s))}):null,i?e.jsx(L,{control:e.jsx(z,{checked:o,onChange:()=>{v(s=>!s)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):e.jsx(p,{children:"Note: rasterizing layers not yet supported in this browser, so SVG size may be large"})]}),e.jsxs(k,{children:[e.jsx(x,{variant:"contained",color:"secondary",onClick:()=>{a()},children:"Cancel"}),e.jsx(x,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{l(!0),u(void 0);try{await t.exportSvg({rasterizeLayers:o,filename:d,themeName:h}),a()}catch(s){console.error(s),u(s)}finally{l(!1)}},children:"Submit"})]})]})}export{R as default};
//# sourceMappingURL=ExportSvgDialog-D5zS0rQH.js.map
