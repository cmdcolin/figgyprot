const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CGKDrrCR.js","./index-DIqbght7.css","./ExportBookmarksDialog-Bgnb35w9.js","./ImportBookmarksDialog-Bq5hH1Fc.js","./sessionSharing-NWjcKF-j.js","./ShareBookmarksDialog-BBjpQpQw.js","./HighlightSettingsDialog-ayF-M7yo.js","./EditHighlightColorDialog-CsR9piy6.js","./DeleteBookmarksDialog-CpvzBVcg.js"])))=>i.map(i=>d[i]);
import{ad as je,j as p,o as Z,ap as Pe,ei as Ne,aq as He,M as re,C as ae,ej as le,ek as Me,bN as j,c as M,bs as De,el as Oe,cz as $e,bO as Ae,em as Be,ct as E,cI as se,_ as P,m as de,bL as Ie,en as Re,L as Le,bu as Te,eo as qe,bv as Fe,cy as Ve,dv as ze,ep as Ge,eq as We,cL as Ke}from"./index-CGKDrrCR.js";const Ue=je(p.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}),"Share"),Xe=Z(function({model:e}){const{validAssemblies:t,selectedAssemblies:o}=e,r=t.size===0,a="Select assemblies",l="select-assemblies-label",n=new Set(o),i=[...t].every(s=>n.has(s));return p.jsxs(Pe,{disabled:r,fullWidth:!0,children:[p.jsx(Ne,{id:l,children:a}),p.jsxs(He,{labelId:l,multiple:!0,value:o,onChange:s=>{e.setSelectedAssemblies(typeof s.target.value=="string"?[s.target.value]:s.target.value)},input:p.jsx(Me,{label:a}),renderValue:s=>s.join(", "),children:[p.jsxs(re,{onClickCapture:s=>{e.setSelectedAssemblies(i?[]:void 0),s.preventDefault()},children:[p.jsx(ae,{checked:i,indeterminate:!i&&o.length>0}),p.jsx(le,{primary:"Select all"})]}),[...t].map(s=>p.jsxs(re,{value:s,children:[p.jsx(ae,{checked:o.includes(s)}),p.jsx(le,{primary:s})]},s))]})]})});var fe={},C={};Object.defineProperty(C,"__esModule",{value:!0});C.tableau10=C.set2=C.set1=C.ggplot2Colors6=C.ggplot2Colors5=C.ggplot2Colors4=C.ggplot2Colors3=C.dark2=C.category10=void 0;const Ye=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];C.category10=Ye;const Je=["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"];C.dark2=Je;const Qe=["#377eb8","#e41a1c","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"];C.set1=Qe;const Ze=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"];C.set2=Ze;const et=["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"];C.tableau10=et;const tt=["#F8766D","#B79F00","#00BA38","#00BFC4","#619CFF","#F564E3"];C.ggplot2Colors6=tt;const ot=["#F8766D","#A3A500","#00BF7D","#00B0F6","#E76BF3"];C.ggplot2Colors5=ot;const rt=["#F8766D","#7CAE00","#00BFC4","#C77CFF"];C.ggplot2Colors4=rt;const at=["#F8766D","#00BA38","#619CFF"];C.ggplot2Colors3=at;var h={},lt=j&&j.__createBinding||(Object.create?function(e,t,o,r){r===void 0&&(r=o);var a=Object.getOwnPropertyDescriptor(t,o);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,r,a)}:function(e,t,o,r){r===void 0&&(r=o),e[r]=t[o]}),st=j&&j.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nt=j&&j.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(o){var r=[];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[r.length]=a);return r},e(t)};return function(t){if(t&&t.__esModule)return t;var o={};if(t!=null)for(var r=e(t),a=0;a<r.length;a++)r[a]!=="default"&&lt(o,t,r[a]);return st(o,t),o}}();Object.defineProperty(h,"__esModule",{value:!0});h.setNonce=h.RgbaStringColorPicker=h.RgbaColorPicker=h.RgbStringColorPicker=h.RgbColorPicker=h.HsvaStringColorPicker=h.HsvaColorPicker=h.HsvStringColorPicker=h.HsvColorPicker=h.HslaStringColorPicker=h.HslaColorPicker=h.HslStringColorPicker=h.HslColorPicker=h.HexColorPicker=h.HexColorInput=void 0;const c=nt(M);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function L(e,t){if(e==null)return{};var o,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t.indexOf(o=l[r])>=0||(a[o]=e[o]);return a}function R(e){const t=(0,c.useRef)(e),o=(0,c.useRef)(r=>{t.current&&t.current(r)});return t.current=e,o.current}const $=(e,t=0,o=1)=>e>o?o:e<t?t:e,I=e=>"touches"in e,Q=e=>e&&e.ownerDocument.defaultView||self,ne=(e,t,o)=>{const r=e.getBoundingClientRect(),a=I(t)?((l,n)=>{for(let i=0;i<l.length;i++)if(l[i].identifier===n)return l[i];return l[0]})(t.touches,o):t;return{left:$((a.pageX-(r.left+Q(e).pageXOffset))/r.width),top:$((a.pageY-(r.top+Q(e).pageYOffset))/r.height)}},ce=e=>{!I(e)&&e.preventDefault()},ee=c.default.memo(e=>{let{onMove:t,onKey:o}=e,r=L(e,["onMove","onKey"]);const a=(0,c.useRef)(null),l=R(t),n=R(o),i=(0,c.useRef)(null),s=(0,c.useRef)(!1),[f,u,_]=(0,c.useMemo)(()=>{const w=m=>{ce(m),(I(m)?m.touches.length>0:m.buttons>0)&&a.current?l(ne(a.current,m,i.current)):H(!1)},N=()=>H(!1);function H(m){const d=s.current,g=Q(a.current),b=m?g.addEventListener:g.removeEventListener;b(d?"touchmove":"mousemove",w),b(d?"touchend":"mouseup",N)}return[({nativeEvent:m})=>{const d=a.current;if(d&&(ce(m),!((g,b)=>b&&!I(g))(m,s.current)&&d)){if(I(m)){s.current=!0;const g=m.changedTouches||[];g.length&&(i.current=g[0].identifier)}d.focus(),l(ne(d,m,i.current)),H(!0)}},m=>{const d=m.which||m.keyCode;d<37||d>40||(m.preventDefault(),n({left:d===39?.05:d===37?-.05:0,top:d===40?.05:d===38?-.05:0}))},H]},[n,l]);return(0,c.useEffect)(()=>_,[_]),c.default.createElement("div",k({},r,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:a,onKeyDown:u,tabIndex:0,role:"slider"}))}),T=e=>e.filter(Boolean).join(" "),te=({className:e,color:t,left:o,top:r=.5})=>{const a=T(["react-colorful__pointer",e]);return c.default.createElement("div",{className:a,style:{top:100*r+"%",left:100*o+"%"}},c.default.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},y=(e,t=0,o=Math.pow(10,t))=>Math.round(o*e)/o,ct={grad:.9,turn:360,rad:360/(2*Math.PI)},Y=e=>(e[0]==="#"&&(e=e.substr(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}:{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:1}),ge=(e,t="deg")=>Number(e)*(ct[t]||1),he=e=>{const t=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?oe({h:ge(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},it=he,oe=({h:e,s:t,l:o,a:r})=>({h:e,s:(t*=(o<50?o:100-o)/100)>0?2*t/(o+t)*100:0,v:o+t,a:r}),W=({h:e,s:t,v:o,a:r})=>{const a=(200-t)*o/100;return{h:y(e),s:y(a>0&&a<200?t*o/100/(a<=100?a:200-a)*100:0),l:y(a/2),a:y(r,2)}},G=e=>{const{h:t,s:o,l:r}=W(e);return`hsl(${t}, ${o}%, ${r}%)`},z=e=>{const{h:t,s:o,l:r,a}=W(e);return`hsla(${t}, ${o}%, ${r}%, ${a})`},q=({h:e,s:t,v:o,a:r})=>{e=e/360*6,t/=100,o/=100;const a=Math.floor(e),l=o*(1-t),n=o*(1-(e-a)*t),i=o*(1-(1-e+a)*t),s=a%6;return{r:y(255*[o,n,l,l,i,o][s]),g:y(255*[i,o,o,n,l,l][s]),b:y(255*[l,l,i,o,o,n][s]),a:y(r,2)}},me=e=>{const t=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?F({h:ge(t[1],t[2]),s:Number(t[3]),v:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},ut=me,be=e=>{const t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?K({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},dt=be,J=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},K=({r:e,g:t,b:o,a:r})=>{const a=Math.max(e,t,o),l=a-Math.min(e,t,o),n=l?a===e?(t-o)/l:a===t?2+(o-e)/l:4+(e-t)/l:0;return{h:y(60*(n<0?n+6:n)),s:y(a?l/a*100:0),v:y(a/255*100),a:r}},F=e=>({h:y(e.h),s:y(e.s),v:y(e.v),a:y(e.a,2)}),pe=c.default.memo(({className:e,hue:t,onChange:o})=>{const r=T(["react-colorful__hue",e]);return c.default.createElement("div",{className:r},c.default.createElement(ee,{onMove:a=>{o({h:360*a.left})},onKey:a=>{o({h:$(t+360*a.left,0,360)})},"aria-label":"Hue","aria-valuetext":y(t)},c.default.createElement(te,{className:"react-colorful__hue-pointer",left:t/360,color:G({h:t,s:100,v:100,a:1})})))}),ve=c.default.memo(({hsva:e,onChange:t})=>{const o={backgroundColor:G({h:e.h,s:100,v:100,a:1})};return c.default.createElement("div",{className:"react-colorful__saturation",style:o},c.default.createElement(ee,{onMove:r=>{t({s:100*r.left,v:100-100*r.top})},onKey:r=>{t({s:$(e.s+100*r.left,0,100),v:$(e.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":`Saturation ${y(e.s)}%, Brightness ${y(e.v)}%`},c.default.createElement(te,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:G(e)})))}),D=(e,t)=>{if(e===t)return!0;for(const o in e)if(e[o]!==t[o])return!1;return!0},A=(e,t)=>e.replace(/\s/g,"")===t.replace(/\s/g,"");function _e(e,t,o){const r=R(o),[a,l]=(0,c.useState)(()=>e.toHsva(t)),n=(0,c.useRef)({color:t,hsva:a});(0,c.useEffect)(()=>{if(!e.equal(t,n.current.color)){const s=e.toHsva(t);n.current={hsva:s,color:t},l(s)}},[t,e]),(0,c.useEffect)(()=>{let s;D(a,n.current.hsva)||e.equal(s=e.fromHsva(a),n.current.color)||(n.current={hsva:a,color:s},r(s))},[a,e,r]);const i=(0,c.useCallback)(s=>{l(f=>Object.assign({},f,s))},[]);return[a,i]}const ft=typeof window<"u"?c.useLayoutEffect:c.useEffect;let Ce;const gt=()=>Ce||(typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0),ht=e=>{Ce=e},ie=new Map,xe=e=>{ft(()=>{const t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!ie.has(t)){const o=t.createElement("style");o.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,ie.set(t,o);const r=gt();r&&o.setAttribute("nonce",r),t.head.appendChild(o)}},[])},O=e=>{let{className:t,colorModel:o,color:r=o.defaultColor,onChange:a}=e,l=L(e,["className","colorModel","color","onChange"]);const n=(0,c.useRef)(null);xe(n);const[i,s]=_e(o,r,a),f=T(["react-colorful",t]);return c.default.createElement("div",k({},l,{ref:n,className:f}),c.default.createElement(ve,{hsva:i,onChange:s}),c.default.createElement(pe,{hue:i.h,onChange:s,className:"react-colorful__last-control"}))},mt={defaultColor:"000",toHsva:e=>K(Y(e)),fromHsva:e=>(({r:t,g:o,b:r})=>"#"+J(t)+J(o)+J(r))(q(e)),equal:(e,t)=>e.toLowerCase()===t.toLowerCase()||D(Y(e),Y(t))},bt=e=>c.default.createElement(O,k({},e,{colorModel:mt})),pt=({className:e,hsva:t,onChange:o})=>{const r={backgroundImage:`linear-gradient(90deg, ${z(Object.assign({},t,{a:0}))}, ${z(Object.assign({},t,{a:1}))})`},a=T(["react-colorful__alpha",e]);return c.default.createElement("div",{className:a},c.default.createElement("div",{className:"react-colorful__alpha-gradient",style:r}),c.default.createElement(ee,{onMove:l=>{o({a:l.left})},onKey:l=>{o({a:$(t.a+l.left)})},"aria-label":"Alpha","aria-valuetext":`${y(100*t.a)}%`},c.default.createElement(te,{className:"react-colorful__alpha-pointer",left:t.a,color:z(t)})))},B=e=>{let{className:t,colorModel:o,color:r=o.defaultColor,onChange:a}=e,l=L(e,["className","colorModel","color","onChange"]);const n=(0,c.useRef)(null);xe(n);const[i,s]=_e(o,r,a),f=T(["react-colorful",t]);return c.default.createElement("div",k({},l,{ref:n,className:f}),c.default.createElement(ve,{hsva:i,onChange:s}),c.default.createElement(pe,{hue:i.h,onChange:s}),c.default.createElement(pt,{hsva:i,onChange:s,className:"react-colorful__last-control"}))},vt={defaultColor:{h:0,s:0,l:0,a:1},toHsva:oe,fromHsva:W,equal:D},_t=e=>c.default.createElement(B,k({},e,{colorModel:vt})),Ct={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:he,fromHsva:z,equal:A},xt=e=>c.default.createElement(B,k({},e,{colorModel:Ct})),yt={defaultColor:{h:0,s:0,l:0},toHsva:({h:e,s:t,l:o})=>oe({h:e,s:t,l:o,a:1}),fromHsva:e=>(({h:t,s:o,l:r})=>({h:t,s:o,l:r}))(W(e)),equal:D},kt=e=>c.default.createElement(O,k({},e,{colorModel:yt})),wt={defaultColor:"hsl(0, 0%, 0%)",toHsva:it,fromHsva:G,equal:A},Et=e=>c.default.createElement(O,k({},e,{colorModel:wt})),St={defaultColor:{h:0,s:0,v:0,a:1},toHsva:e=>e,fromHsva:F,equal:D},jt=e=>c.default.createElement(B,k({},e,{colorModel:St})),Pt={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:me,fromHsva:e=>{const{h:t,s:o,v:r,a}=F(e);return`hsva(${t}, ${o}%, ${r}%, ${a})`},equal:A},Nt=e=>c.default.createElement(B,k({},e,{colorModel:Pt})),Ht={defaultColor:{h:0,s:0,v:0},toHsva:({h:e,s:t,v:o})=>({h:e,s:t,v:o,a:1}),fromHsva:e=>{const{h:t,s:o,v:r}=F(e);return{h:t,s:o,v:r}},equal:D},Mt=e=>c.default.createElement(O,k({},e,{colorModel:Ht})),Dt={defaultColor:"hsv(0, 0%, 0%)",toHsva:ut,fromHsva:e=>{const{h:t,s:o,v:r}=F(e);return`hsv(${t}, ${o}%, ${r}%)`},equal:A},Ot=e=>c.default.createElement(O,k({},e,{colorModel:Dt})),$t={defaultColor:{r:0,g:0,b:0,a:1},toHsva:K,fromHsva:q,equal:D},At=e=>c.default.createElement(B,k({},e,{colorModel:$t})),Bt={defaultColor:"rgba(0, 0, 0, 1)",toHsva:be,fromHsva:e=>{const{r:t,g:o,b:r,a}=q(e);return`rgba(${t}, ${o}, ${r}, ${a})`},equal:A},It=e=>c.default.createElement(B,k({},e,{colorModel:Bt})),Rt={defaultColor:{r:0,g:0,b:0},toHsva:({r:e,g:t,b:o})=>K({r:e,g:t,b:o,a:1}),fromHsva:e=>(({r:t,g:o,b:r})=>({r:t,g:o,b:r}))(q(e)),equal:D},Lt=e=>c.default.createElement(O,k({},e,{colorModel:Rt})),Tt={defaultColor:"rgb(0, 0, 0)",toHsva:dt,fromHsva:e=>{const{r:t,g:o,b:r}=q(e);return`rgb(${t}, ${o}, ${r})`},equal:A},qt=e=>c.default.createElement(O,k({},e,{colorModel:Tt})),Ft=/^#?([0-9A-F]{3,8})$/i,Vt=e=>{const{color:t="",onChange:o,onBlur:r,escape:a,validate:l,format:n,process:i}=e,s=L(e,["color","onChange","onBlur","escape","validate","format","process"]),[f,u]=(0,c.useState)(()=>a(t)),_=R(o),w=R(r),N=(0,c.useCallback)(m=>{const d=a(m.target.value);u(d),l(d)&&_(i?i(d):d)},[a,i,l,_]),H=(0,c.useCallback)(m=>{l(m.target.value)||u(a(t)),w(m)},[t,a,l,w]);return(0,c.useEffect)(()=>{u(a(t))},[t,a]),c.default.createElement("input",k({},s,{value:n?n(f):f,spellCheck:"false",onChange:N,onBlur:H}))},ue=e=>"#"+e,zt=e=>{const{prefixed:t,alpha:o}=e,r=L(e,["prefixed","alpha"]),a=(0,c.useCallback)(n=>n.replace(/([^0-9A-F]+)/gi,"").substr(0,o?8:6),[o]),l=(0,c.useCallback)(n=>((i,s)=>{const f=Ft.exec(i),u=f?f[1].length:0;return u===3||u===6||!!s&&u===4||!!s&&u===8})(n,o),[o]);return c.default.createElement(Vt,k({},r,{escape:a,format:t?ue:void 0,process:ue,validate:l}))};h.setNonce=ht;h.HexColorPicker=bt;h.HslaColorPicker=_t;h.HslaStringColorPicker=xt;h.HslColorPicker=kt;h.HslStringColorPicker=Et;h.HsvaColorPicker=jt;h.HsvaStringColorPicker=Nt;h.HsvColorPicker=Mt;h.HsvStringColorPicker=Ot;h.RgbaColorPicker=At;h.RgbaStringColorPicker=It;h.RgbColorPicker=Lt;h.RgbStringColorPicker=qt;h.HexColorInput=zt;(function(e){var t=j&&j.__createBinding||(Object.create?function(d,g,b,v){v===void 0&&(v=b);var x=Object.getOwnPropertyDescriptor(g,b);(!x||("get"in x?!g.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return g[b]}}),Object.defineProperty(d,v,x)}:function(d,g,b,v){v===void 0&&(v=b),d[v]=g[b]}),o=j&&j.__setModuleDefault||(Object.create?function(d,g){Object.defineProperty(d,"default",{enumerable:!0,value:g})}:function(d,g){d.default=g}),r=j&&j.__importStar||function(){var d=function(g){return d=Object.getOwnPropertyNames||function(b){var v=[];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(v[v.length]=x);return v},d(g)};return function(g){if(g&&g.__esModule)return g;var b={};if(g!=null)for(var v=d(g),x=0;x<v.length;x++)v[x]!=="default"&&t(b,g,v[x]);return o(b,g),b}}();Object.defineProperty(e,"__esModule",{value:!0}),e.PopoverPicker=void 0,e.ColorPopover=H,e.ColorPicker=m;const a=p,l=M,n=Be,i=Ae,s=$e,f=r(C),u=Oe(),_=h,w=(0,s.makeStyles)()({picker:{position:"relative"},swatches:{display:"flex",padding:12,flexWrap:"wrap"},swatch:{width:24,height:24,margin:4,border:"none",padding:0,cursor:"pointer",outline:"none"}}),N=({color:d,onChange:g})=>{const[b,v]=(0,l.useState)(null),{classes:x}=w();return(0,a.jsxs)("div",{className:x.picker,children:[(0,a.jsx)("div",{className:x.swatch,style:{backgroundColor:d},onClick:U=>{v(U.currentTarget)}}),(0,a.jsx)(H,{anchorEl:b,onClose:()=>{v(null)},color:d,onChange:g})]})};e.PopoverPicker=N;function H({anchorEl:d,onChange:g,onClose:b,color:v}){return(0,a.jsx)(i.Popover,{open:!!d,anchorEl:d,onClose:b,children:(0,a.jsx)(m,{color:v,onChange:g})})}function m({onChange:d,color:g}){const{classes:b}=w(),[v,x]=(0,u.useLocalStorage)("colorPickerPalette","set1"),U=f[v],ye=Object.keys(f),[ke,we]=(0,l.useState)(g),Ee=(0,n.colord)(g).toRgbString(),Se=(0,u.useDebounce)(Ee,1e3),X=S=>{we(S);try{d((0,n.colord)(S).toRgbString())}catch{}};return(0,a.jsxs)("div",{style:{display:"flex",padding:10},children:[(0,a.jsx)("div",{style:{width:200,margin:5},children:(0,a.jsx)(_.RgbaStringColorPicker,{color:Se,onChange:X})}),(0,a.jsxs)("div",{style:{width:200,margin:5},children:[(0,a.jsx)(i.Select,{value:v,onChange:S=>{const V=S.target.value;x(V)},children:ye.map(S=>(0,a.jsx)(i.MenuItem,{value:S,children:S},S))}),(0,a.jsx)("div",{className:b.swatches,children:U.map((S,V)=>(0,a.jsx)("button",{type:"button",className:b.swatch,style:{background:S},onClick:()=>{X(S)}},`${S}-${V}`))}),(0,a.jsx)(i.TextField,{helperText:"Manually set color (hex, rgb, or css color name)",value:ke,onChange:S=>{X(S.target.value)}})]})]})}e.default=e.PopoverPicker})(fe);const Gt=De(fe);async function Wt(e,t,o,r){const a=E.getSession(r);try{let l=o.find(n=>n.id===a.focusedViewId);if((l==null?void 0:l.assemblyNames[0])!==t&&(l=o.find(n=>n.type==="LinearGenomeView"&&n.assemblyNames[0]===t)),!l){const n=`${r.id}_${t}`;l=a.addView("LinearGenomeView",{id:n})}await l.navToLocString(e,t)}catch(l){console.error(l),a.notifyError(`${l}`,l)}}function lo(e,t){const{selectedBookmarks:o,bookmarksWithValidAssemblies:r}=t,a=o.length===0?r:o;if(e==="BED"){const l="",n={};for(const i of a){const{label:s}=i,f=s===""?".":s,u=`${i.refName}	${i.start}	${i.end}	${f}
`;n[i.assemblyName]?n[i.assemblyName].push(u):n[i.assemblyName]=[u]}for(const i in n){const s=n[i].reduce((_,w)=>_+w,l),f=new Blob([s||""],{type:"text/x-bed;charset=utf-8"}),u=`jbrowse_bookmarks_${i}.bed`;se.saveAs(f,u)}}else{const n=a.map(f=>{const{label:u}=f,_=u===""?".":u,w=E.assembleLocString(f);return`${f.refName}	${f.start+1}	${f.end}	${_}	${f.assemblyName}	${w}
`}).reduce((f,u)=>f+u,`chrom	start	end	label	assembly_name	coord_range
`),i=new Blob([n||""],{type:"text/tab-separated-values;charset=utf-8"});se.saveAs(i,"jbrowse_bookmarks.tsv")}}function Kt(e){let t=0;switch(e.length%4){case 3:t=1;break;case 2:t=2;break;case 0:t=0;break;default:throw new Error("base64 not a valid length")}return e+"=".repeat(t)}async function so(e){const t=Kt(e.replaceAll("-","+").replaceAll("_","/")),{toByteArray:o}=await P(async()=>{const{toByteArray:n}=await import("./index-CGKDrrCR.js").then(i=>i.a);return{toByteArray:n}},__vite__mapDeps([0,1]),import.meta.url),{inflate:r}=await P(async()=>{const{inflate:n}=await import("./index-CGKDrrCR.js").then(i=>i.i);return{inflate:n}},__vite__mapDeps([0,1]),import.meta.url),a=o(t),l=r(a);return new TextDecoder().decode(l)}async function no(e){const t=new TextEncoder().encode(e),{deflate:o}=await P(async()=>{const{deflate:i}=await import("./index-CGKDrrCR.js").then(s=>s.i);return{deflate:i}},__vite__mapDeps([0,1]),import.meta.url),{fromByteArray:r}=await P(async()=>{const{fromByteArray:i}=await import("./index-CGKDrrCR.js").then(s=>s.a);return{fromByteArray:i}},__vite__mapDeps([0,1]),import.meta.url),a=o(t),l=r(a),n=l.indexOf("=");return n>0?l.slice(0,n).replaceAll("+","-").replaceAll("/","_"):l.replaceAll("+","-").replaceAll("/","_")}const Ut=de()(()=>({cell:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),Xt=Z(function({model:e}){const{classes:t}=Ut(),{bookmarks:o,bookmarksWithValidAssemblies:r,selectedAssemblies:a,selectedBookmarks:l}=e,n=E.getSession(e),i=new Set(a),s=o.filter(u=>i.has(u.assemblyName)).map((u,_)=>{const{assemblyName:w,...N}=u;return{...u,id:_,assemblyName:w,locString:E.assembleLocString(N),correspondingObj:u}}),f=[50,Math.max(E.measureText("Bookmark link",12)+30,E.measureGridWidth(s.map(u=>u.locString))),Math.max(E.measureText("Label",12)+30,E.measureGridWidth(s.map(u=>u.label))),Math.max(E.measureText("Assembly",12)+30,E.measureGridWidth(s.map(u=>u.assemblyName))),100];return p.jsx("div",{style:{display:"flex",flexDirection:"column"},children:p.jsx(Ie,{density:"compact",rows:s,columns:[{...Re,width:f[0]},{field:"locString",headerName:"Bookmark link",width:f[1],renderCell:({value:u,row:_})=>p.jsx(Le,{className:t.cell,href:"#",onClick:async w=>{w.preventDefault();const{views:N}=n;await Wt(u,_.assemblyName,N,e)},children:u})},{field:"label",headerName:"Label",width:f[2],editable:!0},{field:"assemblyName",headerName:"Assembly",width:f[3]},{field:"highlight",headerName:"Highlight",width:f[4],renderCell:({value:u,row:_})=>p.jsx(Gt,{color:u||"black",onChange:w=>{e.updateBookmarkHighlight(_,w)}})}],processRowUpdate:u=>{const _=s[u.id];return e.updateBookmarkLabel(_,u.label),u},onProcessRowUpdateError:u=>{n.notifyError(`${u}`,u)},checkboxSelection:!0,onRowSelectionModelChange:u=>{r.length>0&&e.setSelectedBookmarks(u.map(_=>({...s[_]})))},rowSelectionModel:l.map(u=>u.id),disableRowSelectionOnClick:!0})})}),Yt=M.lazy(()=>P(()=>import("./ExportBookmarksDialog-Bgnb35w9.js"),__vite__mapDeps([2,0,1]),import.meta.url)),Jt=M.lazy(()=>P(()=>import("./ImportBookmarksDialog-Bq5hH1Fc.js"),__vite__mapDeps([3,0,1,4]),import.meta.url)),Qt=M.lazy(()=>P(()=>import("./ShareBookmarksDialog-BBjpQpQw.js"),__vite__mapDeps([5,0,1,4]),import.meta.url)),Zt=M.lazy(()=>P(()=>import("./HighlightSettingsDialog-ayF-M7yo.js"),__vite__mapDeps([6,0,1]),import.meta.url)),eo=M.lazy(()=>P(()=>import("./EditHighlightColorDialog-CsR9piy6.js"),__vite__mapDeps([7,0,1]),import.meta.url)),to=M.lazy(()=>P(()=>import("./DeleteBookmarksDialog-CpvzBVcg.js"),__vite__mapDeps([8,0,1]),import.meta.url)),oo=de()({flex:{display:"flex"}}),ro=Z(function({model:t}){const{classes:o}=oo();return p.jsxs("div",{children:[p.jsxs(Te,{severity:"info",children:["Click and type within the ",p.jsx("strong",{children:"label"})," field to annotate your bookmark. Double click the ",p.jsx("strong",{children:"label"})," field to do so within a dialog."]}),p.jsxs("div",{className:o.flex,children:[p.jsx(qe,{"data-testid":"grid_bookmark_menu",menuItems:[{label:"Export",icon:Fe,onClick:()=>{E.getSession(t).queueDialog(r=>[Yt,{onClose:r,model:t}])}},{label:"Import",icon:Ve,onClick:()=>{E.getSession(t).queueDialog(r=>[Jt,{model:t,onClose:r}])}},{label:"Delete",icon:ze,onClick:()=>{E.getSession(t).queueDialog(r=>[to,{model:t,onClose:r}])}},{label:"Share",icon:Ue,onClick:()=>{E.getSession(t).queueDialog(r=>[Qt,{model:t,onClose:r}])}},{label:"Edit colors",icon:Ge,onClick:()=>{E.getSession(t).queueDialog(r=>[eo,{model:t,onClose:r}])}},{label:"Settings",icon:We,onClick:()=>{E.getSession(t).queueDialog(r=>[Zt,{model:t,onClose:r}])}}],children:p.jsx(Ke,{})}),p.jsx(Xe,{model:t})]}),p.jsx(Xt,{model:t})]})}),co=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"}));export{fe as C,co as G,lo as d,so as f,no as t};
//# sourceMappingURL=GridBookmarkWidget-bcOK_ipM.js.map
