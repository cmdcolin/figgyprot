import{a4 as j,c as r,j as e,a5 as x,D as T,M as E,h as L,C as z,T as p,f as k,B as g,l as D,e as F}from"./index-CGKDrrCR.js";function w(){return e.jsxs("div",{children:[e.jsx(D,{size:20,style:{marginRight:20}}),e.jsx(p,{display:"inline",children:"Creating SVG"})]})}function m({children:t,...a}){return e.jsx("div",{children:e.jsx(F,{...a,children:t})})}function f(t,a){return j.useLocalStorage(`svg-${t}`,a)}function N({model:t,handleClose:a}){const n=j.getSession(t),i=typeof OffscreenCanvas<"u",[o,v]=r.useState(i),[y,l]=r.useState(!1),[c,u]=r.useState(),[d,C]=f("file","jbrowse.svg"),[h,b]=f("theme",n.themeName||"default");return e.jsxs(x.Dialog,{open:!0,onClose:a,title:"Export SVG",children:[e.jsxs(T,{children:[c?e.jsx(x.ErrorMessage,{error:c}):y?e.jsx(w,{}):null,e.jsx(m,{helperText:"filename",value:d,onChange:s=>{C(s.target.value)}}),n.allThemes?e.jsx(m,{select:!0,label:"Theme",value:h,onChange:s=>{b(s.target.value)},children:Object.entries(n.allThemes()).map(([s,S])=>e.jsx(E,{value:s,children:S.name||"(Unknown name)"},s))}):null,i?e.jsx(L,{control:e.jsx(z,{checked:o,onChange:()=>{v(s=>!s)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):e.jsx(p,{children:"Note: rasterizing layers not yet supported in this browser, so SVG size may be large"})]}),e.jsxs(k,{children:[e.jsx(g,{variant:"contained",color:"secondary",onClick:()=>{a()},children:"Cancel"}),e.jsx(g,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{l(!0),u(void 0);try{await t.exportSvg({rasterizeLayers:o,filename:d,themeName:h}),a()}catch(s){console.error(s),u(s)}finally{l(!1)}},children:"Submit"})]})]})}export{N as default};
//# sourceMappingURL=ExportSvgDialog-Cf5e1ygf.js.map
