import{bZ as y,j as e,a4 as l,I as u,b_ as S,a5 as T}from"./index-CGKDrrCR.js";import{V as k,G as R,H as b}from"./Grid-DdYAsDNK.js";function P({width:t,height:a}){const i=y();return e.jsx("rect",{x:0,y:0,width:t,height:a,fill:l.stripAlpha(i.palette.background.default)})}async function G(t,a){var i;await u(()=>t.initialized);const{themeName:p="default",Wrapper:g=({children:s})=>s}=a,h=l.getSession(t),d=(i=h.allThemes)===null||i===void 0?void 0:i.call(h)[p],{width:o,borderX:c,viewWidth:m,viewHeight:x,tracks:j,height:n}=t,f=50,v=await Promise.all(j.map(async s=>{const r=s.displays[0];return await u(()=>r.ready!==void 0?r.ready:!0),{track:s,result:await r.renderSvg({...a,theme:d})}})),w=o+f*2;return l.renderToStaticMarkup(e.jsx(S,{theme:T.createJBrowseTheme(d),children:e.jsx(g,{children:e.jsxs("svg",{width:o,height:n,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:[0,0,w,n].toString(),children:[e.jsx(P,{width:w,height:n}),e.jsx(k,{model:t}),e.jsxs("g",{transform:`translate(${c} 0)`,children:[e.jsx(R,{model:t}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip-ruler",children:e.jsx("rect",{x:0,y:0,width:m,height:x})})}),e.jsx("g",{clipPath:"url(#clip-ruler)",children:v.map(({result:s},r)=>e.jsx("g",{children:s},r))})]}),e.jsx("g",{transform:`translate(${c} ${x})`,children:e.jsx(b,{model:t})})]})})}))}export{G as renderToSvg};
//# sourceMappingURL=SVGDotplotView-DuEEVW0l.js.map
