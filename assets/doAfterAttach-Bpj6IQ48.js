import{x as s,p as a,y as i,z as C,A as x}from"./index-CT2bM4yV.js";function w(t){s(t,async()=>{const r=a.getContainingView(t);t.autorunReady&&t.setCurrSortBpPerPx(r.bpPerPx)},{delay:1e3}),s(t,async()=>{const{rpcManager:r}=a.getSession(t),e=a.getContainingView(t);if(!t.autorunReady)return;const{sortedBy:n,adapterConfig:o,rendererType:p,sortReady:y}=t,{bpPerPx:f}=e;if(n&&(!y||t.currSortBpPerPx===e.bpPerPx)){const{pos:c,refName:g,assemblyName:u}=n;await t.rendererType.renderInClient(r,{assemblyName:u,regions:[{start:c,end:c+1,refName:g,assemblyName:u}],adapterConfig:o,rendererType:p.name,sessionId:C.getRpcSessionId(t),layoutId:a.getContainingTrack(t).id,timeout:1e6,statusCallback:P=>{i(t)&&t.setMessage(P)},...t.renderPropsPre()})}i(t)&&(t.setCurrSortBpPerPx(f),t.setSortReady(!0))},{delay:1e3}),s(t,async()=>{if(!t.autorunReady)return;const{adapterConfig:r}=t,{staticBlocks:e}=a.getContainingView(t),n=await x({model:t,adapterConfig:r,blocks:e});i(t)&&(t.updateVisibleModifications(n),t.setModificationsReady(!0))},{delay:1e3})}export{w as doAfterAttach};
//# sourceMappingURL=doAfterAttach-Bpj6IQ48.js.map
