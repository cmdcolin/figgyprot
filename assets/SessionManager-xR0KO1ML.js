import{ac as T,j as u,o as O,m as N,u as W,f as I,C as _,B as L,ao as k,L as X,an as Y,ch as z}from"./index-DRDIumvF.js";import{D as H}from"./DataGridFlexContainer-BtHzV4NV.js";import{S as V}from"./Star-ChWYX_07.js";import{D as q}from"./DataGrid-COGS3KN-.js";import"./index-erzOx3_L.js";import"./utils-BwPRrx3T.js";import"./getThemeProps-IugnyHrN.js";import"./MenuItem-D5kXI1eL.js";import"./dividerClasses-rNTJcnQi.js";import"./Divider-C_55-x0A.js";import"./Badge-D0gYdILz.js";import"./TableCell-Cy8GZPEs.js";const E=T(u.jsx("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"})),J=864e5,w=43200,j=1440,C=Symbol.for("constructDateFrom");function F(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&C in e?e[C](n):e instanceof Date?new e.constructor(n):new Date(n)}function f(e,n){return F(e,e)}let R={};function B(){return R}function S(e){const n=f(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function v(e,...n){const t=F.bind(null,e||n.find(o=>typeof o=="object"));return n.map(t)}function p(e,n){const t=f(e);return t.setHours(0,0,0,0),t}function Q(e,n,t){const[o,r]=v(t==null?void 0:t.in,e,n),s=p(o),a=p(r),i=+s-S(s),c=+a-S(a);return Math.round((i-c)/J)}function D(e,n){const t=+f(e)-+f(n);return t<0?-1:t>0?1:t}function U(e){return F(e,Date.now())}function G(e,n,t){const[o,r]=v(t==null?void 0:t.in,e,n),s=o.getFullYear()-r.getFullYear(),a=o.getMonth()-r.getMonth();return s*12+a}function $(e,n,t){const[o,r]=v(t==null?void 0:t.in,e,n),s=A(o,r),a=Math.abs(Q(o,r));o.setDate(o.getDate()-s*a);const i=+(A(o,r)===-s),c=s*(a-i);return c===0?0:c}function A(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function K(e){return n=>{const o=(e?Math[e]:Math.trunc)(n);return o===0?0:o}}function Z(e,n){return+f(e)-+f(n)}function ee(e,n){const t=f(e);return t.setHours(23,59,59,999),t}function te(e,n){const t=f(e),o=t.getMonth();return t.setFullYear(t.getFullYear(),o+1,0),t.setHours(23,59,59,999),t}function ne(e,n){const t=f(e);return+ee(t)==+te(t)}function ae(e,n,t){const[o,r,s]=v(t==null?void 0:t.in,e,e,n),a=D(r,s),i=Math.abs(G(r,s));if(i<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let c=D(r,s)===-a;ne(o)&&i===1&&D(o,s)===1&&(c=!1);const l=a*(i-+c);return l===0?0:l}function re(e,n,t){const o=Z(e,n)/1e3;return K(t==null?void 0:t.roundingMethod)(o)}const oe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ie=(e,n,t)=>{let o;const r=oe[e];return typeof r=="string"?o=r:n===1?o=r.one:o=r.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+o:o+" ago":o};function x(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const se={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},de={date:x({formats:se,defaultWidth:"full"}),time:x({formats:ue,defaultWidth:"full"}),dateTime:x({formats:ce,defaultWidth:"full"})},le={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fe=(e,n,t,o)=>le[e];function b(e){return(n,t)=>{const o=t!=null&&t.context?String(t.context):"standalone";let r;if(o==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,i=t!=null&&t.width?String(t.width):a;r=e.formattingValues[i]||e.formattingValues[a]}else{const a=e.defaultWidth,i=t!=null&&t.width?String(t.width):e.defaultWidth;r=e.values[i]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(n):n;return r[s]}}const me={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},he={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},be={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Me={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ve=(e,n)=>{const t=Number(e),o=t%100;if(o>20||o<10)switch(o%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},we={ordinalNumber:ve,era:b({values:me,defaultWidth:"wide"}),quarter:b({values:he,defaultWidth:"wide",argumentCallback:e=>e-1}),month:b({values:ge,defaultWidth:"wide"}),day:b({values:ye,defaultWidth:"wide"}),dayPeriod:b({values:be,defaultWidth:"wide",formattingValues:Me,defaultFormattingWidth:"wide"})};function M(e){return(n,t={})=>{const o=t.width,r=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=n.match(r);if(!s)return null;const a=s[0],i=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(i)?Se(i,y=>y.test(a)):De(i,y=>y.test(a));let l;l=e.valueCallback?e.valueCallback(c):c,l=t.valueCallback?t.valueCallback(l):l;const m=n.slice(a.length);return{value:l,rest:m}}}function De(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function Se(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function Pe(e){return(n,t={})=>{const o=n.match(e.matchPattern);if(!o)return null;const r=o[0],s=n.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const i=n.slice(r.length);return{value:a,rest:i}}}const xe=/^(\d+)(th|st|nd|rd)?/i,Fe=/\d+/i,We={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ke={any:[/^b/i,/^(a|c)/i]},je={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ce={any:[/1/i,/2/i,/3/i,/4/i]},pe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Te={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Oe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_e={ordinalNumber:Pe({matchPattern:xe,parsePattern:Fe,valueCallback:e=>parseInt(e,10)}),era:M({matchPatterns:We,defaultMatchWidth:"wide",parsePatterns:ke,defaultParseWidth:"any"}),quarter:M({matchPatterns:je,defaultMatchWidth:"wide",parsePatterns:Ce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:M({matchPatterns:pe,defaultMatchWidth:"wide",parsePatterns:Ae,defaultParseWidth:"any"}),day:M({matchPatterns:Te,defaultMatchWidth:"wide",parsePatterns:Oe,defaultParseWidth:"any"}),dayPeriod:M({matchPatterns:Ne,defaultMatchWidth:"any",parsePatterns:Ie,defaultParseWidth:"any"})},Le={code:"en-US",formatDistance:ie,formatLong:de,formatRelative:fe,localize:we,match:_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xe(e,n,t){const o=B(),r=(t==null?void 0:t.locale)??o.locale??Le,s=2520,a=D(e,n);if(isNaN(a))throw new RangeError("Invalid time value");const i=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:a}),[c,l]=v(t==null?void 0:t.in,...a>0?[n,e]:[e,n]),m=re(l,c),y=(S(l)-S(c))/1e3,d=Math.round((m-y)/60);let g;if(d<2)return t!=null&&t.includeSeconds?m<5?r.formatDistance("lessThanXSeconds",5,i):m<10?r.formatDistance("lessThanXSeconds",10,i):m<20?r.formatDistance("lessThanXSeconds",20,i):m<40?r.formatDistance("halfAMinute",0,i):m<60?r.formatDistance("lessThanXMinutes",1,i):r.formatDistance("xMinutes",1,i):d===0?r.formatDistance("lessThanXMinutes",1,i):r.formatDistance("xMinutes",d,i);if(d<45)return r.formatDistance("xMinutes",d,i);if(d<90)return r.formatDistance("aboutXHours",1,i);if(d<j){const h=Math.round(d/60);return r.formatDistance("aboutXHours",h,i)}else{if(d<s)return r.formatDistance("xDays",1,i);if(d<w){const h=Math.round(d/j);return r.formatDistance("xDays",h,i)}else if(d<w*2)return g=Math.round(d/w),r.formatDistance("aboutXMonths",g,i)}if(g=ae(l,c),g<12){const h=Math.round(d/w);return r.formatDistance("xMonths",h,i)}else{const h=g%12,P=Math.trunc(g/12);return h<3?r.formatDistance("aboutXYears",P,i):h<9?r.formatDistance("overXYears",P,i):r.formatDistance("almostXYears",P+1,i)}}function Ye(e,n){return Xe(e,U(e),n)}const ze=N()(e=>({mb:{margin:e.spacing(1),marginBottom:e.spacing(4)}})),Ze=O(function({session:e}){var n;const{classes:t}=ze(),[o,r]=W.useLocalStorage("sessionManager-showOnlyFavs",!1),s=(n=e.savedSessionMetadata)===null||n===void 0?void 0:n.map(a=>({id:a.id,name:a.name,createdAt:a.createdAt,fav:a.favorite})).filter(a=>o?a.fav:!0);return u.jsxs("div",{children:[u.jsxs("div",{className:t.mb,children:[u.jsx(I,{control:u.jsx(_,{checked:o,onChange:()=>{r(a=>!a)}}),label:"Show only favorites?"}),u.jsx(L,{variant:"contained",onClick:()=>{let a=0;if(e.savedSessionMetadata)for(const i of e.savedSessionMetadata)$(+Date.now(),i.createdAt)>1&&!i.favorite&&(e.deleteSavedSession(i.id),a++);e.notify(`${a} sessions deleted`,"info")},children:"Delete non-fav sessions older than 7 days?"})]}),s?u.jsx(H,{children:u.jsx(q,{columnHeaderHeight:35,rowHeight:25,hideFooter:s.length<100,slotProps:{toolbar:{showQuickFilter:!0}},rows:s,columns:[{field:"fav",headerName:"Fav",width:20,renderCell:({row:a})=>u.jsx(k,{onClick:()=>{a.fav?e.unfavoriteSavedSession(a.id):e.favoriteSavedSession(a.id)},children:a.fav?u.jsx(V,{}):u.jsx(E,{})})},{field:"name",headerName:"Name",editable:!0,width:W.measureGridWidth(s.map(a=>a.name)),renderCell:({row:a})=>u.jsxs(u.Fragment,{children:[u.jsx(X,{href:"#",onClick:i=>{i.preventDefault(),e.activateSession(a.id)},children:a.name}),e.id===a.id?" (current)":""]})},{headerName:"Created at",field:"createdAt",renderCell:({row:a})=>u.jsx(Y,{disableInteractive:!0,slotProps:{transition:{timeout:0}},title:a.createdAt.toLocaleString(),children:u.jsx("div",{children:Ye(a.createdAt,{addSuffix:!0})})})},{field:"delete",width:10,headerName:"Delete",renderCell:({row:a})=>u.jsx(k,{onClick:()=>{e.deleteSavedSession(a.id)},children:u.jsx(z,{})})}]})}):u.jsx("div",{children:"No sessions loaded"})]})});export{Ze as default};
//# sourceMappingURL=SessionManager-xR0KO1ML.js.map
