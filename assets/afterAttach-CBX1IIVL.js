import{be as i,U as s,V as c,y as d}from"./index-CT2bM4yV.js";async function g(t){const{rpcSessionId:a}=i.getContainingTrack(t),{rpcManager:o}=i.getSession(t),n=i.getContainingView(t);if(!n.initialized||t.error||!t.statsReadyAndRegionNotTooLarge)return;t.setLoading(!0);const e=await o.call(a,"CoreGetFeatures",{sessionId:a,regions:n.staticBlocks.contentBlocks,adapterConfig:t.adapterConfig});t.setFeatures(i.dedupe(e,r=>r.id())),t.setLoading(!1)}function u(t,a,o){s(t,c(async()=>{try{await a()}catch(n){d(t)&&t.setError(n)}},o))}function y(t){u(t,async()=>{await g(t)},{delay:1e3})}export{y as doAfterAttach};
//# sourceMappingURL=afterAttach-CBX1IIVL.js.map
