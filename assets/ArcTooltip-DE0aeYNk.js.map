{"version":3,"file":"ArcTooltip-DE0aeYNk.js","sources":["../../node_modules/@jbrowse/plugin-arc/node_modules/@jbrowse/core/ui/BaseTooltip.js","../../node_modules/@jbrowse/plugin-arc/esm/ArcTooltip.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = BaseTooltip;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"@floating-ui/react\");\nconst material_1 = require(\"@mui/material\");\nconst mui_1 = require(\"tss-react/mui\");\nfunction round(value) {\n    return Math.round(value * 1e5) / 1e5;\n}\nconst useStyles = (0, mui_1.makeStyles)()(theme => ({\n    tooltip: {\n        position: 'absolute',\n        pointerEvents: 'none',\n        backgroundColor: (0, material_1.alpha)(theme.palette.grey[700], 0.9),\n        borderRadius: theme.shape.borderRadius,\n        color: theme.palette.common.white,\n        fontFamily: theme.typography.fontFamily,\n        padding: '4px 8px',\n        fontSize: theme.typography.fontSize,\n        lineHeight: `${round(14 / 10)}em`,\n        maxWidth: 300,\n        wordWrap: 'break-word',\n    },\n}));\nfunction BaseTooltip({ clientPoint: clientPointCoords, children, placement = 'right', }) {\n    var _a, _b;\n    const theme = (0, material_1.useTheme)();\n    const popperTheme = (_a = theme.components) === null || _a === void 0 ? void 0 : _a.MuiPopper;\n    const { classes } = useStyles();\n    const { refs, floatingStyles, context } = (0, react_1.useFloating)({\n        placement,\n        strategy: 'fixed',\n        middleware: [(0, react_1.offset)(5)],\n    });\n    const clientPoint = (0, react_1.useClientPoint)(context, clientPointCoords);\n    const { getFloatingProps } = (0, react_1.useInteractions)([clientPoint]);\n    return ((0, jsx_runtime_1.jsx)(material_1.Portal, { container: (_b = popperTheme === null || popperTheme === void 0 ? void 0 : popperTheme.defaultProps) === null || _b === void 0 ? void 0 : _b.container, children: (0, jsx_runtime_1.jsx)(\"div\", { className: classes.tooltip, ref: refs.setFloating, style: {\n                ...floatingStyles,\n                zIndex: 100000,\n                visibility: floatingStyles.transform === 'translate(0px, 0px)'\n                    ? 'hidden'\n                    : undefined,\n                pointerEvents: 'none',\n            }, ...getFloatingProps(), children: children }) }));\n}\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Suspense, forwardRef, isValidElement } from 'react';\nimport { SanitizedHTML } from '@jbrowse/core/ui';\nimport BaseTooltip from '@jbrowse/core/ui/BaseTooltip';\nimport { observer } from 'mobx-react';\nconst TooltipContents = forwardRef(function TooltipContents2({ message }, ref) {\n    return (_jsx(\"div\", { ref: ref, children: isValidElement(message) ? (message) : message ? (_jsx(SanitizedHTML, { html: String(message) })) : null }));\n});\nconst ArcTooltip = observer(function ({ contents }) {\n    return contents ? (_jsx(Suspense, { fallback: null, children: _jsx(BaseTooltip, { children: _jsx(TooltipContents, { message: contents }) }) })) : null;\n});\nexport default ArcTooltip;\n"],"names":["BaseTooltip_1","_default","BaseTooltip","jsx_runtime_1","require$$0","react_1","require$$1","material_1","require$$2","mui_1","require$$3","round","value","useStyles","theme","clientPointCoords","children","placement","_a","_b","popperTheme","classes","refs","floatingStyles","context","clientPoint","getFloatingProps","TooltipContents","forwardRef","message","ref","_jsx","isValidElement","SanitizedHTML","ArcTooltip","observer","contents","Suspense"],"mappings":"+FACA,OAAO,eAAeA,EAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,IAAeC,EAAAD,EAAA,QAAGE,EAClB,MAAMC,EAAgBC,EAChBC,EAAUC,EACVC,EAAaC,EACbC,EAAQC,EACd,SAASC,EAAMC,EAAO,CAClB,OAAO,KAAK,MAAMA,EAAQ,GAAG,EAAI,GACrC,CACA,MAAMC,KAAgBJ,EAAM,YAAU,EAAIK,IAAU,CAChD,QAAS,CACL,SAAU,WACV,cAAe,OACf,mBAAqBP,EAAW,OAAOO,EAAM,QAAQ,KAAK,GAAG,EAAG,EAAG,EACnE,aAAcA,EAAM,MAAM,aAC1B,MAAOA,EAAM,QAAQ,OAAO,MAC5B,WAAYA,EAAM,WAAW,WAC7B,QAAS,UACT,SAAUA,EAAM,WAAW,SAC3B,WAAY,GAAGH,EAAM,GAAK,EAAE,CAAC,KAC7B,SAAU,IACV,SAAU,YACb,CACL,EAAE,EACF,SAAST,EAAY,CAAE,YAAaa,EAAmB,SAAAC,EAAU,UAAAC,EAAY,SAAY,CACrF,IAAIC,EAAIC,EAER,MAAMC,GAAeF,KADHX,EAAW,UAAW,EACR,cAAgB,MAAQW,IAAO,OAAS,OAASA,EAAG,UAC9E,CAAE,QAAAG,CAAS,EAAGR,EAAW,EACzB,CAAE,KAAAS,EAAM,eAAAC,EAAgB,QAAAC,CAAO,KAASnB,EAAQ,aAAa,CAC/D,UAAAY,EACA,SAAU,QACV,WAAY,IAAKZ,EAAQ,QAAQ,CAAC,CAAC,CAC3C,CAAK,EACKoB,KAAkBpB,EAAQ,gBAAgBmB,EAAST,CAAiB,EACpE,CAAE,iBAAAW,CAAgB,KAASrB,EAAQ,iBAAiB,CAACoB,CAAW,CAAC,EACvE,SAAYtB,EAAc,KAAKI,EAAW,OAAQ,CAAE,WAAYY,EAAKC,GAAgB,KAAiC,OAASA,EAAY,gBAAkB,MAAQD,IAAO,OAAS,OAASA,EAAG,UAAW,YAAchB,EAAc,KAAK,MAAO,CAAE,UAAWkB,EAAQ,QAAS,IAAKC,EAAK,YAAa,MAAO,CACpS,GAAGC,EACH,OAAQ,IACR,WAAYA,EAAe,YAAc,sBACnC,SACA,OACN,cAAe,MAClB,EAAE,GAAGG,EAAkB,EAAE,SAAUV,CAAQ,CAAE,CAAC,CAAE,CAC7D,CCxCA,MAAMW,EAAkBC,EAAU,WAAC,SAA0B,CAAE,QAAAC,CAAO,EAAIC,EAAK,CAC3E,OAAQC,EAAI,IAAC,MAAO,CAAE,IAAKD,EAAK,SAAUE,EAAAA,eAAeH,CAAO,EAAKA,EAAWA,EAAWE,EAAI,IAACE,EAAa,cAAE,CAAE,KAAM,OAAOJ,CAAO,CAAC,CAAE,EAAK,KAAM,CACvJ,CAAC,EACKK,EAAaC,EAAS,SAAU,CAAE,SAAAC,GAAY,CAChD,OAAOA,EAAYL,EAAI,IAACM,WAAU,CAAE,SAAU,KAAM,SAAUN,EAAAA,IAAK7B,EAAa,CAAE,SAAU6B,EAAI,IAACJ,EAAiB,CAAE,QAASS,CAAQ,CAAE,CAAG,CAAA,CAAG,CAAA,EAAK,IACtJ,CAAC","x_google_ignoreList":[0,1]}