{"version":3,"mappings":"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","names":["util","isEmpty","generateTitle","generateMaxWidth","accessNested","util_1","require$$0","util_2","require$$1","obj","name","id","type","f","array","prefix","key","arr","obj2","elt","hooks","useFeatureSequence","react_1","configuration_1","require$$2","BPLIMIT","model","feature","upDownBp","forceLoad","sequence","setSequence","error","setError","_a","_b","assemblyManager","rpcManager","assemblyName","fetchSeq","start","end","refName","assembly","sessionId","feats","feat","b","e","seq","up","down","SettingsDialog","jsx_runtime_1","ui_1","material_1","require$$3","mobx_react_1","require$$4","useStyles","require$$5","theme","TextField2","props","FormControl2","children","SequenceFeatureSettingsDialog","handleClose","classes","upperCaseCDS","intronBp","setIntronBp","setUpDownBp","intronBpValid","upDownBpValid","event","__createBinding","this","o","m","k","k2","desc","__setModuleDefault","v","__importStar","ownKeys","ar","mod","result","i","__importDefault","SequenceFeatureMenu_1","MoreVert_1","Settings_1","copy_to_clipboard_1","file_saver_1","require$$6","CascadingMenuButton_1","require$$7","require$$8","SequenceFeatureMenu","extraItems","ref","showSettings","setShowSettings","showCoordinatesSetting","showGenomicCoordsOption","r","SequenceTypeSelector_1","SequenceTypeSelector","mode","hasCDS","hasExonOrCDS","val","splitString","str","charactersPerRow","showCoordinates","currRemainder","splitSize","numChunks","chunks","splitStart","iter","offset","inc","res","j","SequenceDisplay_1","SequenceDisplay","color","strand","coordStart","chunk","idx","postfix","CDNASequence_1","CDNASequence","utr","cds","exons","upstream","downstream","includeIntrons","collapseIntron","hasCds","a","toLower","s","toUpper","fullGenomicCoordinates","mult","currStart","upstreamChunk","segments","remainder","middleChunks","intron","downstreamChunk","CDSSequence_1","CDSSequence","GenomicSequence_1","GenomicSequence","middleChunk","ProteinSequence_1","ProteinSequence","codonTable","protein","SequenceContents_1","SequenceContents","sub","SequenceName_1","getStrand","SequenceName","SequencePanel_1","WordWrap","NoWordWrap","SequencePanel","Container","SequenceDialog_1","mui_1","hooks_1","require$$9","SequenceDialog","sequenceFeatureDetails","seqPanelRef","force","setForce","SequenceFeatureDetails_1","SequenceFeatureDetails","openInDialog","setOpenInDialog","HelpDialog_1","HelpDialog","SequenceFeaturePanel_1","Help_1","SequenceFeaturePanel","shown","setShown","exports","BasicValue_1","BasicValue","value","isLink","FieldName_1","FieldName","description","width","cx","ArrayValue_1","ArrayValue","Attributes_1","DataGridDetails_1","DataGridDetails","x_data_grid_1","checked","setChecked","keys","unionKeys","rows","rest","colNames","widths","index","params","SimpleField_1","_default","SimpleField","UriField_1","UriField","uri","baseUri","href","Attributes","MAX_FIELD_NAME_WIDTH","globalOmit","attributes","omit","omitSingleLevel","descriptions","formatter","hideUris","omits","__jbrowsefmt","formattedAttributes","maxLabelWidth","BaseCard_1","BaseCard","ExpandMore_1","title","defaultExpanded","Position_1","Position","strandMap","loc","CoreDetails_1","CoreDetails","formattedFeat","displayedDetails","coreRenderedDetails","FeatureDetails_1","FeatureDetails","ErrorBoundary_1","coreDetails","depth","maxDepth","mate","subfeatures","uniqueId","pm","session","ExtraPanel","makeStyles","flagNames","AlignmentFlags","flags","_jsxs","_jsx","FormGroup","FormControlLabel","Checkbox","Formatter","show","setShow","useState","copied","setCopied","display","_Fragment","copy","getTag","tag","navToLoc","locString","getSession","view","PairLink","Link","tags","SupplementaryAlignments","lazy","__vitePreload","LinkedPairedAlignments","AlignmentsFeatureDetails","observer","featureData","SA","Paper","Flags"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35],"sources":["../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/util.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/hooks.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/dialogs/SettingsDialog.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/dialogs/SequenceFeatureMenu.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/dialogs/SequenceTypeSelector.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/util.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/seqtypes/SequenceDisplay.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/seqtypes/CDNASequence.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/seqtypes/CDSSequence.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/seqtypes/GenomicSequence.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/seqtypes/ProteinSequence.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/SequenceContents.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/SequenceName.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/SequencePanel.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/dialogs/SequenceDialog.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/SequenceFeatureDetails.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/dialogs/HelpDialog.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/SequenceFeaturePanel.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/SequenceFeatureDetails/index.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/BasicValue.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/FieldName.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/ArrayValue.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/DataGridDetails.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/SimpleField.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/UriField.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/Attributes.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/BaseCard.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/Position.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/CoreDetails.js","../../node_modules/@jbrowse/plugin-alignments/node_modules/@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/FeatureDetails.js","../../node_modules/@jbrowse/plugin-alignments/esm/AlignmentsFeatureDetail/Flags.js","../../node_modules/@jbrowse/plugin-alignments/esm/AlignmentsFeatureDetail/Formatter.js","../../node_modules/@jbrowse/plugin-alignments/esm/AlignmentsFeatureDetail/util.js","../../node_modules/@jbrowse/plugin-alignments/esm/AlignmentsFeatureDetail/PairLink.js","../../node_modules/@jbrowse/plugin-alignments/esm/AlignmentsFeatureDetail/tagInfo.js","../../node_modules/@jbrowse/plugin-alignments/esm/AlignmentsFeatureDetail/AlignmentsFeatureDetail.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEmpty = isEmpty;\nexports.generateTitle = generateTitle;\nexports.generateMaxWidth = generateMaxWidth;\nexports.accessNested = accessNested;\nconst util_1 = require(\"../../util\");\nconst util_2 = require(\"../util\");\nfunction isEmpty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction generateTitle(name, id, type) {\n    return [(0, util_2.ellipses)(`${name || id || ''}`), `${type}`]\n        .filter(f => !!f)\n        .join(' - ');\n}\nfunction generateMaxWidth(array, prefix) {\n    return (Math.ceil((0, util_1.max)(array.map(key => (0, util_1.measureText)([...prefix, key[0]].join('.'), 12)))) + 10);\n}\nfunction accessNested(arr, obj = {}) {\n    let obj2 = obj;\n    for (const elt of arr) {\n        if ((0, util_1.isObject)(obj2)) {\n            obj2 = obj2[elt];\n        }\n    }\n    return typeof obj2 === 'string'\n        ? obj2\n        : (0, util_1.isObject)(obj2) && typeof obj2.Description === 'string'\n            ? obj2.Description\n            : undefined;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useFeatureSequence = useFeatureSequence;\nconst react_1 = require(\"react\");\nconst configuration_1 = require(\"../../configuration\");\nconst util_1 = require(\"../../util\");\nconst BPLIMIT = 500000;\nfunction useFeatureSequence(model, feature, upDownBp, forceLoad) {\n    const [sequence, setSequence] = (0, react_1.useState)();\n    const [error, setError] = (0, react_1.useState)();\n    (0, react_1.useEffect)(() => {\n        var _a, _b;\n        if (!model) {\n            return;\n        }\n        const { assemblyManager, rpcManager } = (0, util_1.getSession)(model);\n        const assemblyName = ((_b = (_a = model.view) === null || _a === void 0 ? void 0 : _a.assemblyNames) === null || _b === void 0 ? void 0 : _b[0]) || '';\n        async function fetchSeq(start, end, refName) {\n            const assembly = await assemblyManager.waitForAssembly(assemblyName);\n            if (!assembly) {\n                throw new Error('assembly not found');\n            }\n            const sessionId = 'getSequence';\n            const feats = await rpcManager.call(sessionId, 'CoreGetFeatures', {\n                adapterConfig: (0, configuration_1.getConf)(assembly, ['sequence', 'adapter']),\n                sessionId,\n                regions: [\n                    {\n                        start,\n                        end,\n                        refName: assembly.getCanonicalRefName(refName),\n                        assemblyName,\n                    },\n                ],\n            });\n            const [feat] = feats;\n            return (feat === null || feat === void 0 ? void 0 : feat.get('seq')) || '';\n        }\n        ;\n        (async () => {\n            try {\n                setError(undefined);\n                const { start, end, refName } = feature;\n                if (!forceLoad && end - start > BPLIMIT) {\n                    setSequence({\n                        error: `Genomic sequence larger than ${BPLIMIT}bp, use \"force load\" button to display`,\n                    });\n                }\n                else {\n                    const b = start - upDownBp;\n                    const e = end + upDownBp;\n                    const seq = await fetchSeq(start, end, refName);\n                    const up = await fetchSeq(Math.max(0, b), start, refName);\n                    const down = await fetchSeq(end, e, refName);\n                    setSequence({ seq, upstream: up, downstream: down });\n                }\n            }\n            catch (e) {\n                console.error(e);\n                setError(e);\n            }\n        })();\n    }, [feature, model, upDownBp, forceLoad]);\n    return { sequence, error };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst ui_1 = require(\"@jbrowse/core/ui\");\nconst material_1 = require(\"@mui/material\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst mui_1 = require(\"tss-react/mui\");\nconst useStyles = (0, mui_1.makeStyles)()(theme => ({\n    formElt: {\n        margin: theme.spacing(3),\n        width: 400,\n    },\n    dialogContent: {\n        width: '80em',\n    },\n    root: {\n        padding: 4,\n    },\n}));\nfunction TextField2(props) {\n    return ((0, jsx_runtime_1.jsx)(\"div\", { children: (0, jsx_runtime_1.jsx)(material_1.TextField, { ...props }) }));\n}\nfunction FormControl2({ children }) {\n    return ((0, jsx_runtime_1.jsx)(\"div\", { children: (0, jsx_runtime_1.jsx)(material_1.FormControl, { children: children }) }));\n}\nconst SequenceFeatureSettingsDialog = (0, mobx_react_1.observer)(function ({ handleClose, model, }) {\n    const { classes } = useStyles();\n    const { upperCaseCDS } = model;\n    const [intronBp, setIntronBp] = (0, react_1.useState)(`${model.intronBp}`);\n    const [upDownBp, setUpDownBp] = (0, react_1.useState)(`${model.upDownBp}`);\n    const intronBpValid = !Number.isNaN(+intronBp);\n    const upDownBpValid = !Number.isNaN(+upDownBp);\n    return ((0, jsx_runtime_1.jsxs)(ui_1.Dialog, { maxWidth: \"xl\", open: true, onClose: () => {\n            handleClose();\n        }, title: \"Feature sequence settings\", children: [(0, jsx_runtime_1.jsxs)(material_1.DialogContent, { className: classes.dialogContent, children: [(0, jsx_runtime_1.jsx)(TextField2, { label: \"Number of intronic bases around splice site to display\", className: classes.formElt, value: intronBp, helperText: !intronBpValid ? 'Not a number' : '', error: !intronBpValid, onChange: event => {\n                            setIntronBp(event.target.value);\n                        } }), (0, jsx_runtime_1.jsx)(TextField2, { label: \"Number of bases up/down stream of feature to display\", className: classes.formElt, value: upDownBp, helperText: !upDownBpValid ? 'Not a number' : '', error: !upDownBpValid, onChange: event => {\n                            setUpDownBp(event.target.value);\n                        } }), (0, jsx_runtime_1.jsxs)(FormControl2, { children: [(0, jsx_runtime_1.jsx)(material_1.FormLabel, { children: \"Sequence capitalization\" }), (0, jsx_runtime_1.jsxs)(material_1.RadioGroup, { value: upperCaseCDS ? 'cds' : 'unchanged', onChange: e => {\n                                    model.setUpperCaseCDS(e.target.value === 'cds');\n                                }, children: [(0, jsx_runtime_1.jsx)(material_1.FormControlLabel, { value: \"cds\", control: (0, jsx_runtime_1.jsx)(material_1.Radio, { className: classes.root, size: \"small\" }), label: \"Capitalize CDS and lower case everything else\" }), (0, jsx_runtime_1.jsx)(material_1.FormControlLabel, { value: \"unchanged\", control: (0, jsx_runtime_1.jsx)(material_1.Radio, { className: classes.root, size: \"small\" }), label: \"Capitalization from reference genome sequence\" })] })] })] }), (0, jsx_runtime_1.jsxs)(material_1.DialogActions, { children: [(0, jsx_runtime_1.jsx)(material_1.Button, { onClick: () => {\n                            model.setIntronBp(+intronBp);\n                            model.setUpDownBp(+upDownBp);\n                            handleClose();\n                        }, disabled: !intronBpValid || !upDownBpValid, color: \"primary\", variant: \"contained\", children: \"Submit\" }), (0, jsx_runtime_1.jsx)(material_1.Button, { onClick: () => {\n                            handleClose();\n                        }, color: \"secondary\", autoFocus: true, variant: \"contained\", children: \"Cancel\" })] })] }));\n});\nexports.default = SequenceFeatureSettingsDialog;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst MoreVert_1 = __importDefault(require(\"@mui/icons-material/MoreVert\"));\nconst Settings_1 = __importDefault(require(\"@mui/icons-material/Settings\"));\nconst copy_to_clipboard_1 = __importDefault(require(\"copy-to-clipboard\"));\nconst file_saver_1 = require(\"file-saver\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst CascadingMenuButton_1 = __importDefault(require(\"../../../ui/CascadingMenuButton\"));\nconst SequenceFeatureSettingsDialog = (0, react_1.lazy)(() => Promise.resolve().then(() => __importStar(require('./SettingsDialog'))));\nconst SequenceFeatureMenu = (0, mobx_react_1.observer)((0, react_1.forwardRef)(function SequenceFeatureMenu2({ model, extraItems = [] }, ref) {\n    if (typeof ref === 'function') {\n        throw new Error('needs a non function ref');\n    }\n    const [showSettings, setShowSettings] = (0, react_1.useState)(false);\n    const { showCoordinatesSetting, showGenomicCoordsOption } = model;\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(CascadingMenuButton_1.default, { menuItems: [\n                    {\n                        label: 'Copy plaintext',\n                        onClick: () => {\n                            const r = ref === null || ref === void 0 ? void 0 : ref.current;\n                            if (r) {\n                                (0, copy_to_clipboard_1.default)(r.textContent || '', { format: 'text/plain' });\n                            }\n                        },\n                    },\n                    {\n                        label: 'Copy HTML',\n                        onClick: () => {\n                            const r = ref === null || ref === void 0 ? void 0 : ref.current;\n                            if (r) {\n                                (0, copy_to_clipboard_1.default)(r.outerHTML, { format: 'text/html' });\n                            }\n                        },\n                    },\n                    {\n                        label: 'Download plaintext',\n                        onClick: () => {\n                            const r = ref === null || ref === void 0 ? void 0 : ref.current;\n                            if (r) {\n                                (0, file_saver_1.saveAs)(new Blob([r.textContent || ''], {\n                                    type: 'text/plain;charset=utf-8',\n                                }), 'sequence.txt');\n                            }\n                        },\n                    },\n                    {\n                        label: 'Download HTML',\n                        onClick: () => {\n                            const r = ref === null || ref === void 0 ? void 0 : ref.current;\n                            if (r) {\n                                (0, file_saver_1.saveAs)(new Blob([r.outerHTML || ''], {\n                                    type: 'text/html;charset=utf-8',\n                                }), 'sequence.html');\n                            }\n                        },\n                    },\n                    ...extraItems,\n                    {\n                        label: 'Show coordinates?',\n                        type: 'subMenu',\n                        subMenu: [\n                            {\n                                label: 'No coordinates',\n                                type: 'radio',\n                                checked: showCoordinatesSetting === 'none',\n                                onClick: () => {\n                                    model.setShowCoordinates('none');\n                                },\n                            },\n                            {\n                                label: 'Coordinates relative to feature start',\n                                type: 'radio',\n                                checked: showCoordinatesSetting === 'relative',\n                                onClick: () => {\n                                    model.setShowCoordinates('relative');\n                                },\n                            },\n                            ...(showGenomicCoordsOption\n                                ? [\n                                    {\n                                        label: 'Coordinates relative to genome (only available for continuous genome based sequence types)',\n                                        type: 'radio',\n                                        checked: showCoordinatesSetting === 'genomic',\n                                        onClick: () => {\n                                            model.setShowCoordinates('genomic');\n                                        },\n                                    },\n                                ]\n                                : []),\n                        ],\n                    },\n                    {\n                        label: 'Settings',\n                        icon: Settings_1.default,\n                        onClick: () => {\n                            setShowSettings(true);\n                        },\n                    },\n                ], children: (0, jsx_runtime_1.jsx)(MoreVert_1.default, {}) }), showSettings ? ((0, jsx_runtime_1.jsx)(SequenceFeatureSettingsDialog, { model: model, handleClose: () => {\n                    setShowSettings(false);\n                } })) : null] }));\n}));\nexports.default = SequenceFeatureMenu;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst material_1 = require(\"@mui/material\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst mui_1 = require(\"tss-react/mui\");\nconst useStyles = (0, mui_1.makeStyles)()({\n    formControl: {\n        margin: 0,\n        marginLeft: 4,\n    },\n});\nconst SequenceTypeSelector = (0, mobx_react_1.observer)(function ({ model, }) {\n    const { classes } = useStyles();\n    const { intronBp, upDownBp, mode, hasCDS, hasExonOrCDS } = model;\n    return ((0, jsx_runtime_1.jsx)(material_1.FormControl, { className: classes.formControl, children: (0, jsx_runtime_1.jsx)(material_1.Select, { size: \"small\", value: mode, onChange: event => {\n                model.setMode(event.target.value);\n            }, children: Object.entries({\n                ...(hasCDS\n                    ? {\n                        cds: 'CDS',\n                    }\n                    : {}),\n                ...(hasCDS\n                    ? {\n                        protein: 'Protein',\n                    }\n                    : {}),\n                ...(hasExonOrCDS\n                    ? {\n                        cdna: 'cDNA',\n                    }\n                    : {}),\n                ...(hasExonOrCDS\n                    ? {\n                        gene: 'Genomic w/ full introns',\n                    }\n                    : {}),\n                ...(hasExonOrCDS\n                    ? {\n                        gene_updownstream: `Genomic w/ full introns +/- ${upDownBp}bp up+down stream`,\n                    }\n                    : {}),\n                ...(hasExonOrCDS\n                    ? {\n                        gene_collapsed_intron: `Genomic w/ ${intronBp}bp intron`,\n                    }\n                    : {}),\n                ...(hasExonOrCDS\n                    ? {\n                        gene_updownstream_collapsed_intron: `Genomic w/ ${intronBp}bp intron +/- ${upDownBp}bp up+down stream `,\n                    }\n                    : {}),\n                ...(!hasExonOrCDS\n                    ? {\n                        genomic: 'Genomic',\n                    }\n                    : {}),\n                ...(!hasExonOrCDS\n                    ? {\n                        genomic_sequence_updownstream: `Genomic +/- ${upDownBp}bp up+down stream`,\n                    }\n                    : {}),\n            }).map(([key, val]) => ((0, jsx_runtime_1.jsx)(material_1.MenuItem, { value: key, children: val }, key))) }) }));\n});\nexports.default = SequenceTypeSelector;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.genomeColor = exports.updownstreamColor = exports.cdsColor = exports.proteinColor = exports.utrColor = exports.intronColor = void 0;\nexports.splitString = splitString;\nexports.intronColor = undefined;\nexports.utrColor = 'rgb(200,240,240)';\nexports.proteinColor = 'rgb(220,160,220)';\nexports.cdsColor = 'rgb(220,220,180)';\nexports.updownstreamColor = 'rgba(250,200,200)';\nexports.genomeColor = 'rgb(200,280,200)';\nfunction splitString({ str, charactersPerRow, showCoordinates, currRemainder = 0, splitSize = 10, }) {\n    var _a;\n    const numChunks = Math.ceil(str.length / charactersPerRow);\n    const chunks = new Array(numChunks);\n    let splitStart = currRemainder % 10;\n    let iter = 0;\n    let offset = 0;\n    for (; iter < numChunks + 1; ++iter) {\n        const inc = iter === 0 ? charactersPerRow - currRemainder : charactersPerRow;\n        const r = str.slice(offset, offset + inc);\n        if (!r) {\n            break;\n        }\n        if (showCoordinates) {\n            let res = '';\n            for (let i = 0, j = splitStart; i < r.length; i++, j++) {\n                if (j % splitSize === 0) {\n                    res += ' ';\n                    j = 0;\n                }\n                res += r[i];\n            }\n            if (res) {\n                chunks[iter] = res;\n            }\n        }\n        else {\n            chunks[iter] = r;\n        }\n        splitStart = 0;\n        offset += inc;\n    }\n    return {\n        segments: chunks,\n        remainder: ((((_a = chunks.at(-1)) === null || _a === void 0 ? void 0 : _a.replaceAll(' ', '').length) || 0) +\n            (iter < 2 ? currRemainder : 0)) %\n            charactersPerRow,\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst SequenceDisplay = (0, mobx_react_1.observer)(function ({ chunks, start, color, strand = 1, coordStart = start, model, }) {\n    const { charactersPerRow, showCoordinates } = model;\n    return chunks.map((chunk, idx) => {\n        var _a;\n        const f = coordStart - (start % charactersPerRow);\n        const prefix = (idx === 0 && start % charactersPerRow === 0) || idx > 0\n            ? `${`${f + idx * strand * charactersPerRow}`.padStart(4)}   `\n            : '';\n        const postfix = idx === chunks.length - 1 &&\n            (((_a = chunks.at(-1)) === null || _a === void 0 ? void 0 : _a.replaceAll(' ', '').length) || 0) +\n                (idx === 0 ? start % charactersPerRow : 0) !==\n                charactersPerRow\n            ? null\n            : showCoordinates\n                ? ' \\n'\n                : '';\n        return ((0, jsx_runtime_1.jsxs)(react_1.Fragment, { children: [showCoordinates ? prefix : null, (0, jsx_runtime_1.jsx)(\"span\", { style: { background: color }, children: chunk }), postfix] }, `${chunk}-${idx}`));\n    });\n});\nexports.default = SequenceDisplay;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst util_1 = require(\"../util\");\nconst SequenceDisplay_1 = __importDefault(require(\"./SequenceDisplay\"));\nconst CDNASequence = (0, mobx_react_1.observer)(function ({ utr, cds, exons, sequence, upstream, downstream, feature, includeIntrons, collapseIntron, model, }) {\n    var _a;\n    const { upperCaseCDS, intronBp, charactersPerRow, showCoordinates, showCoordinatesSetting, } = model;\n    const hasCds = cds.length > 0;\n    const chunks = (cds.length ? [...cds, ...utr].sort((a, b) => a.start - b.start) : exons).filter(f => f.start !== f.end);\n    const toLower = (s) => (upperCaseCDS ? s.toLowerCase() : s);\n    const toUpper = (s) => (upperCaseCDS ? s.toUpperCase() : s);\n    const strand = feature.strand === -1 ? -1 : 1;\n    const fullGenomicCoordinates = showCoordinatesSetting === 'genomic' && includeIntrons && !collapseIntron;\n    const mult = fullGenomicCoordinates ? strand : 1;\n    let coordStart = fullGenomicCoordinates\n        ? strand > 0\n            ? feature.start + 1 - ((upstream === null || upstream === void 0 ? void 0 : upstream.length) || 0)\n            : feature.end + ((upstream === null || upstream === void 0 ? void 0 : upstream.length) || 0)\n        : 0;\n    let currStart = 0;\n    let currRemainder = 0;\n    let upstreamChunk = null;\n    if (upstream) {\n        const { segments, remainder } = (0, util_1.splitString)({\n            str: toLower(upstream),\n            charactersPerRow,\n            showCoordinates,\n        });\n        upstreamChunk = ((0, jsx_runtime_1.jsx)(SequenceDisplay_1.default, { model: model, color: util_1.updownstreamColor, strand: mult, start: currStart, coordStart: coordStart, chunks: segments }));\n        currRemainder = remainder;\n        currStart = currStart + upstream.length * mult;\n        coordStart = coordStart + upstream.length * mult;\n    }\n    const middleChunks = [];\n    for (let idx = 0; idx < chunks.length; idx++) {\n        const chunk = chunks[idx];\n        const intron = sequence.slice(chunk.end, (_a = chunks[idx + 1]) === null || _a === void 0 ? void 0 : _a.start);\n        const s = sequence.slice(chunk.start, chunk.end);\n        const { segments, remainder } = (0, util_1.splitString)({\n            str: hasCds\n                ? chunk.type === 'CDS'\n                    ? toUpper(s)\n                    : toLower(s)\n                : toUpper(s),\n            charactersPerRow,\n            currRemainder,\n            showCoordinates,\n        });\n        middleChunks.push((0, jsx_runtime_1.jsx)(SequenceDisplay_1.default, { model: model, color: chunk.type === 'CDS' ? util_1.cdsColor : util_1.utrColor, strand: mult, start: currStart, coordStart: coordStart, chunks: segments }, `${JSON.stringify(chunk)}-mid`));\n        currRemainder = remainder;\n        currStart = currStart + s.length * mult;\n        coordStart = coordStart + s.length * mult;\n        if (intron && includeIntrons && idx < chunks.length - 1) {\n            const str = toLower(collapseIntron && intron.length > intronBp * 2\n                ? `${intron.slice(0, intronBp)}...${intron.slice(-intronBp)}`\n                : intron);\n            const { segments, remainder } = (0, util_1.splitString)({\n                str,\n                charactersPerRow,\n                currRemainder,\n                showCoordinates,\n            });\n            if (segments.length) {\n                middleChunks.push((0, jsx_runtime_1.jsx)(SequenceDisplay_1.default, { model: model, strand: mult, coordStart: coordStart, start: currStart, chunks: segments }, `${JSON.stringify(chunk)}-intron`));\n                currRemainder = remainder;\n                currStart = currStart + str.length * mult;\n                coordStart = coordStart + str.length * mult;\n            }\n        }\n    }\n    let downstreamChunk = null;\n    if (downstream) {\n        const { segments } = (0, util_1.splitString)({\n            str: toLower(downstream),\n            charactersPerRow,\n            currRemainder,\n            showCoordinates,\n        });\n        downstreamChunk = ((0, jsx_runtime_1.jsx)(SequenceDisplay_1.default, { start: currStart, model: model, strand: mult, chunks: segments, coordStart: coordStart, color: util_1.updownstreamColor }));\n    }\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [upstreamChunk, middleChunks, downstreamChunk] }));\n});\nexports.default = CDNASequence;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst util_1 = require(\"../../util\");\nconst util_2 = require(\"../util\");\nconst SequenceDisplay_1 = __importDefault(require(\"./SequenceDisplay\"));\nconst CDSSequence = (0, mobx_react_1.observer)(function ({ cds, sequence, model, }) {\n    const { charactersPerRow, showCoordinates } = model;\n    const { segments } = (0, util_2.splitString)({\n        str: (0, util_1.stitch)(cds, sequence),\n        charactersPerRow,\n        showCoordinates,\n    });\n    return ((0, jsx_runtime_1.jsx)(SequenceDisplay_1.default, { model: model, color: util_2.cdsColor, chunks: segments, start: 0 }));\n});\nexports.default = CDSSequence;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst util_1 = require(\"../util\");\nconst SequenceDisplay_1 = __importDefault(require(\"./SequenceDisplay\"));\nconst GenomicSequence = (0, mobx_react_1.observer)(function ({ sequence, upstream, feature, downstream, model, }) {\n    const { charactersPerRow, showCoordinatesSetting, showCoordinates } = model;\n    let currStart = 0;\n    let upstreamChunk = null;\n    let currRemainder = 0;\n    const strand = feature.strand === -1 ? -1 : 1;\n    const fullGenomicCoordinates = showCoordinatesSetting === 'genomic';\n    const mult = fullGenomicCoordinates ? strand : 1;\n    let coordStart = fullGenomicCoordinates\n        ? strand > 0\n            ? feature.start + 1 - ((upstream === null || upstream === void 0 ? void 0 : upstream.length) || 0)\n            : feature.end + ((upstream === null || upstream === void 0 ? void 0 : upstream.length) || 0)\n        : 0;\n    if (upstream) {\n        const { segments, remainder } = (0, util_1.splitString)({\n            str: upstream,\n            charactersPerRow,\n            showCoordinates,\n        });\n        upstreamChunk = ((0, jsx_runtime_1.jsx)(SequenceDisplay_1.default, { model: model, color: util_1.updownstreamColor, start: currStart, coordStart: coordStart, chunks: segments }));\n        currRemainder = remainder;\n        currStart = currStart + upstream.length * mult;\n        coordStart = coordStart + upstream.length * mult;\n    }\n    const { segments, remainder } = (0, util_1.splitString)({\n        str: sequence,\n        charactersPerRow,\n        showCoordinates,\n        currRemainder,\n    });\n    const middleChunk = ((0, jsx_runtime_1.jsx)(SequenceDisplay_1.default, { model: model, color: util_1.genomeColor, start: currStart, coordStart: coordStart, chunks: segments }));\n    currRemainder = remainder;\n    currStart += sequence.length * mult;\n    coordStart = coordStart + sequence.length * mult;\n    let downstreamChunk = null;\n    if (downstream) {\n        const { segments } = (0, util_1.splitString)({\n            str: downstream,\n            charactersPerRow,\n            currRemainder,\n            showCoordinates,\n        });\n        downstreamChunk = ((0, jsx_runtime_1.jsx)(SequenceDisplay_1.default, { start: currStart, model: model, chunks: segments, coordStart: coordStart, color: util_1.updownstreamColor }));\n    }\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [upstreamChunk, middleChunk, downstreamChunk] }));\n});\nexports.default = GenomicSequence;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst util_1 = require(\"../../util\");\nconst util_2 = require(\"../util\");\nconst SequenceDisplay_1 = __importDefault(require(\"./SequenceDisplay\"));\nconst ProteinSequence = (0, mobx_react_1.observer)(function ({ cds, sequence, codonTable, model, }) {\n    const { charactersPerRow, showCoordinates } = model;\n    const str = (0, util_1.stitch)(cds, sequence);\n    let protein = '';\n    for (let i = 0; i < str.length; i += 3) {\n        protein += codonTable[str.slice(i, i + 3)] || '&';\n    }\n    const { segments } = (0, util_2.splitString)({\n        str: protein,\n        charactersPerRow,\n        showCoordinates,\n    });\n    return ((0, jsx_runtime_1.jsx)(SequenceDisplay_1.default, { model: model, color: util_2.proteinColor, chunks: segments, start: 0 }));\n});\nexports.default = ProteinSequence;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst util_1 = require(\"../../util\");\nconst util_2 = require(\"../util\");\nconst CDNASequence_1 = __importDefault(require(\"./seqtypes/CDNASequence\"));\nconst CDSSequence_1 = __importDefault(require(\"./seqtypes/CDSSequence\"));\nconst GenomicSequence_1 = __importDefault(require(\"./seqtypes/GenomicSequence\"));\nconst ProteinSequence_1 = __importDefault(require(\"./seqtypes/ProteinSequence\"));\nconst SequenceContents = (0, mobx_react_1.observer)(function ({ mode, feature, sequence, model, }) {\n    var _a;\n    let { seq, upstream = '', downstream = '' } = sequence;\n    const children = ((_a = feature.subfeatures) === null || _a === void 0 ? void 0 : _a.sort((a, b) => a.start - b.start).map(sub => ({\n        ...sub,\n        start: sub.start - feature.start,\n        end: sub.end - feature.start,\n    }))) || [];\n    let cds = (0, util_2.dedupe)(children.filter(sub => sub.type === 'CDS'));\n    let utr = (0, util_2.dedupe)(children.filter(sub => { var _a; return (_a = sub.type) === null || _a === void 0 ? void 0 : _a.match(/utr/i); }));\n    let exons = (0, util_2.dedupe)(children.filter(sub => sub.type === 'exon'));\n    if (!utr.length && cds.length && exons.length) {\n        utr = (0, util_2.calculateUTRs)(cds, exons);\n    }\n    if (!utr.length && cds.length && !exons.length) {\n        utr = (0, util_2.calculateUTRs2)(cds, {\n            start: 0,\n            end: feature.end - feature.start,\n            type: 'gene',\n        });\n    }\n    if (feature.strand === -1) {\n        ;\n        [seq, upstream, downstream] = [\n            (0, util_1.revcom)(seq),\n            (0, util_1.revcom)(downstream),\n            (0, util_1.revcom)(upstream),\n        ];\n        cds = (0, util_2.revlist)(cds, seq.length);\n        exons = (0, util_2.revlist)(exons, seq.length);\n        utr = (0, util_2.revlist)(utr, seq.length);\n    }\n    return ((0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, { children: mode === 'genomic' ? ((0, jsx_runtime_1.jsx)(GenomicSequence_1.default, { feature: feature, model: model, sequence: seq })) : mode === 'genomic_sequence_updownstream' ? ((0, jsx_runtime_1.jsx)(GenomicSequence_1.default, { model: model, feature: feature, sequence: seq, upstream: upstream, downstream: downstream })) : mode === 'cds' ? ((0, jsx_runtime_1.jsx)(CDSSequence_1.default, { model: model, cds: cds, sequence: seq })) : mode === 'cdna' ? ((0, jsx_runtime_1.jsx)(CDNASequence_1.default, { model: model, exons: exons, feature: feature, cds: cds, utr: utr, sequence: seq })) : mode === 'protein' ? ((0, jsx_runtime_1.jsx)(ProteinSequence_1.default, { model: model, cds: cds, codonTable: (0, util_1.generateCodonTable)(util_1.defaultCodonTable), sequence: seq })) : mode === 'gene' ? ((0, jsx_runtime_1.jsx)(CDNASequence_1.default, { model: model, exons: exons, feature: feature, cds: cds, utr: utr, sequence: seq, includeIntrons: true })) : mode === 'gene_collapsed_intron' ? ((0, jsx_runtime_1.jsx)(CDNASequence_1.default, { model: model, exons: exons, feature: feature, cds: cds, sequence: seq, utr: utr, includeIntrons: true, collapseIntron: true })) : mode === 'gene_updownstream' ? ((0, jsx_runtime_1.jsx)(CDNASequence_1.default, { model: model, exons: exons, feature: feature, cds: cds, sequence: seq, utr: utr, upstream: upstream, downstream: downstream, includeIntrons: true })) : mode === 'gene_updownstream_collapsed_intron' ? ((0, jsx_runtime_1.jsx)(CDNASequence_1.default, { model: model, exons: exons, feature: feature, cds: cds, sequence: seq, utr: utr, upstream: upstream, downstream: downstream, includeIntrons: true, collapseIntron: true })) : ((0, jsx_runtime_1.jsx)(\"div\", { children: \"Unknown type\" })) }));\n});\nexports.default = SequenceContents;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst util_1 = require(\"../../util\");\nfunction getStrand(strand) {\n    if (strand === -1) {\n        return '(-)';\n    }\n    else if (strand === 1) {\n        return '(+)';\n    }\n    else {\n        return '';\n    }\n}\nconst SequenceName = (0, mobx_react_1.observer)(function ({ mode, model, feature, }) {\n    return ((0, jsx_runtime_1.jsx)(\"div\", { style: { background: 'white' }, children: `>${[\n            [feature.name || feature.id, mode].filter(f => !!f).join('-'),\n            `${feature.refName}:${(0, util_1.toLocale)(feature.start + 1)}-${(0, util_1.toLocale)(feature.end)}${getStrand(feature.strand)}`,\n            mode.endsWith('updownstream')\n                ? `+/- ${(0, util_1.toLocale)(model.upDownBp)} up/downstream bp`\n                : '',\n        ]\n            .filter(f => !!f)\n            .join(' ')}\\n` }));\n});\nexports.default = SequenceName;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst SequenceContents_1 = __importDefault(require(\"./SequenceContents\"));\nconst SequenceName_1 = __importDefault(require(\"./SequenceName\"));\nfunction WordWrap({ children }) {\n    return ((0, jsx_runtime_1.jsx)(\"pre\", { style: {\n            fontFamily: 'monospace',\n            color: 'black',\n            fontSize: 11,\n        }, children: children }));\n}\nfunction NoWordWrap({ children }) {\n    return ((0, jsx_runtime_1.jsx)(\"div\", { style: {\n            fontFamily: 'monospace',\n            color: 'black',\n            fontSize: 11,\n            maxWidth: 600,\n            whiteSpace: 'wrap',\n            wordBreak: 'break-all',\n        }, children: children }));\n}\nconst SequencePanel = (0, mobx_react_1.observer)((0, react_1.forwardRef)(function S(props, ref) {\n    const { sequence, model, feature } = props;\n    const { showCoordinates, mode } = model;\n    const Container = showCoordinates ? WordWrap : NoWordWrap;\n    return ((0, jsx_runtime_1.jsx)(\"div\", { \"data-testid\": \"sequence_panel\", ref: ref, style: { maxHeight: 300, overflow: 'auto' }, children: (0, jsx_runtime_1.jsxs)(Container, { children: [(0, jsx_runtime_1.jsx)(SequenceName_1.default, { model: model, mode: mode, feature: feature }), (0, jsx_runtime_1.jsx)(SequenceContents_1.default, { model: model, mode: mode, feature: feature, sequence: sequence })] }) }));\n}));\nexports.default = SequencePanel;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst ui_1 = require(\"@jbrowse/core/ui\");\nconst material_1 = require(\"@mui/material\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst mui_1 = require(\"tss-react/mui\");\nconst SequencePanel_1 = __importDefault(require(\"../SequencePanel\"));\nconst hooks_1 = require(\"../hooks\");\nconst SequenceFeatureMenu_1 = __importDefault(require(\"./SequenceFeatureMenu\"));\nconst SequenceTypeSelector_1 = __importDefault(require(\"./SequenceTypeSelector\"));\nconst useStyles = (0, mui_1.makeStyles)()({\n    dialogContent: {\n        width: '80em',\n    },\n    formControl: {\n        margin: 0,\n        marginLeft: 4,\n    },\n});\nconst SequenceDialog = (0, mobx_react_1.observer)(function ({ handleClose, model, feature, }) {\n    const { sequenceFeatureDetails } = model;\n    const { upDownBp } = sequenceFeatureDetails;\n    const { classes } = useStyles();\n    const seqPanelRef = (0, react_1.useRef)(null);\n    const [force, setForce] = (0, react_1.useState)(false);\n    const { sequence, error } = (0, hooks_1.useFeatureSequence)(model, feature, upDownBp, force);\n    return ((0, jsx_runtime_1.jsxs)(ui_1.Dialog, { maxWidth: \"xl\", open: true, onClose: () => {\n            handleClose();\n        }, title: \"Sequence view\", children: [(0, jsx_runtime_1.jsxs)(material_1.DialogContent, { className: classes.dialogContent, children: [(0, jsx_runtime_1.jsxs)(\"div\", { children: [(0, jsx_runtime_1.jsx)(SequenceTypeSelector_1.default, { model: sequenceFeatureDetails }), (0, jsx_runtime_1.jsx)(SequenceFeatureMenu_1.default, { ref: seqPanelRef, model: sequenceFeatureDetails })] }), (0, jsx_runtime_1.jsxs)(\"div\", { children: [feature.type === 'gene' ? ((0, jsx_runtime_1.jsx)(material_1.Typography, { children: \"Note: inspect subfeature sequences for protein/CDS computations\" })) : null, error ? ((0, jsx_runtime_1.jsx)(ui_1.ErrorMessage, { error: error })) : !sequence ? ((0, jsx_runtime_1.jsx)(ui_1.LoadingEllipses, {})) : 'error' in sequence ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(material_1.Typography, { color: \"error\", children: sequence.error }), (0, jsx_runtime_1.jsx)(material_1.Button, { variant: \"contained\", color: \"inherit\", onClick: () => {\n                                            setForce(true);\n                                        }, children: \"Force load\" })] })) : ((0, jsx_runtime_1.jsx)(react_1.Suspense, { fallback: (0, jsx_runtime_1.jsx)(ui_1.LoadingEllipses, {}), children: (0, jsx_runtime_1.jsx)(SequencePanel_1.default, { ref: seqPanelRef, feature: feature, sequence: sequence, model: sequenceFeatureDetails }) }))] })] }), (0, jsx_runtime_1.jsx)(material_1.DialogActions, { children: (0, jsx_runtime_1.jsx)(material_1.Button, { onClick: () => {\n                        handleClose();\n                    }, variant: \"contained\", children: \"Close\" }) })] }));\n});\nexports.default = SequenceDialog;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst material_1 = require(\"@mui/material\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst hooks_1 = require(\"./hooks\");\nconst ui_1 = require(\"../../ui\");\nconst SequenceFeatureMenu_1 = __importDefault(require(\"./dialogs/SequenceFeatureMenu\"));\nconst SequenceTypeSelector_1 = __importDefault(require(\"./dialogs/SequenceTypeSelector\"));\nconst SequencePanel = (0, react_1.lazy)(() => Promise.resolve().then(() => __importStar(require('./SequencePanel'))));\nconst SequenceDialog = (0, react_1.lazy)(() => Promise.resolve().then(() => __importStar(require('./dialogs/SequenceDialog'))));\nconst SequenceFeatureDetails = (0, mobx_react_1.observer)(function ({ model, feature, }) {\n    const { sequenceFeatureDetails } = model;\n    const { upDownBp } = sequenceFeatureDetails;\n    const seqPanelRef = (0, react_1.useRef)(null);\n    const [openInDialog, setOpenInDialog] = (0, react_1.useState)(false);\n    const [force, setForce] = (0, react_1.useState)(false);\n    const { sequence, error } = (0, hooks_1.useFeatureSequence)(model, feature, upDownBp, force);\n    (0, react_1.useEffect)(() => {\n        sequenceFeatureDetails.setFeature(feature);\n    }, [sequenceFeatureDetails, feature]);\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)(\"div\", { children: [(0, jsx_runtime_1.jsx)(SequenceTypeSelector_1.default, { model: sequenceFeatureDetails }), (0, jsx_runtime_1.jsx)(SequenceFeatureMenu_1.default, { ref: seqPanelRef, model: sequenceFeatureDetails, extraItems: [\n                            {\n                                label: 'Open in dialog',\n                                onClick: () => {\n                                    setTimeout(() => {\n                                        setOpenInDialog(true);\n                                    }, 1);\n                                },\n                            },\n                        ] })] }), openInDialog ? ((0, jsx_runtime_1.jsxs)(\"div\", { children: [\"Open in dialog...\", (0, jsx_runtime_1.jsx)(react_1.Suspense, { fallback: (0, jsx_runtime_1.jsx)(ui_1.LoadingEllipses, {}), children: (0, jsx_runtime_1.jsx)(SequenceDialog, { model: model, feature: feature, handleClose: () => {\n                                setOpenInDialog(false);\n                            } }) })] })) : ((0, jsx_runtime_1.jsxs)(\"div\", { children: [feature.type === 'gene' ? ((0, jsx_runtime_1.jsx)(material_1.Typography, { children: \"Note: inspect subfeature sequences for protein/CDS computations\" })) : null, error ? ((0, jsx_runtime_1.jsx)(ui_1.ErrorMessage, { error: error })) : !sequence ? ((0, jsx_runtime_1.jsx)(ui_1.LoadingEllipses, {})) : 'error' in sequence ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(material_1.Typography, { color: \"error\", children: sequence.error }), (0, jsx_runtime_1.jsx)(material_1.Button, { variant: \"contained\", color: \"inherit\", onClick: () => {\n                                    setForce(true);\n                                }, children: \"Force load\" })] })) : ((0, jsx_runtime_1.jsx)(react_1.Suspense, { fallback: (0, jsx_runtime_1.jsx)(ui_1.LoadingEllipses, {}), children: (0, jsx_runtime_1.jsx)(SequencePanel, { ref: seqPanelRef, feature: feature, sequence: sequence, model: sequenceFeatureDetails }) }))] }))] }));\n});\nexports.default = SequenceFeatureDetails;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = HelpDialog;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst ui_1 = require(\"@jbrowse/core/ui\");\nconst Settings_1 = __importDefault(require(\"@mui/icons-material/Settings\"));\nconst material_1 = require(\"@mui/material\");\nfunction HelpDialog({ handleClose, }) {\n    return ((0, jsx_runtime_1.jsxs)(ui_1.Dialog, { maxWidth: \"xl\", open: true, onClose: () => {\n            handleClose();\n        }, title: \"Feature sequence panel help\", children: [(0, jsx_runtime_1.jsxs)(material_1.DialogContent, { children: [(0, jsx_runtime_1.jsx)(material_1.Typography, { children: \"The \\\"Feature sequence\\\" panel shows the underlying genomic sequence for a given feature, fetched from the reference genome.\" }), (0, jsx_runtime_1.jsx)(material_1.Typography, { children: \"For gene features, this panel does special calculations to e.g. stitch together the coding sequence, the options are:\" }), (0, jsx_runtime_1.jsxs)(\"ul\", { children: [(0, jsx_runtime_1.jsx)(\"li\", { children: \"CDS - shows the stitched together CDS sequences\" }), (0, jsx_runtime_1.jsx)(\"li\", { children: \"Protein - the translated coding sequence, with the \\\"standard\\\" genetic code\" }), (0, jsx_runtime_1.jsx)(\"li\", { children: \"cDNA - shows the 'copy DNA' of transcript, formed from exon sequences\" }), (0, jsx_runtime_1.jsx)(\"li\", { children: \"Genomic w/ introns +/- Nbp up+down stream - the sequence underlying the entire gene including including introns, with UTR and CDS highlighted\" })] }), (0, jsx_runtime_1.jsx)(material_1.Typography, { children: \"For other feature types, the options are:\" }), (0, jsx_runtime_1.jsx)(\"ul\", { children: (0, jsx_runtime_1.jsx)(\"li\", { children: \"Genomic +/- Nbp up+down stream - the reference genome sequence underlying the feature, with the up and downstream sequence\" }) }), (0, jsx_runtime_1.jsxs)(material_1.Typography, { children: [\"Note 1: you can use the \\\"gear icon\\\" \", (0, jsx_runtime_1.jsx)(Settings_1.default, {}), \" to edit the number of bp displayed up/downstream and in the intron region\"] }), (0, jsx_runtime_1.jsx)(material_1.Typography, { children: \"Note 2: The 'Copy HTML' function retains the colors from the sequence panel but cannot be pasted into some programs like notepad that only expect plain text.\" })] }), (0, jsx_runtime_1.jsx)(material_1.DialogActions, { children: (0, jsx_runtime_1.jsx)(material_1.Button, { onClick: () => {\n                        handleClose();\n                    }, autoFocus: true, variant: \"contained\", children: \"Close\" }) })] }));\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst Help_1 = __importDefault(require(\"@mui/icons-material/Help\"));\nconst material_1 = require(\"@mui/material\");\nconst mobx_react_1 = require(\"mobx-react\");\nconst mui_1 = require(\"tss-react/mui\");\nconst ui_1 = require(\"../../ui\");\nconst util_1 = require(\"../../util\");\nconst SequenceFeatureDetails = (0, react_1.lazy)(() => Promise.resolve().then(() => __importStar(require('./SequenceFeatureDetails'))));\nconst HelpDialog = (0, react_1.lazy)(() => Promise.resolve().then(() => __importStar(require('./dialogs/HelpDialog'))));\nconst useStyles = (0, mui_1.makeStyles)()(theme => ({\n    formControl: {\n        margin: 0,\n    },\n    container: {\n        marginTop: theme.spacing(4),\n        marginBottom: theme.spacing(4),\n    },\n}));\nconst SequenceFeaturePanel = (0, mobx_react_1.observer)(function ({ model, feature, }) {\n    const { classes } = useStyles();\n    const [shown, setShown] = (0, react_1.useState)(false);\n    return ((0, jsx_runtime_1.jsxs)(\"div\", { className: classes.container, children: [(0, jsx_runtime_1.jsx)(material_1.FormControl, { className: classes.formControl, children: (0, jsx_runtime_1.jsx)(material_1.Button, { variant: \"contained\", onClick: () => {\n                        setShown(!shown);\n                    }, children: shown ? 'Hide feature sequence' : 'Show feature sequence' }) }), (0, jsx_runtime_1.jsx)(material_1.IconButton, { onClick: () => {\n                    (0, util_1.getSession)(model).queueDialog(handleClose => [\n                        HelpDialog,\n                        {\n                            handleClose,\n                        },\n                    ]);\n                }, children: (0, jsx_runtime_1.jsx)(Help_1.default, {}) }), shown ? ((0, jsx_runtime_1.jsx)(react_1.Suspense, { fallback: (0, jsx_runtime_1.jsx)(ui_1.LoadingEllipses, {}), children: (0, jsx_runtime_1.jsx)(SequenceFeatureDetails, { model: model, feature: feature }, feature.uniqueId) })) : null] }));\n});\nexports.default = SequenceFeaturePanel;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = void 0;\nvar SequenceFeaturePanel_1 = require(\"./SequenceFeaturePanel\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return __importDefault(SequenceFeaturePanel_1).default; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = BasicValue;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst material_1 = require(\"@mui/material\");\nconst mui_1 = require(\"tss-react/mui\");\nconst ui_1 = require(\"../../ui\");\nconst util_1 = require(\"../../util\");\nconst useStyles = (0, mui_1.makeStyles)()(theme => ({\n    fieldValue: {\n        wordBreak: 'break-word',\n        maxHeight: 300,\n        fontSize: 12,\n        padding: theme.spacing(0.5),\n        overflow: 'auto',\n    },\n}));\nfunction BasicValue({ value }) {\n    const { classes } = useStyles();\n    const isLink = /^https?:\\/\\//.exec(`${value}`);\n    return ((0, jsx_runtime_1.jsx)(\"div\", { className: classes.fieldValue, children: (0, react_1.isValidElement)(value) ? (value) : isLink ? ((0, jsx_runtime_1.jsx)(material_1.Link, { href: `${value}`, children: `${value}` })) : ((0, jsx_runtime_1.jsx)(ui_1.SanitizedHTML, { html: (0, util_1.isObject)(value) ? JSON.stringify(value) : String(value) })) }));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = FieldName;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst material_1 = require(\"@mui/material\");\nconst mui_1 = require(\"tss-react/mui\");\nconst useStyles = (0, mui_1.makeStyles)()(theme => ({\n    fieldDescription: {\n        '&:hover': {\n            background: theme.palette.mode === 'dark' ? '#e65100' : 'yellow',\n        },\n    },\n    fieldName: {\n        wordBreak: 'break-all',\n        minWidth: 90,\n        borderBottom: '1px solid #0003',\n        fontSize: 12,\n        background: theme.palette.action.disabledBackground,\n        marginRight: theme.spacing(1),\n        padding: theme.spacing(0.5),\n    },\n}));\nfunction FieldName({ description, name, width, prefix = [], }) {\n    const { classes, cx } = useStyles();\n    const val = [...prefix, name].join('.');\n    return description ? ((0, jsx_runtime_1.jsx)(material_1.Tooltip, { title: description, placement: \"left\", children: (0, jsx_runtime_1.jsx)(\"div\", { className: cx(classes.fieldDescription, classes.fieldName), children: val }) })) : ((0, jsx_runtime_1.jsx)(\"div\", { className: classes.fieldName, style: { width: width }, children: val }));\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ArrayValue;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst mui_1 = require(\"tss-react/mui\");\nconst Attributes_1 = __importDefault(require(\"./Attributes\"));\nconst BasicValue_1 = __importDefault(require(\"./BasicValue\"));\nconst FieldName_1 = __importDefault(require(\"./FieldName\"));\nconst util_1 = require(\"../../util\");\nconst useStyles = (0, mui_1.makeStyles)()(theme => ({\n    field: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    fieldSubvalue: {\n        wordBreak: 'break-word',\n        maxHeight: 300,\n        padding: theme.spacing(0.5),\n        border: `1px solid ${theme.palette.action.selected}`,\n        boxSizing: 'border-box',\n        overflow: 'auto',\n    },\n}));\nfunction ArrayValue({ name, value, description, prefix = [], }) {\n    const { classes } = useStyles();\n    if (value.length === 1) {\n        return (0, util_1.isObject)(value[0]) ? ((0, jsx_runtime_1.jsx)(Attributes_1.default, { attributes: value[0], prefix: [...prefix, name] })) : ((0, jsx_runtime_1.jsxs)(\"div\", { className: classes.field, children: [(0, jsx_runtime_1.jsx)(FieldName_1.default, { prefix: prefix, description: description, name: name }), (0, jsx_runtime_1.jsx)(BasicValue_1.default, { value: value[0] })] }));\n    }\n    else if (value.every(val => (0, util_1.isObject)(val))) {\n        return ((0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, { children: value.map((val, i) => ((0, jsx_runtime_1.jsx)(Attributes_1.default, { attributes: val, prefix: [...prefix, `${name}-${i}`] }, `${JSON.stringify(val)}-${i}`))) }));\n    }\n    else {\n        return ((0, jsx_runtime_1.jsxs)(\"div\", { className: classes.field, children: [(0, jsx_runtime_1.jsx)(FieldName_1.default, { prefix: prefix, description: description, name: name }), value.map((val, i) => ((0, jsx_runtime_1.jsx)(\"div\", { className: classes.fieldSubvalue, children: (0, jsx_runtime_1.jsx)(BasicValue_1.default, { value: val }) }, `${JSON.stringify(val)}-${i}`)))] }));\n    }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = DataGridDetails;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst material_1 = require(\"@mui/material\");\nconst x_data_grid_1 = require(\"@mui/x-data-grid\");\nconst mui_1 = require(\"tss-react/mui\");\nconst FieldName_1 = __importDefault(require(\"./FieldName\"));\nconst ui_1 = require(\"../../ui\");\nconst util_1 = require(\"../../util\");\nconst useStyles = (0, mui_1.makeStyles)()(theme => ({\n    margin: {\n        marginBottom: theme.spacing(4),\n    },\n    cell: {\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n    },\n}));\nfunction DataGridDetails({ value, prefix, name, }) {\n    const { classes } = useStyles();\n    const [checked, setChecked] = (0, react_1.useState)(false);\n    const keys = Object.keys(value[0]).sort();\n    const unionKeys = new Set(keys);\n    const rows = Object.entries(value).map(([k, val]) => {\n        const { id, ...rest } = val;\n        return {\n            id: k,\n            identifier: id,\n            ...rest,\n        };\n    });\n    for (const val of value) {\n        for (const k of Object.keys(val)) {\n            unionKeys.add(k);\n        }\n    }\n    let colNames;\n    if (unionKeys.has('id')) {\n        unionKeys.delete('id');\n        colNames = ['identifier', ...unionKeys];\n    }\n    else {\n        colNames = [...unionKeys];\n    }\n    const widths = colNames.map(e => (0, util_1.measureGridWidth)(rows.map(r => r[e])));\n    if (unionKeys.size < keys.length + 5) {\n        return ((0, jsx_runtime_1.jsxs)(\"div\", { className: classes.margin, children: [(0, jsx_runtime_1.jsx)(FieldName_1.default, { prefix: prefix, name: name }), (0, jsx_runtime_1.jsx)(material_1.FormControlLabel, { control: (0, jsx_runtime_1.jsx)(material_1.Checkbox, { checked: checked, onChange: event => {\n                            setChecked(event.target.checked);\n                        } }), label: (0, jsx_runtime_1.jsx)(material_1.Typography, { variant: \"body2\", children: \"Show options\" }) }), (0, jsx_runtime_1.jsx)(\"div\", { style: { display: 'flex', flexDirection: 'column' }, children: (0, jsx_runtime_1.jsx)(x_data_grid_1.DataGrid, { disableRowSelectionOnClick: true, rows: rows, rowHeight: 20, columnHeaderHeight: 35, hideFooter: rows.length < 25, slots: {\n                            toolbar: checked ? x_data_grid_1.GridToolbar : null,\n                        }, slotProps: {\n                            toolbar: {\n                                printOptions: {\n                                    disableToolbarButton: true,\n                                },\n                            },\n                        }, columns: colNames.map((val, index) => ({\n                            field: val,\n                            renderCell: params => {\n                                const value = params.value;\n                                return ((0, jsx_runtime_1.jsx)(\"div\", { className: classes.cell, children: (0, jsx_runtime_1.jsx)(ui_1.SanitizedHTML, { html: (0, util_1.getStr)(value || '') }) }));\n                            },\n                            width: widths[index],\n                        })) }) })] }));\n    }\n    return null;\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = SimpleField;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst mui_1 = require(\"tss-react/mui\");\nconst BasicValue_1 = __importDefault(require(\"./BasicValue\"));\nconst FieldName_1 = __importDefault(require(\"./FieldName\"));\nconst useStyles = (0, mui_1.makeStyles)()({\n    field: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n});\nfunction SimpleField({ name, value, description, prefix, width, }) {\n    const { classes } = useStyles();\n    return value !== null && value !== undefined ? ((0, jsx_runtime_1.jsxs)(\"div\", { className: classes.field, children: [(0, jsx_runtime_1.jsx)(FieldName_1.default, { prefix: prefix, description: description, name: name, width: width }), (0, jsx_runtime_1.jsx)(BasicValue_1.default, { value: value })] })) : null;\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = UriField;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst mui_1 = require(\"tss-react/mui\");\nconst BasicValue_1 = __importDefault(require(\"./BasicValue\"));\nconst FieldName_1 = __importDefault(require(\"./FieldName\"));\nconst useStyles = (0, mui_1.makeStyles)()({\n    field: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n});\nfunction UriField({ value, prefix, name, }) {\n    const { classes } = useStyles();\n    const { uri, baseUri = '' } = value;\n    let href;\n    try {\n        href = new URL(uri, baseUri).href;\n    }\n    catch (e) {\n        href = uri;\n    }\n    return ((0, jsx_runtime_1.jsxs)(\"div\", { className: classes.field, children: [(0, jsx_runtime_1.jsx)(FieldName_1.default, { prefix: prefix, name: name }), (0, jsx_runtime_1.jsx)(BasicValue_1.default, { value: href })] }));\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Attributes;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst ArrayValue_1 = __importDefault(require(\"./ArrayValue\"));\nconst DataGridDetails_1 = __importDefault(require(\"./DataGridDetails\"));\nconst SimpleField_1 = __importDefault(require(\"./SimpleField\"));\nconst UriField_1 = __importDefault(require(\"./UriField\"));\nconst util_1 = require(\"./util\");\nconst util_2 = require(\"../../util\");\nconst MAX_FIELD_NAME_WIDTH = 170;\nconst globalOmit = [\n    '__jbrowsefmt',\n    'length',\n    'position',\n    'subfeatures',\n    'uniqueId',\n    'exonFrames',\n    'parentId',\n    'thickStart',\n    'thickEnd',\n];\nfunction Attributes(props) {\n    const { attributes, omit = [], omitSingleLevel = [], descriptions, formatter = val => val, hideUris, prefix = [], } = props;\n    const omits = new Set([...omit, ...globalOmit, ...omitSingleLevel]);\n    const { __jbrowsefmt, ...rest } = attributes;\n    const formattedAttributes = { ...rest, ...__jbrowsefmt };\n    const maxLabelWidth = (0, util_1.generateMaxWidth)(Object.entries(formattedAttributes).filter(([k, v]) => v !== undefined && !omits.has(k)), prefix);\n    return ((0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, { children: Object.entries(formattedAttributes)\n            .filter(([k, v]) => v !== undefined && !omits.has(k))\n            .map(([key, value]) => {\n            const description = (0, util_1.accessNested)([...prefix, key], descriptions);\n            if (Array.isArray(value)) {\n                return value.length > 1 && value.every(val => (0, util_2.isObject)(val)) ? ((0, jsx_runtime_1.jsx)(DataGridDetails_1.default, { name: key, prefix: prefix, value: value }, key)) : ((0, jsx_runtime_1.jsx)(ArrayValue_1.default, { name: key, value: value, description: description, prefix: prefix }, key));\n            }\n            else if ((0, util_2.isObject)(value)) {\n                const { omitSingleLevel, ...rest } = props;\n                return (0, util_2.isUriLocation)(value) ? (hideUris ? null : ((0, jsx_runtime_1.jsx)(UriField_1.default, { name: key, prefix: prefix, value: value }, key))) : ((0, jsx_runtime_1.jsx)(Attributes, { ...rest, attributes: value, descriptions: descriptions, prefix: [...prefix, key] }, key));\n            }\n            else {\n                return ((0, jsx_runtime_1.jsx)(SimpleField_1.default, { name: key, value: formatter(value, key), description: description, prefix: prefix, width: Math.min(maxLabelWidth, MAX_FIELD_NAME_WIDTH) }, key));\n            }\n        }) }));\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = BaseCard;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst ExpandMore_1 = __importDefault(require(\"@mui/icons-material/ExpandMore\"));\nconst material_1 = require(\"@mui/material\");\nconst mui_1 = require(\"tss-react/mui\");\nconst useStyles = (0, mui_1.makeStyles)()(theme => ({\n    expansionPanelDetails: {\n        display: 'block',\n        padding: theme.spacing(1),\n    },\n    icon: {\n        color: theme.palette.tertiary.contrastText || '#fff',\n    },\n}));\nfunction BaseCard({ children, title, defaultExpanded = true, }) {\n    const { classes } = useStyles();\n    return ((0, jsx_runtime_1.jsxs)(material_1.Accordion, { defaultExpanded: defaultExpanded, children: [(0, jsx_runtime_1.jsx)(material_1.AccordionSummary, { expandIcon: (0, jsx_runtime_1.jsx)(ExpandMore_1.default, { className: classes.icon }), children: (0, jsx_runtime_1.jsx)(material_1.Typography, { variant: \"button\", children: title }) }), (0, jsx_runtime_1.jsx)(material_1.AccordionDetails, { className: classes.expansionPanelDetails, children: children })] }));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Position;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst util_1 = require(\"../../util\");\nfunction Position(props) {\n    const { feature } = props;\n    const strand = feature.strand;\n    const strandMap = {\n        '-1': '-',\n        '0': '',\n        '1': '+',\n    };\n    const str = strandMap[strand] ? `(${strandMap[strand]})` : '';\n    const loc = (0, util_1.assembleLocString)(feature);\n    return (0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, { children: `${loc} ${str}` });\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = CoreDetails;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst Position_1 = __importDefault(require(\"./Position\"));\nconst SimpleField_1 = __importDefault(require(\"./SimpleField\"));\nconst util_1 = require(\"../../util\");\nfunction CoreDetails(props) {\n    const { feature } = props;\n    const obj = feature;\n    const formattedFeat = { ...obj, ...obj.__jbrowsefmt };\n    const { start, end } = formattedFeat;\n    const displayedDetails = {\n        ...formattedFeat,\n        length: (0, util_1.toLocale)(end - start),\n    };\n    const coreRenderedDetails = {\n        description: 'Description',\n        name: 'Name',\n        length: 'Length',\n        type: 'Type',\n    };\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(SimpleField_1.default, { name: \"Position\", value: (0, jsx_runtime_1.jsx)(Position_1.default, { ...props, feature: formattedFeat }) }), Object.entries(coreRenderedDetails)\n                .map(([key, name]) => [name, displayedDetails[key]])\n                .filter(([, value]) => value != null)\n                .map(([name, value]) => ((0, jsx_runtime_1.jsx)(SimpleField_1.default, { name: name, value: value }, name)))] }));\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = FeatureDetails;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst ErrorBoundary_1 = require(\"@jbrowse/core/ui/ErrorBoundary\");\nconst material_1 = require(\"@mui/material\");\nconst util_1 = require(\"./util\");\nconst SequenceFeatureDetails_1 = __importDefault(require(\"../SequenceFeatureDetails\"));\nconst Attributes_1 = __importDefault(require(\"./Attributes\"));\nconst BaseCard_1 = __importDefault(require(\"./BaseCard\"));\nconst CoreDetails_1 = __importDefault(require(\"./CoreDetails\"));\nconst ui_1 = require(\"../../ui\");\nconst util_2 = require(\"../../util\");\nconst coreDetails = [\n    'name',\n    'start',\n    'end',\n    'strand',\n    'refName',\n    'description',\n    'type',\n];\nfunction FeatureDetails(props) {\n    const { omit = [], model, feature, depth = 0 } = props;\n    const { maxDepth } = model;\n    const { mate, name = '', id = '', type = '', subfeatures, uniqueId } = feature;\n    const pm = (0, util_2.getEnv)(model).pluginManager;\n    const session = (0, util_2.getSession)(model);\n    const ExtraPanel = pm.evaluateExtensionPoint('Core-extraFeaturePanel', null, {\n        session,\n        feature,\n        model,\n    });\n    const m = mate;\n    return ((0, jsx_runtime_1.jsxs)(BaseCard_1.default, { title: (0, util_1.generateTitle)(name, id, type), children: [(0, jsx_runtime_1.jsx)(material_1.Typography, { children: \"Core details\" }), (0, jsx_runtime_1.jsx)(CoreDetails_1.default, { ...props }), m ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(material_1.Divider, {}), (0, jsx_runtime_1.jsx)(material_1.Typography, { children: \"Mate details\" }), (0, jsx_runtime_1.jsx)(CoreDetails_1.default, { ...props, feature: {\n                            ...m,\n                            start: m.start,\n                            end: m.end,\n                            refName: m.refName,\n                            uniqueId: `${uniqueId}-mate`,\n                        } })] })) : null, (0, jsx_runtime_1.jsx)(material_1.Divider, {}), (0, jsx_runtime_1.jsx)(material_1.Typography, { children: \"Attributes\" }), (0, jsx_runtime_1.jsx)(Attributes_1.default, { attributes: feature, ...props, omit: omit, omitSingleLevel: coreDetails }), (0, jsx_runtime_1.jsx)(ErrorBoundary_1.ErrorBoundary, { FallbackComponent: e => (0, jsx_runtime_1.jsx)(ui_1.ErrorMessage, { error: e.error }), children: (0, jsx_runtime_1.jsx)(SequenceFeatureDetails_1.default, { ...props }) }), ExtraPanel ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(material_1.Divider, {}), (0, jsx_runtime_1.jsx)(BaseCard_1.default, { title: ExtraPanel.name, children: (0, jsx_runtime_1.jsx)(ExtraPanel.Component, { ...props }) })] })) : null, depth < maxDepth && (subfeatures === null || subfeatures === void 0 ? void 0 : subfeatures.length) ? ((0, jsx_runtime_1.jsx)(BaseCard_1.default, { title: \"Subfeatures\", defaultExpanded: depth < 1, children: subfeatures.map((sub, idx) => ((0, jsx_runtime_1.jsx)(FeatureDetails, { feature: {\n                        ...sub,\n                        uniqueId: `${uniqueId}_${idx}`,\n                    }, model: model, depth: depth + 1 }, JSON.stringify(sub)))) })) : null] }));\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport BaseCard from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/BaseCard';\nimport SimpleField from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/SimpleField';\nimport { Checkbox, FormControlLabel, FormGroup } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()({\n    compact: {\n        paddingRight: 0,\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n});\nconst flagNames = [\n    'read paired',\n    'read mapped in proper pair',\n    'read unmapped',\n    'mate unmapped',\n    'read reverse strand',\n    'mate reverse strand',\n    'first in pair',\n    'second in pair',\n    'not primary alignment',\n    'read fails platform/vendor quality checks',\n    'read is PCR or optical duplicate',\n    'supplementary alignment',\n];\nexport default function AlignmentFlags(props) {\n    const { classes } = useStyles();\n    const { feature } = props;\n    const { flags } = feature;\n    return (_jsxs(BaseCard, { ...props, title: \"Flags\", children: [_jsx(SimpleField, { name: \"Flag\", value: flags }), _jsx(FormGroup, { children: flagNames.map((name, idx) => {\n                    const val = flags & (1 << idx);\n                    const key = `${name}_${val}`;\n                    return (_jsx(FormControlLabel, { control: _jsx(Checkbox, { className: classes.compact, checked: Boolean(val), name: name, readOnly: true }), label: name }, key));\n                }) })] }));\n}\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport copy from 'copy-to-clipboard';\nexport default function Formatter({ value }) {\n    const [show, setShow] = useState(false);\n    const [copied, setCopied] = useState(false);\n    const display = String(value);\n    return display.length > 100 ? (_jsxs(_Fragment, { children: [_jsx(\"button\", { type: \"button\", onClick: () => {\n                    copy(display);\n                    setCopied(true);\n                    setTimeout(() => {\n                        setCopied(false);\n                    }, 700);\n                }, children: copied ? 'Copied to clipboard' : 'Copy' }), _jsx(\"button\", { type: \"button\", onClick: () => {\n                    setShow(val => !val);\n                }, children: show ? 'Show less' : 'Show more' }), _jsx(\"div\", { children: show ? display : `${display.slice(0, 100)}...` })] })) : (_jsx(\"div\", { children: display }));\n}\n","import { getSession } from '@jbrowse/core/util';\nexport function getTag(tag, feat) {\n    var _a;\n    return ((_a = feat.tags) === null || _a === void 0 ? void 0 : _a[tag]) || feat[tag];\n}\nexport async function navToLoc(locString, model) {\n    const session = getSession(model);\n    const { view } = model;\n    try {\n        if (view) {\n            await view.navToLocString(locString);\n        }\n        else {\n            throw new Error('No view associated with this view anymore');\n        }\n    }\n    catch (e) {\n        console.error(e);\n        session.notify(`${e}`);\n    }\n}\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Link } from '@mui/material';\nimport { navToLoc } from './util';\nexport default function PairLink({ locString, model, }) {\n    return (_jsx(Link, { onClick: event => {\n            event.preventDefault();\n            navToLoc(locString, model);\n        }, href: \"#\", children: locString }));\n}\n","export const tags = {\n    AM: 'The smallest template-independent mapping quality in the template',\n    AS: 'Alignment score generated by aligner',\n    BC: 'Barcode sequence identifying the sample',\n    BQ: 'Offset to base alignment quality (BAQ)',\n    BZ: 'Phred quality of the unique molecular barcode bases in the {OX} tag',\n    CB: 'Cell identifier',\n    CC: 'Reference name of the next hit',\n    CM: 'Edit distance between the color sequence and the color reference (see also {NM})',\n    CO: 'Free-text comments',\n    CP: 'Leftmost coordinate of the next hit',\n    CQ: 'Color read base qualities',\n    CR: 'Cellular barcode sequence bases (uncorrected)',\n    CS: 'Color read sequence',\n    CT: 'Complete read annotation tag, used for consensus annotation dummy features',\n    CY: 'Phred quality of the cellular barcode sequence in the {CR} tag',\n    E2: 'The 2nd most likely base calls',\n    FI: 'The index of segment in the template',\n    FS: 'Segment suffix',\n    FZ: 'Flow stopToken intensities',\n    GC: 'Reserved for backwards compatibility reasons',\n    GQ: 'Reserved for backwards compatibility reasons',\n    GS: 'Reserved for backwards compatibility reasons',\n    H0: 'Number of perfect hits',\n    H1: 'Number of 1-difference hits (see also {NM})',\n    H2: 'Number of 2-difference hits',\n    HI: 'Query hit index',\n    IH: 'Query hit total count',\n    LB: 'Library',\n    MC: 'CIGAR string for mate/next segment',\n    MD: 'String encoding mismatched and deleted reference bases',\n    MF: 'Reserved for backwards compatibility reasons',\n    MI: 'Molecular identifier; a string that uniquely identifies the molecule from which the record was derived',\n    ML: 'Base modification probabilities',\n    MM: 'Base modifications / methylation ',\n    MQ: 'Mapping quality of the mate/next segment',\n    NH: 'Number of reported alignments that contain the query in the current record',\n    NM: 'Edit distance to the reference',\n    OA: 'Original alignment',\n    OC: 'Original CIGAR (deprecated; use {OA} instead)',\n    OP: 'Original mapping position (deprecated; use {OA} instead)',\n    OQ: 'Original base quality',\n    OX: 'Original unique molecular barcode bases',\n    PG: 'Program',\n    PQ: 'Phred likelihood of the template',\n    PT: 'Read annotations for parts of the padded read sequence',\n    PU: 'Platform unit',\n    Q2: 'Phred quality of the mate/next segment sequence in the {R2} tag',\n    QT: 'Phred quality of the sample barcode sequence in the {BC} tag',\n    QX: 'Quality score of the unique molecular identifier in the {RX} tag',\n    R2: 'Sequence of the mate/next segment in the template',\n    RG: 'Read group',\n    RT: 'Reserved for backwards compatibility reasons',\n    RX: 'Sequence bases of the (possibly corrected) unique molecular identifier',\n    S2: 'Reserved for backwards compatibility reasons',\n    SA: 'Other canonical alignments in a chimeric alignment',\n    SM: 'Template-independent mapping quality',\n    SQ: 'Reserved for backwards compatibility reasons',\n    TC: 'The number of segments in the template',\n    TS: 'Transcript strand',\n    U2: 'Phred probability of the 2nd call being wrong conditional on the best being wrong',\n    UQ: 'Phred likelihood of the segment, conditional on the mapping being correct',\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { lazy } from 'react';\nimport FeatureDetails from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/FeatureDetails';\nimport { Paper } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport Flags from './Flags';\nimport Formatter from './Formatter';\nimport PairLink from './PairLink';\nimport { tags } from './tagInfo';\nimport { getTag } from './util';\nconst SupplementaryAlignments = lazy(() => import('./SupplementaryAlignments'));\nconst LinkedPairedAlignments = lazy(() => import('./LinkedPairedAlignments'));\nconst AlignmentsFeatureDetails = observer(function (props) {\n    const { model } = props;\n    const { featureData } = model;\n    const feat = structuredClone(featureData);\n    const SA = getTag('SA', feat);\n    const { flags } = feat;\n    return (_jsxs(Paper, { \"data-testid\": \"alignment-side-drawer\", children: [_jsx(FeatureDetails, { ...props, descriptions: { tags }, feature: feat, formatter: (value, key) => key === 'next_segment_position' ? (_jsx(PairLink, { model: model, locString: value })) : (_jsx(Formatter, { value: value })) }), SA !== undefined ? (_jsx(SupplementaryAlignments, { model: model, tag: SA, feature: feat })) : null, flags & 1 ? (_jsx(LinkedPairedAlignments, { model: model, feature: feat })) : null, flags !== undefined ? _jsx(Flags, { feature: feat, ...props }) : null] }));\n});\nexport default AlignmentsFeatureDetails;\n"],"file":"assets/AlignmentsFeatureDetail-BKnk7V1a.js"}