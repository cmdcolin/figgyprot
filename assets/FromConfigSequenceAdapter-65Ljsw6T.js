import{ak as n,am as f,an as o,al as u}from"./index-CT2bM4yV.js";import d from"./FromConfigAdapter-CbukLnVV.js";class i extends d{getFeatures(t){return n(async s=>{const e=(await f.firstValueFrom(super.getFeatures(t).pipe(o.toArray())))[0];s.next(new u({...e.toJSON(),uniqueId:`${e.id()}:${t.start}-${t.end}`,end:t.end,start:t.start,seq:e.get("seq").slice(Math.max(t.start-e.get("start"),0),Math.max(t.end-e.get("start"),0))})),s.complete()})}async getRegions(){const t=[];for(const[s,r]of this.features){let e;for(const a of r)e&&e.end>=a.get("start")&&e.start<=a.get("end")?e.end=a.get("end"):(e&&t.push(e),e={refName:s,start:a.get("start"),end:a.get("end")});e&&t.push(e)}return t}freeResources(){}}export{i as default};
//# sourceMappingURL=FromConfigSequenceAdapter-65Ljsw6T.js.map
