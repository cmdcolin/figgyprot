import{I as v,H as m,a as h,K as T,j as e,M as x,N as C,O as w,Q as D,R,u as M,P as O,B as E,cI as I,bs as L,c as P,D as A,T as N,e as _}from"./index-DRDIumvF.js";import{T as z,a as j,b}from"./TableCell-Cy8GZPEs.js";import{D as F}from"./Divider-C_55-x0A.js";import"./dividerClasses-rNTJcnQi.js";function G(o){return v("MuiTable",o)}m("MuiTable",["root","stickyHeader"]);const K=o=>{const{classes:t,stickyHeader:a}=o;return w({root:["root",a&&"stickyHeader"]},G,t)},W=x("table",{name:"MuiTable",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:a}=o;return[t.root,a.stickyHeader&&t.stickyHeader]}})(D(({theme:o})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...o.typography.body2,padding:o.spacing(2),color:(o.vars||o).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),k="table",X=h.forwardRef(function(t,a){const s=T({props:t,name:"MuiTable"}),{className:r,component:n=k,padding:p="normal",size:l="medium",stickyHeader:i=!1,...u}=s,g={...s,component:n,padding:p,size:l,stickyHeader:i},c=K(g),d=h.useMemo(()=>({padding:p,size:l,stickyHeader:i}),[p,l,i]);return e.jsx(z.Provider,{value:d,children:e.jsx(W,{as:n,role:n===k?null:"table",ref:a,className:C(c.root,r),ownerState:g,...u})})});function q(o){return v("MuiTableBody",o)}m("MuiTableBody",["root"]);const J=o=>{const{classes:t}=o;return w({root:["root"]},q,t)},Q=x("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),V={variant:"body"},$="tbody",Y=h.forwardRef(function(t,a){const s=T({props:t,name:"MuiTableBody"}),{className:r,component:n=$,...p}=s,l={...s,component:n},i=J(l);return e.jsx(j.Provider,{value:V,children:e.jsx(Q,{className:C(i.root,r),as:n,ref:a,role:n===$?null:"rowgroup",ownerState:l,...p})})});function Z(o){return v("MuiTableContainer",o)}m("MuiTableContainer",["root"]);const oo=o=>{const{classes:t}=o;return w({root:["root"]},Z,t)},eo=x("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),to=h.forwardRef(function(t,a){const s=T({props:t,name:"MuiTableContainer"}),{className:r,component:n="div",...p}=s,l={...s,component:n},i=oo(l);return e.jsx(eo,{ref:a,as:n,className:C(i.root,r),ownerState:l,...p})});function ao(o){return v("MuiTableHead",o)}m("MuiTableHead",["root"]);const so=o=>{const{classes:t}=o;return w({root:["root"]},ao,t)},no=x("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),ro={variant:"head"},H="thead",lo=h.forwardRef(function(t,a){const s=T({props:t,name:"MuiTableHead"}),{className:r,component:n=H,...p}=s,l={...s,component:n},i=so(l);return e.jsx(j.Provider,{value:ro,children:e.jsx(no,{as:n,className:C(i.root,r),ref:a,role:n===H?null:"rowgroup",ownerState:l,...p})})});function io(o){return v("MuiTableRow",o)}const S=m("MuiTableRow",["root","selected","hover","head","footer"]),co=o=>{const{classes:t,selected:a,hover:s,head:r,footer:n}=o;return w({root:["root",a&&"selected",s&&"hover",r&&"head",n&&"footer"]},io,t)},po=x("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:a}=o;return[t.root,a.head&&t.head,a.footer&&t.footer]}})(D(({theme:o})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${S.hover}:hover`]:{backgroundColor:(o.vars||o).palette.action.hover},[`&.${S.selected}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:R(o.palette.primary.main,o.palette.action.selectedOpacity),"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.hoverOpacity}))`:R(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity)}}}))),U="tr",B=h.forwardRef(function(t,a){const s=T({props:t,name:"MuiTableRow"}),{className:r,component:n=U,hover:p=!1,selected:l=!1,...i}=s,u=h.useContext(j),g={...s,component:n,hover:p,selected:l,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},c=co(g);return e.jsx(po,{as:n,ref:a,className:C(c.root,r),role:n===U?null:"row",ownerState:g,...i})});function uo({searchResults:o,assemblyName:t,model:a,handleClose:s}){const r=M.getSession(a),{pluginManager:n}=M.getEnv(r),{assemblyManager:p}=r,l=t||a.displayedRegions[0].assemblyName,i=p.get(l);if(!i)throw new Error(`assembly ${l} not found`);if(!i.regions)throw new Error(`assembly ${l} regions not loaded`);function u(c){var d;if(c){const y=n.pluggableConfigSchemaType("track"),f=I(y,L(a),c);return((d=f==null?void 0:f.name)===null||d===void 0?void 0:d.value)||""}return""}async function g(c){var d;try{const y=(d=i==null?void 0:i.regions)===null||d===void 0?void 0:d.find(f=>c===f.refName);y?(a.setDisplayedRegions([y]),a.showAllRegions()):await a.navToLocString(c,l)}catch(y){console.warn(y),r.notify(`${y}`,"warning")}}return e.jsx(to,{component:O,children:e.jsxs(X,{children:[e.jsx(lo,{children:e.jsxs(B,{children:[e.jsx(b,{children:"Name"}),e.jsx(b,{align:"right",children:"Location"}),e.jsx(b,{align:"right",children:"Track"}),e.jsx(b,{align:"right"})]})}),e.jsx(Y,{children:o.map(c=>e.jsxs(B,{children:[e.jsx(b,{component:"th",scope:"row",children:c.getLabel()}),e.jsx(b,{align:"right",children:c.getLocation()}),e.jsx(b,{align:"right",children:u(c.getTrackId())||"N/A"}),e.jsx(b,{align:"right",children:e.jsx(E,{onClick:async()=>{try{await g(c.getLocation()||c.getLabel());const d=c.getTrackId();d&&a.showTrack(d)}catch(d){console.error(d),r.notifyError(`${d}`,d)}s()},color:"primary",variant:"contained",children:"Go"})})]},c.getId()))})]})})}function fo({model:o,assemblyName:t,searchQuery:a,searchResults:s,handleClose:r}){return e.jsxs(P.Dialog,{open:!0,maxWidth:"xl",onClose:r,title:"Search results",children:[e.jsx(A,{children:s!=null&&s.length?e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:["Showing results for ",e.jsx("b",{children:a})]}),e.jsx(uo,{model:o,handleClose:r,assemblyName:t,searchResults:s})]}):e.jsxs(N,{children:["No results found for ",e.jsx("b",{children:a})]})}),e.jsx(F,{}),e.jsx(_,{children:e.jsx(E,{onClick:()=>{r()},color:"primary",children:"Cancel"})})]})}export{fo as default};
//# sourceMappingURL=SearchResultsDialog-D5LijxaY.js.map
