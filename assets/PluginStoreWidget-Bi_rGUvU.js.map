{"version":3,"mappings":"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","names":["InfoOutlinedIcon","createSvgIcon","_jsx","DeletePluginDialog","lazy","__vitePreload","useStyles","makeStyles","LockedPlugin","classes","Tooltip","LockIcon","InstalledPlugin","observer","plugin","model","pluginManager","getEnv","session","getSession","jbrowse","adminMode","isSessionPlugin","isSessionWithSessionPlugins","p","_a","_jsxs","ListItem","IconButton","onClose","name","pluginMetadata","CloseIcon","Typography","InstalledPluginsList","plugins","filterText","externalPlugins","List","CheckIcon","PersonIcon","PluginCard","runtimePluginDefinitions","isInstalled","d","tempDisabled","setTempDisabled","useState","authors","description","Card","CardContent","Link","CardActions","Button","AddIcon","useFetchPlugins","setPlugins","error","setError","useEffect","res","err","array","e","AddCustomPluginDialog","theme","PluginStoreWidget","_Fragment","isElectron","TextField","event","InputAdornment","ClearIcon","Accordion","AccordionSummary","ExpandMoreIcon","LoadingEllipses"],"ignoreList":[0,1,2,3,4,5,6,7],"sources":["../../node_modules/@mui/icons-material/esm/InfoOutlined.js","../../node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/InstalledPlugin.js","../../node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/InstalledPluginsList.js","../../node_modules/@mui/icons-material/esm/Check.js","../../node_modules/@mui/icons-material/esm/Person.js","../../node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/PluginCard.js","../../node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/util.js","../../node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/PluginStoreWidget.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8\"\n}), 'InfoOutlined');","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { lazy } from 'react';\nimport { getEnv, getSession } from '@jbrowse/core/util';\nimport { isSessionWithSessionPlugins } from '@jbrowse/core/util/types';\nimport CloseIcon from '@mui/icons-material/Close';\nimport LockIcon from '@mui/icons-material/Lock';\nimport { IconButton, ListItem, Tooltip, Typography } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nconst DeletePluginDialog = lazy(() => import('./DeletePluginDialog'));\nconst useStyles = makeStyles()(() => ({\n    lockedPluginTooltip: {\n        marginRight: '0.5rem',\n    },\n}));\nfunction LockedPlugin() {\n    const { classes } = useStyles();\n    return (_jsx(Tooltip, { className: classes.lockedPluginTooltip, title: \"This plugin was installed by an administrator, you cannot remove it.\", children: _jsx(LockIcon, {}) }));\n}\nconst InstalledPlugin = observer(function ({ plugin, model, }) {\n    const { pluginManager } = getEnv(model);\n    const session = getSession(model);\n    const { jbrowse, adminMode } = session;\n    const isSessionPlugin = isSessionWithSessionPlugins(session)\n        ? session.sessionPlugins.some(p => { var _a; return ((_a = pluginManager.pluginMetadata[plugin.name]) === null || _a === void 0 ? void 0 : _a.url) === p.url; })\n        : false;\n    return (_jsxs(ListItem, { children: [adminMode || isSessionPlugin ? (_jsx(IconButton, { \"data-testid\": `removePlugin-${plugin.name}`, onClick: () => {\n                    session.queueDialog(onClose => [\n                        DeletePluginDialog,\n                        {\n                            plugin: plugin.name,\n                            onClose: (name) => {\n                                if (name) {\n                                    const pluginMetadata = pluginManager.pluginMetadata[plugin.name];\n                                    if (adminMode) {\n                                        jbrowse.removePlugin(pluginMetadata);\n                                    }\n                                    else if (isSessionWithSessionPlugins(session)) {\n                                        session.removeSessionPlugin(pluginMetadata);\n                                    }\n                                }\n                                onClose();\n                            },\n                        },\n                    ]);\n                }, children: _jsx(CloseIcon, {}) })) : (_jsx(LockedPlugin, {})), _jsx(Typography, { children: plugin.name })] }, plugin.name));\n});\nexport default InstalledPlugin;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { List, Typography } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport InstalledPlugin from './InstalledPlugin';\nconst InstalledPluginsList = observer(function InstalledPluginsList({ pluginManager, model, }) {\n    const { plugins } = pluginManager;\n    const { filterText } = model;\n    const externalPlugins = plugins.filter(p => { var _a; return !((_a = pluginManager.pluginMetadata[p.name]) === null || _a === void 0 ? void 0 : _a.isCore); });\n    return (_jsx(List, { children: externalPlugins.length > 0 ? (externalPlugins\n            .filter(p => p.name.toLowerCase().includes(filterText.toLowerCase()))\n            .map(p => _jsx(InstalledPlugin, { plugin: p, model: model }, p.name))) : (_jsx(Typography, { children: \"No plugins currently installed\" })) }));\n});\nexport default InstalledPluginsList;\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4\"\n}), 'Person');","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { getEnv, getSession } from '@jbrowse/core/util';\nimport { isSessionWithSessionPlugins } from '@jbrowse/core/util/types';\nimport AddIcon from '@mui/icons-material/Add';\nimport CheckIcon from '@mui/icons-material/Check';\nimport PersonIcon from '@mui/icons-material/Person';\nimport { Button, Card, CardActions, CardContent, Link, Typography, } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()({\n    card: {\n        margin: '0.5em',\n    },\n    icon: {\n        marginLeft: '0.5em',\n        marginRight: '0.5em',\n    },\n    bold: {\n        fontWeight: 600,\n    },\n    dataField: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    mr: {\n        marginRight: '0.5em',\n    },\n});\nconst PluginCard = observer(function PluginCard({ plugin, model, }) {\n    const { classes } = useStyles();\n    const session = getSession(model);\n    const { pluginManager } = getEnv(model);\n    const { runtimePluginDefinitions } = pluginManager;\n    const isInstalled = runtimePluginDefinitions.some(d => 'url' in d && d.url === plugin.url);\n    const [tempDisabled, setTempDisabled] = useState(false);\n    const { adminMode, jbrowse } = session;\n    const { name, authors, description } = plugin;\n    return (_jsxs(Card, { variant: \"outlined\", className: classes.card, children: [_jsxs(CardContent, { children: [_jsx(Typography, { variant: \"h5\", children: _jsx(Link, { href: `${plugin.location}#readme`, target: \"_blank\", rel: \"noopener\", children: plugin.name }) }), _jsxs(\"div\", { className: classes.dataField, children: [_jsx(PersonIcon, { className: classes.mr }), _jsx(Typography, { children: authors.join(', ') })] }), _jsx(Typography, { className: classes.bold, children: \"Description:\" }), _jsx(Typography, { children: description })] }), _jsx(CardActions, { children: _jsx(Button, { variant: \"contained\", disabled: isInstalled || tempDisabled, startIcon: isInstalled ? _jsx(CheckIcon, {}) : _jsx(AddIcon, {}), onClick: () => {\n                        if (adminMode) {\n                            jbrowse.addPlugin(plugin);\n                        }\n                        else if (isSessionWithSessionPlugins(session)) {\n                            session.addSessionPlugin(plugin);\n                        }\n                        else {\n                            session.notify('No way to install plugin');\n                        }\n                        setTempDisabled(true);\n                    }, children: isInstalled ? 'Installed' : 'Install' }) })] }, name));\n});\nexport default PluginCard;\n","import { useEffect, useState } from 'react';\nexport function useFetchPlugins() {\n    const [plugins, setPlugins] = useState();\n    const [error, setError] = useState();\n    useEffect(() => {\n        ;\n        (async () => {\n            try {\n                const res = await fetch('https://jbrowse.org/plugin-store/plugins.json');\n                if (!res.ok) {\n                    const err = await res.text();\n                    throw new Error(`HTTP ${res.status} fetching plugins: ${err}`);\n                }\n                const array = await res.json();\n                setPlugins(array.plugins);\n            }\n            catch (e) {\n                console.error(e);\n                setError(e);\n            }\n        })();\n    }, []);\n    return { plugins, error };\n}\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { lazy } from 'react';\nimport { LoadingEllipses } from '@jbrowse/core/ui';\nimport { getSession, isElectron } from '@jbrowse/core/util';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport { Accordion, AccordionSummary, Button, IconButton, InputAdornment, TextField, Typography, } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { getEnv } from 'mobx-state-tree';\nimport { makeStyles } from 'tss-react/mui';\nimport InstalledPluginsList from './InstalledPluginsList';\nimport PluginCard from './PluginCard';\nimport { useFetchPlugins } from './util';\nconst AddCustomPluginDialog = lazy(() => import('./AddCustomPluginDialog'));\nconst useStyles = makeStyles()(theme => ({\n    expandIcon: {\n        color: theme.palette.tertiary.contrastText,\n    },\n    adminBadge: {\n        borderRadius: 3,\n        backgroundColor: theme.palette.quaternary.main,\n        padding: '1em',\n        display: 'flex',\n        alignContent: 'center',\n    },\n    customPluginButton: {\n        margin: '1em auto',\n        display: 'flex',\n    },\n    mr: {\n        marginRight: '0.3em',\n    },\n    m: {\n        margin: '1em',\n    },\n}));\nconst PluginStoreWidget = observer(function ({ model, }) {\n    const { classes } = useStyles();\n    const { plugins, error } = useFetchPlugins();\n    const { filterText } = model;\n    const session = getSession(model);\n    const { adminMode } = session;\n    const { pluginManager } = getEnv(model);\n    return (_jsxs(\"div\", { children: [adminMode && (_jsxs(_Fragment, { children: [!isElectron && (_jsxs(\"div\", { className: classes.adminBadge, children: [_jsx(InfoOutlinedIcon, { className: classes.mr }), _jsxs(Typography, { children: [\"You are using the \", _jsx(\"code\", { children: \"admin-server\" }), \". Any changes you make will be saved to your configuration file. You also have the ability to add custom plugins that are not in the store.\"] })] })), _jsx(Button, { className: classes.customPluginButton, variant: \"contained\", onClick: () => {\n                            session.queueDialog(onClose => [\n                                AddCustomPluginDialog,\n                                {\n                                    model,\n                                    onClose,\n                                },\n                            ]);\n                        }, children: \"Add custom plugin\" })] })), _jsx(TextField, { label: \"Filter plugins\", value: filterText, onChange: event => {\n                    model.setFilterText(event.target.value);\n                }, fullWidth: true, slotProps: {\n                    input: {\n                        endAdornment: (_jsx(InputAdornment, { position: \"end\", children: _jsx(IconButton, { onClick: () => {\n                                    model.clearFilterText();\n                                }, children: _jsx(ClearIcon, {}) }) })),\n                    },\n                } }), _jsxs(Accordion, { defaultExpanded: true, children: [_jsx(AccordionSummary, { expandIcon: _jsx(ExpandMoreIcon, { className: classes.expandIcon }), children: _jsx(Typography, { variant: \"h5\", children: \"Installed plugins\" }) }), _jsx(\"div\", { className: classes.m, children: _jsx(InstalledPluginsList, { pluginManager: pluginManager, model: model }) })] }), _jsxs(Accordion, { defaultExpanded: true, children: [_jsx(AccordionSummary, { expandIcon: _jsx(ExpandMoreIcon, { className: classes.expandIcon }), children: _jsx(Typography, { variant: \"h5\", children: \"Available plugins\" }) }), error ? (_jsx(Typography, { color: \"error\", children: `${error}` })) : plugins ? (plugins\n                        .filter(plugin => !(isElectron && plugin.cjsUrl) &&\n                        plugin.name.toLowerCase().includes(filterText.toLowerCase()))\n                        .map(plugin => (_jsx(PluginCard, { plugin: plugin, model: model }, plugin.name)))) : (_jsx(LoadingEllipses, {}))] })] }));\n});\nexport default PluginStoreWidget;\n"],"file":"assets/PluginStoreWidget-Bi_rGUvU.js"}