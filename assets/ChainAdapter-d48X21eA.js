import{u as k,ah as M}from"./index-DQP-8m57.js";import $ from"./PAFAdapter-1fi5zV0v.js";import"./index-8HxHVJ6-.js";import"./rxjs-ZYIyRYdN.js";import"./index-CN-qnkqO.js";import"./util-BI5ODIe5.js";function z(e,n,i,f,m,o,r,s,c){return{qname:e,qstart:n,qend:i,tname:m,tstart:o,tend:r,strand:f==="-"?-1:1,extra:{numMatches:c,blockLen:Math.max(i-n,r-o),mappingQual:0,cg:s}}}function C(e,n){const{statusCallback:i=()=>{}}=n||{};let f="",m=0,o=0,r="",s="",c="",d=0,_=0,g=0,a="";const x=[];let l=0;const q=new TextDecoder("utf8");let w=performance.now(),A=0;for(;l<e.length;){A++%1e4===0&&performance.now()-w>50&&(i(`Loading ${k.getProgressDisplayStr(l,e.length)}`),w=performance.now());const h=e.indexOf(10,l);if(h===-1)break;const L=e.subarray(l,h),u=q.decode(L).trim();if(l=h+1,!u||u.startsWith("#"))continue;const t=u.split(/[ \t]+/);if(t[0]==="chain"){if(a&&x.push(z(r,d,_,c,f,m,o,a,g)),f=t[2],m=+t[5],o=+t[6],r=t[7],s=t[8],c=t[9],d=+t[10],_=+t[11],c==="-"){const p=d;d=+s-_,_=+s-p}g=0,a=""}else{const p=+t[0]||0,y=t.length>1?+t[1]:0,b=t.length>2?+t[2]:0;p!==0&&(g+=+p,a+=`${p}M`),b!==0&&(a+=`${b}I`),y!==0&&(a+=`${y}D`)}}return i(""),x}class I extends ${async setupPre(n){return C(await k.fetchAndMaybeUnzip(M.openLocation(this.getConf("chainLocation"),this.pluginManager),n),n)}}export{I as default};
//# sourceMappingURL=ChainAdapter-d48X21eA.js.map
