import{u as x,j as n,bQ as v,P as T,bR as w,bS as k,bT as b,bU as o,bV as N,B as f,bW as C,bX as R,d as S,D,T as j,as as E,f as L}from"./index-CT2bM4yV.js";function I({searchResults:d,assemblyName:h,model:s,handleClose:l}){const i=x.getSession(s),{pluginManager:m}=x.getEnv(i),{assemblyManager:u}=i,g=h||s.displayedRegions[0].assemblyName,t=u.get(g);if(!t)throw new Error(`assembly ${g} not found`);if(!t.regions)throw new Error(`assembly ${g} regions not loaded`);function y(a){var e;if(a){const r=m.pluggableConfigSchemaType("track"),c=C(r,R(s),a);return((e=c==null?void 0:c.name)===null||e===void 0?void 0:e.value)||""}return""}async function p(a){var e;try{const r=(e=t==null?void 0:t.regions)===null||e===void 0?void 0:e.find(c=>a===c.refName);r?(s.setDisplayedRegions([r]),s.showAllRegions()):await s.navToLocString(a,g)}catch(r){console.warn(r),i.notify(`${r}`,"warning")}}return n.jsx(v,{component:T,children:n.jsxs(w,{children:[n.jsx(k,{children:n.jsxs(b,{children:[n.jsx(o,{children:"Name"}),n.jsx(o,{align:"right",children:"Location"}),n.jsx(o,{align:"right",children:"Track"}),n.jsx(o,{align:"right"})]})}),n.jsx(N,{children:d.map(a=>n.jsxs(b,{children:[n.jsx(o,{component:"th",scope:"row",children:a.getLabel()}),n.jsx(o,{align:"right",children:a.getLocation()}),n.jsx(o,{align:"right",children:y(a.getTrackId())||"N/A"}),n.jsx(o,{align:"right",children:n.jsx(f,{onClick:async()=>{try{await p(a.getLocation()||a.getLabel());const e=a.getTrackId();e&&s.showTrack(e)}catch(e){console.error(e),i.notifyError(`${e}`,e)}l()},color:"primary",variant:"contained",children:"Go"})})]},a.getId()))})]})})}function A({model:d,assemblyName:h,searchQuery:s,searchResults:l,handleClose:i}){return n.jsxs(S.Dialog,{open:!0,maxWidth:"xl",onClose:i,title:"Search results",children:[n.jsx(D,{children:l!=null&&l.length?n.jsxs(n.Fragment,{children:[n.jsxs(j,{children:["Showing results for ",n.jsx("b",{children:s})]}),n.jsx(I,{model:d,handleClose:i,assemblyName:h,searchResults:l})]}):n.jsxs(j,{children:["No results found for ",n.jsx("b",{children:s})]})}),n.jsx(E,{}),n.jsx(L,{children:n.jsx(f,{onClick:()=>{i()},color:"primary",children:"Cancel"})})]})}export{A as default};
//# sourceMappingURL=SearchResultsDialog-BlpKbVUL.js.map
