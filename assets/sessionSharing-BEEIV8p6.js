const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./aes-BD4Iq1Ud.js","./index-BXtJZUZx.js","./index-CEY7u6QK.css","./core-C_qtY1ZH.js","./_commonjs-dynamic-modules-TDtrdbi3.js","./___vite-browser-external_commonjs-proxy-CCwNl_xz.js","./enc-base64-DWGsuJJS.js","./enc-utf8-Cb6U4Rs3.js"])))=>i.map(i=>d[i]);
import{_ as c}from"./index-BXtJZUZx.js";import{t as m}from"./GridBookmarkWidget-D2uGkYvf.js";function w(t){return window.btoa([...window.crypto.getRandomValues(new Uint8Array(t*2))].map(o=>String.fromCharCode(o)).join("")).replaceAll(/[+/]/g,"").slice(0,t)}const u=async(t,o)=>(await c(()=>import("./aes-BD4Iq1Ud.js").then(n=>n.a),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)).encrypt(t,o).toString(),y=async(t,o)=>{const r=await c(()=>import("./aes-BD4Iq1Ud.js").then(e=>e.a),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url),n=await c(()=>import("./enc-utf8-Cb6U4Rs3.js").then(e=>e.e),__vite__mapDeps([7,1,2,3,4,5]),import.meta.url);return r.decrypt(t,o).toString(n)};function p(t){try{return JSON.parse(t).message}catch{return t}}async function h(t,o,r){const n=await m(JSON.stringify(t)),a=w(5),e=await u(n,a),s=new FormData;s.append("session",e),s.append("dateShared",`${Date.now()}`),s.append("referer",r);const i=await fetch(`${o}share`,{method:"POST",mode:"cors",body:s});if(!i.ok){const d=await i.text();throw new Error(p(d))}return{json:await i.json(),encryptedSession:e,password:a}}async function E(t,o,r){const n=o.split("share-")[1],a=`${t}?sessionId=${encodeURIComponent(n)}`,e=await fetch(a);if(!e.ok)throw new Error(p(await e.text()));const s=await e.json();return y(s.session,r)}export{E as r,h as s};
//# sourceMappingURL=sessionSharing-BEEIV8p6.js.map
