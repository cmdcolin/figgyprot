const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./SupplementaryAlignments-BbgZrjqL.js","./index-CT2bM4yV.js","./index-DIqbght7.css","./LinkedPairedAlignments-F6Pv2Eih.js"])))=>i.map(i=>d[i]);
import{ga as T,gb as be,gc as Ot,c as P,cz as B,bM as F,j as S,n as H,bO as R,bN as j,g5 as Pt,g6 as pt,ev as Ft,gd as Nt,cI as Tt,g8 as kt,fc as Bt,fd as Rt,ge as At,m as Lt,F as Et,h as Gt,C as It,cH as Ht,p as zt,L as Ut,o as Wt,P as Vt,_ as _t}from"./index-CT2bM4yV.js";var mt={},z={};Object.defineProperty(z,"__esModule",{value:!0});z.isEmpty=Jt;z.generateTitle=Xt;z.generateMaxWidth=Kt;z.accessNested=Zt;const xe=T(),Qt=be;function Jt(e){return Object.keys(e).length===0}function Xt(e,t,s){return[(0,Qt.ellipses)(`${e||t||""}`),`${s}`].filter(r=>!!r).join(" - ")}function Kt(e,t){return Math.ceil((0,xe.max)(e.map(s=>(0,xe.measureText)([...t,s[0]].join("."),12))))+10}function Zt(e,t={}){let s=t;for(const r of e)(0,xe.isObject)(s)&&(s=s[r]);return typeof s=="string"?s:(0,xe.isObject)(s)&&typeof s.Description=="string"?s.Description:void 0}var ht={},Te={},ee={},te={},He;function gt(){if(He)return te;He=1,Object.defineProperty(te,"__esModule",{value:!0}),te.useFeatureSequence=n;const e=P,t=Ot(),s=T(),r=5e5;function n(l,c,u,b){const[_,i]=(0,e.useState)(),[p,x]=(0,e.useState)();return(0,e.useEffect)(()=>{var m,d;if(!l)return;const{assemblyManager:o,rpcManager:a}=(0,s.getSession)(l),f=((d=(m=l.view)===null||m===void 0?void 0:m.assemblyNames)===null||d===void 0?void 0:d[0])||"";async function g(h,v,w){const y=await o.waitForAssembly(f);if(!y)throw new Error("assembly not found");const D="getSequence",q=await a.call(D,"CoreGetFeatures",{adapterConfig:(0,t.getConf)(y,["sequence","adapter"]),sessionId:D,regions:[{start:h,end:v,refName:y.getCanonicalRefName(w),assemblyName:f}]}),[C]=q;return(C==null?void 0:C.get("seq"))||""}(async()=>{try{x(void 0);const{start:h,end:v,refName:w}=c;if(!b&&v-h>r)i({error:`Genomic sequence larger than ${r}bp, use "force load" button to display`});else{const y=h-u,D=v+u,q=await g(h,v,w),C=await g(Math.max(0,y),h,w),E=await g(v,D,w);i({seq:q,upstream:C,downstream:E})}}catch(h){console.error(h),x(h)}})()},[c,l,u,b]),{sequence:_,error:p}}return te}var ne={},re={},ze;function Yt(){if(ze)return re;ze=1,Object.defineProperty(re,"__esModule",{value:!0});const e=S,t=P,s=H,r=R,n=F,c=(0,B.makeStyles)()(i=>({formElt:{margin:i.spacing(3),width:400},dialogContent:{width:"80em"},root:{padding:4}}));function u(i){return(0,e.jsx)("div",{children:(0,e.jsx)(r.TextField,{...i})})}function b({children:i}){return(0,e.jsx)("div",{children:(0,e.jsx)(r.FormControl,{children:i})})}const _=(0,n.observer)(function({handleClose:i,model:p}){const{classes:x}=c(),{upperCaseCDS:m}=p,[d,o]=(0,t.useState)(`${p.intronBp}`),[a,f]=(0,t.useState)(`${p.upDownBp}`),g=!Number.isNaN(+d),h=!Number.isNaN(+a);return(0,e.jsxs)(s.Dialog,{maxWidth:"xl",open:!0,onClose:()=>{i()},title:"Feature sequence settings",children:[(0,e.jsxs)(r.DialogContent,{className:x.dialogContent,children:[(0,e.jsx)(u,{label:"Number of intronic bases around splice site to display",className:x.formElt,value:d,helperText:g?"":"Not a number",error:!g,onChange:v=>{o(v.target.value)}}),(0,e.jsx)(u,{label:"Number of bases up/down stream of feature to display",className:x.formElt,value:a,helperText:h?"":"Not a number",error:!h,onChange:v=>{f(v.target.value)}}),(0,e.jsxs)(b,{children:[(0,e.jsx)(r.FormLabel,{children:"Sequence capitalization"}),(0,e.jsxs)(r.RadioGroup,{value:m?"cds":"unchanged",onChange:v=>{p.setUpperCaseCDS(v.target.value==="cds")},children:[(0,e.jsx)(r.FormControlLabel,{value:"cds",control:(0,e.jsx)(r.Radio,{className:x.root,size:"small"}),label:"Capitalize CDS and lower case everything else"}),(0,e.jsx)(r.FormControlLabel,{value:"unchanged",control:(0,e.jsx)(r.Radio,{className:x.root,size:"small"}),label:"Capitalization from reference genome sequence"})]})]})]}),(0,e.jsxs)(r.DialogActions,{children:[(0,e.jsx)(r.Button,{onClick:()=>{p.setIntronBp(+d),p.setUpDownBp(+a),i()},disabled:!g||!h,color:"primary",variant:"contained",children:"Submit"}),(0,e.jsx)(r.Button,{onClick:()=>{i()},color:"secondary",autoFocus:!0,variant:"contained",children:"Cancel"})]})]})});return re.default=_,re}var Ue;function xt(){if(Ue)return ne;Ue=1;var e=j&&j.__createBinding||(Object.create?function(d,o,a,f){f===void 0&&(f=a);var g=Object.getOwnPropertyDescriptor(o,a);(!g||("get"in g?!o.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(d,f,g)}:function(d,o,a,f){f===void 0&&(f=a),d[f]=o[a]}),t=j&&j.__setModuleDefault||(Object.create?function(d,o){Object.defineProperty(d,"default",{enumerable:!0,value:o})}:function(d,o){d.default=o}),s=j&&j.__importStar||function(){var d=function(o){return d=Object.getOwnPropertyNames||function(a){var f=[];for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&(f[f.length]=g);return f},d(o)};return function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var f=d(o),g=0;g<f.length;g++)f[g]!=="default"&&e(a,o,f[g]);return t(a,o),a}}(),r=j&&j.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(ne,"__esModule",{value:!0});const n=S,l=P,c=r(Pt),u=r(pt),b=r(Ft()),_=Tt,i=F,p=r(Nt),x=(0,l.lazy)(()=>Promise.resolve().then(()=>s(Yt()))),m=(0,i.observer)((0,l.forwardRef)(function({model:o,extraItems:a=[]},f){if(typeof f=="function")throw new Error("needs a non function ref");const[g,h]=(0,l.useState)(!1),{showCoordinatesSetting:v,showGenomicCoordsOption:w}=o;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.default,{menuItems:[{label:"Copy plaintext",onClick:()=>{const y=f==null?void 0:f.current;y&&(0,b.default)(y.textContent||"",{format:"text/plain"})}},{label:"Copy HTML",onClick:()=>{const y=f==null?void 0:f.current;y&&(0,b.default)(y.outerHTML,{format:"text/html"})}},{label:"Download plaintext",onClick:()=>{const y=f==null?void 0:f.current;y&&(0,_.saveAs)(new Blob([y.textContent||""],{type:"text/plain;charset=utf-8"}),"sequence.txt")}},{label:"Download HTML",onClick:()=>{const y=f==null?void 0:f.current;y&&(0,_.saveAs)(new Blob([y.outerHTML||""],{type:"text/html;charset=utf-8"}),"sequence.html")}},...a,{label:"Show coordinates?",type:"subMenu",subMenu:[{label:"No coordinates",type:"radio",checked:v==="none",onClick:()=>{o.setShowCoordinates("none")}},{label:"Coordinates relative to feature start",type:"radio",checked:v==="relative",onClick:()=>{o.setShowCoordinates("relative")}},...w?[{label:"Coordinates relative to genome (only available for continuous genome based sequence types)",type:"radio",checked:v==="genomic",onClick:()=>{o.setShowCoordinates("genomic")}}]:[]]},{label:"Settings",icon:u.default,onClick:()=>{h(!0)}}],children:(0,n.jsx)(c.default,{})}),g?(0,n.jsx)(x,{model:o,handleClose:()=>{h(!1)}}):null]})}));return ne.default=m,ne}var se={},We;function jt(){if(We)return se;We=1,Object.defineProperty(se,"__esModule",{value:!0});const e=S,t=R,s=F,n=(0,B.makeStyles)()({formControl:{margin:0,marginLeft:4}}),l=(0,s.observer)(function({model:c}){const{classes:u}=n(),{intronBp:b,upDownBp:_,mode:i,hasCDS:p,hasExonOrCDS:x}=c;return(0,e.jsx)(t.FormControl,{className:u.formControl,children:(0,e.jsx)(t.Select,{size:"small",value:i,onChange:m=>{c.setMode(m.target.value)},children:Object.entries({...p?{cds:"CDS"}:{},...p?{protein:"Protein"}:{},...x?{cdna:"cDNA"}:{},...x?{gene:"Genomic w/ full introns"}:{},...x?{gene_updownstream:`Genomic w/ full introns +/- ${_}bp up+down stream`}:{},...x?{gene_collapsed_intron:`Genomic w/ ${b}bp intron`}:{},...x?{gene_updownstream_collapsed_intron:`Genomic w/ ${b}bp intron +/- ${_}bp up+down stream `}:{},...x?{}:{genomic:"Genomic"},...x?{}:{genomic_sequence_updownstream:`Genomic +/- ${_}bp up+down stream`}}).map(([m,d])=>(0,e.jsx)(t.MenuItem,{value:m,children:d},m))})})});return se.default=l,se}var oe={},ie={},ae={},O={},Ve;function ve(){if(Ve)return O;Ve=1,Object.defineProperty(O,"__esModule",{value:!0}),O.genomeColor=O.updownstreamColor=O.cdsColor=O.proteinColor=O.utrColor=O.intronColor=void 0,O.splitString=e,O.intronColor=void 0,O.utrColor="rgb(200,240,240)",O.proteinColor="rgb(220,160,220)",O.cdsColor="rgb(220,220,180)",O.updownstreamColor="rgba(250,200,200)",O.genomeColor="rgb(200,280,200)";function e({str:t,charactersPerRow:s,showCoordinates:r,currRemainder:n=0,splitSize:l=10}){var c;const u=Math.ceil(t.length/s),b=new Array(u);let _=n%10,i=0,p=0;for(;i<u+1;++i){const x=i===0?s-n:s,m=t.slice(p,p+x);if(!m)break;if(r){let d="";for(let o=0,a=_;o<m.length;o++,a++)a%l===0&&(d+=" ",a=0),d+=m[o];d&&(b[i]=d)}else b[i]=m;_=0,p+=x}return{segments:b,remainder:((((c=b.at(-1))===null||c===void 0?void 0:c.replaceAll(" ","").length)||0)+(i<2?n:0))%s}}return O}var le={},Qe;function Se(){if(Qe)return le;Qe=1,Object.defineProperty(le,"__esModule",{value:!0});const e=S,t=P,r=(0,F.observer)(function({chunks:n,start:l,color:c,strand:u=1,coordStart:b=l,model:_}){const{charactersPerRow:i,showCoordinates:p}=_;return n.map((x,m)=>{var d;const o=b-l%i,a=m===0&&l%i===0||m>0?`${`${o+m*u*i}`.padStart(4)}   `:"",f=m===n.length-1&&(((d=n.at(-1))===null||d===void 0?void 0:d.replaceAll(" ","").length)||0)+(m===0?l%i:0)!==i?null:p?` 
`:"";return(0,e.jsxs)(t.Fragment,{children:[p?a:null,(0,e.jsx)("span",{style:{background:c},children:x}),f]},`${x}-${m}`)})});return le.default=r,le}var Je;function en(){if(Je)return ae;Je=1;var e=j&&j.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ae,"__esModule",{value:!0});const t=S,s=F,r=ve(),n=e(Se()),l=(0,s.observer)(function({utr:c,cds:u,exons:b,sequence:_,upstream:i,downstream:p,feature:x,includeIntrons:m,collapseIntron:d,model:o}){var a;const{upperCaseCDS:f,intronBp:g,charactersPerRow:h,showCoordinates:v,showCoordinatesSetting:w}=o,y=u.length>0,D=(u.length?[...u,...c].sort((M,k)=>M.start-k.start):b).filter(M=>M.start!==M.end),q=M=>f?M.toLowerCase():M,C=M=>f?M.toUpperCase():M,E=x.strand===-1?-1:1,Q=w==="genomic"&&m&&!d,N=Q?E:1;let A=Q?E>0?x.start+1-((i==null?void 0:i.length)||0):x.end+((i==null?void 0:i.length)||0):0,L=0,U=0,Ee=null;if(i){const{segments:M,remainder:k}=(0,r.splitString)({str:q(i),charactersPerRow:h,showCoordinates:v});Ee=(0,t.jsx)(n.default,{model:o,color:r.updownstreamColor,strand:N,start:L,coordStart:A,chunks:M}),U=k,L=L+i.length*N,A=A+i.length*N}const Ce=[];for(let M=0;M<D.length;M++){const k=D[M],J=_.slice(k.end,(a=D[M+1])===null||a===void 0?void 0:a.start),X=_.slice(k.start,k.end),{segments:Dt,remainder:$t}=(0,r.splitString)({str:y?k.type==="CDS"?C(X):q(X):C(X),charactersPerRow:h,currRemainder:U,showCoordinates:v});if(Ce.push((0,t.jsx)(n.default,{model:o,color:k.type==="CDS"?r.cdsColor:r.utrColor,strand:N,start:L,coordStart:A,chunks:Dt},`${JSON.stringify(k)}-mid`)),U=$t,L=L+X.length*N,A=A+X.length*N,J&&m&&M<D.length-1){const we=q(d&&J.length>g*2?`${J.slice(0,g)}...${J.slice(-g)}`:J),{segments:Ie,remainder:Mt}=(0,r.splitString)({str:we,charactersPerRow:h,currRemainder:U,showCoordinates:v});Ie.length&&(Ce.push((0,t.jsx)(n.default,{model:o,strand:N,coordStart:A,start:L,chunks:Ie},`${JSON.stringify(k)}-intron`)),U=Mt,L=L+we.length*N,A=A+we.length*N)}}let Ge=null;if(p){const{segments:M}=(0,r.splitString)({str:q(p),charactersPerRow:h,currRemainder:U,showCoordinates:v});Ge=(0,t.jsx)(n.default,{start:L,model:o,strand:N,chunks:M,coordStart:A,color:r.updownstreamColor})}return(0,t.jsxs)(t.Fragment,{children:[Ee,Ce,Ge]})});return ae.default=l,ae}var ce={},Xe;function tn(){if(Xe)return ce;Xe=1;var e=j&&j.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ce,"__esModule",{value:!0});const t=S,s=F,r=be,n=ve(),l=e(Se()),c=(0,s.observer)(function({cds:u,sequence:b,model:_}){const{charactersPerRow:i,showCoordinates:p}=_,{segments:x}=(0,n.splitString)({str:(0,r.stitch)(u,b),charactersPerRow:i,showCoordinates:p});return(0,t.jsx)(l.default,{model:_,color:n.cdsColor,chunks:x,start:0})});return ce.default=c,ce}var ue={},Ke;function nn(){if(Ke)return ue;Ke=1;var e=j&&j.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ue,"__esModule",{value:!0});const t=S,s=F,r=ve(),n=e(Se()),l=(0,s.observer)(function({sequence:c,upstream:u,feature:b,downstream:_,model:i}){const{charactersPerRow:p,showCoordinatesSetting:x,showCoordinates:m}=i;let d=0,o=null,a=0;const f=b.strand===-1?-1:1,g=x==="genomic",h=g?f:1;let v=g?f>0?b.start+1-((u==null?void 0:u.length)||0):b.end+((u==null?void 0:u.length)||0):0;if(u){const{segments:C,remainder:E}=(0,r.splitString)({str:u,charactersPerRow:p,showCoordinates:m});o=(0,t.jsx)(n.default,{model:i,color:r.updownstreamColor,start:d,coordStart:v,chunks:C}),a=E,d=d+u.length*h,v=v+u.length*h}const{segments:w,remainder:y}=(0,r.splitString)({str:c,charactersPerRow:p,showCoordinates:m,currRemainder:a}),D=(0,t.jsx)(n.default,{model:i,color:r.genomeColor,start:d,coordStart:v,chunks:w});a=y,d+=c.length*h,v=v+c.length*h;let q=null;if(_){const{segments:C}=(0,r.splitString)({str:_,charactersPerRow:p,currRemainder:a,showCoordinates:m});q=(0,t.jsx)(n.default,{start:d,model:i,chunks:C,coordStart:v,color:r.updownstreamColor})}return(0,t.jsxs)(t.Fragment,{children:[o,D,q]})});return ue.default=l,ue}var de={},Ze;function rn(){if(Ze)return de;Ze=1;var e=j&&j.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(de,"__esModule",{value:!0});const t=S,s=F,r=be,n=ve(),l=e(Se()),c=(0,s.observer)(function({cds:u,sequence:b,codonTable:_,model:i}){const{charactersPerRow:p,showCoordinates:x}=i,m=(0,r.stitch)(u,b);let d="";for(let a=0;a<m.length;a+=3)d+=_[m.slice(a,a+3)]||"&";const{segments:o}=(0,n.splitString)({str:d,charactersPerRow:p,showCoordinates:x});return(0,t.jsx)(l.default,{model:i,color:n.proteinColor,chunks:o,start:0})});return de.default=c,de}var Ye;function sn(){if(Ye)return ie;Ye=1;var e=j&&j.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ie,"__esModule",{value:!0});const t=S,s=F,r=T(),n=be,l=e(en()),c=e(tn()),u=e(nn()),b=e(rn()),_=(0,s.observer)(function({mode:i,feature:p,sequence:x,model:m}){var d;let{seq:o,upstream:a="",downstream:f=""}=x;const g=((d=p.subfeatures)===null||d===void 0?void 0:d.sort((y,D)=>y.start-D.start).map(y=>({...y,start:y.start-p.start,end:y.end-p.start})))||[];let h=(0,n.dedupe)(g.filter(y=>y.type==="CDS")),v=(0,n.dedupe)(g.filter(y=>{var D;return(D=y.type)===null||D===void 0?void 0:D.match(/utr/i)})),w=(0,n.dedupe)(g.filter(y=>y.type==="exon"));return!v.length&&h.length&&w.length&&(v=(0,n.calculateUTRs)(h,w)),!v.length&&h.length&&!w.length&&(v=(0,n.calculateUTRs2)(h,{start:0,end:p.end-p.start,type:"gene"})),p.strand===-1&&([o,a,f]=[(0,r.revcom)(o),(0,r.revcom)(f),(0,r.revcom)(a)],h=(0,n.revlist)(h,o.length),w=(0,n.revlist)(w,o.length),v=(0,n.revlist)(v,o.length)),(0,t.jsx)(t.Fragment,{children:i==="genomic"?(0,t.jsx)(u.default,{feature:p,model:m,sequence:o}):i==="genomic_sequence_updownstream"?(0,t.jsx)(u.default,{model:m,feature:p,sequence:o,upstream:a,downstream:f}):i==="cds"?(0,t.jsx)(c.default,{model:m,cds:h,sequence:o}):i==="cdna"?(0,t.jsx)(l.default,{model:m,exons:w,feature:p,cds:h,utr:v,sequence:o}):i==="protein"?(0,t.jsx)(b.default,{model:m,cds:h,codonTable:(0,r.generateCodonTable)(r.defaultCodonTable),sequence:o}):i==="gene"?(0,t.jsx)(l.default,{model:m,exons:w,feature:p,cds:h,utr:v,sequence:o,includeIntrons:!0}):i==="gene_collapsed_intron"?(0,t.jsx)(l.default,{model:m,exons:w,feature:p,cds:h,sequence:o,utr:v,includeIntrons:!0,collapseIntron:!0}):i==="gene_updownstream"?(0,t.jsx)(l.default,{model:m,exons:w,feature:p,cds:h,sequence:o,utr:v,upstream:a,downstream:f,includeIntrons:!0}):i==="gene_updownstream_collapsed_intron"?(0,t.jsx)(l.default,{model:m,exons:w,feature:p,cds:h,sequence:o,utr:v,upstream:a,downstream:f,includeIntrons:!0,collapseIntron:!0}):(0,t.jsx)("div",{children:"Unknown type"})})});return ie.default=_,ie}var fe={},et;function on(){if(et)return fe;et=1,Object.defineProperty(fe,"__esModule",{value:!0});const e=S,t=F,s=T();function r(l){return l===-1?"(-)":l===1?"(+)":""}const n=(0,t.observer)(function({mode:l,model:c,feature:u}){return(0,e.jsx)("div",{style:{background:"white"},children:`>${[[u.name||u.id,l].filter(b=>!!b).join("-"),`${u.refName}:${(0,s.toLocale)(u.start+1)}-${(0,s.toLocale)(u.end)}${r(u.strand)}`,l.endsWith("updownstream")?`+/- ${(0,s.toLocale)(c.upDownBp)} up/downstream bp`:""].filter(b=>!!b).join(" ")}
`})});return fe.default=n,fe}var tt;function bt(){if(tt)return oe;tt=1;var e=j&&j.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(oe,"__esModule",{value:!0});const t=S,s=P,r=F,n=e(sn()),l=e(on());function c({children:_}){return(0,t.jsx)("pre",{style:{fontFamily:"monospace",color:"black",fontSize:11},children:_})}function u({children:_}){return(0,t.jsx)("div",{style:{fontFamily:"monospace",color:"black",fontSize:11,maxWidth:600,whiteSpace:"wrap",wordBreak:"break-all"},children:_})}const b=(0,r.observer)((0,s.forwardRef)(function(i,p){const{sequence:x,model:m,feature:d}=i,{showCoordinates:o,mode:a}=m,f=o?c:u;return(0,t.jsx)("div",{"data-testid":"sequence_panel",ref:p,style:{maxHeight:300,overflow:"auto"},children:(0,t.jsxs)(f,{children:[(0,t.jsx)(l.default,{model:m,mode:a,feature:d}),(0,t.jsx)(n.default,{model:m,mode:a,feature:d,sequence:x})]})})}));return oe.default=b,oe}var pe={},nt;function an(){if(nt)return pe;nt=1;var e=j&&j.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(pe,"__esModule",{value:!0});const t=S,s=P,r=H,n=R,l=F,c=B,u=e(bt()),b=gt(),_=e(xt()),i=e(jt()),p=(0,c.makeStyles)()({dialogContent:{width:"80em"},formControl:{margin:0,marginLeft:4}}),x=(0,l.observer)(function({handleClose:m,model:d,feature:o}){const{sequenceFeatureDetails:a}=d,{upDownBp:f}=a,{classes:g}=p(),h=(0,s.useRef)(null),[v,w]=(0,s.useState)(!1),{sequence:y,error:D}=(0,b.useFeatureSequence)(d,o,f,v);return(0,t.jsxs)(r.Dialog,{maxWidth:"xl",open:!0,onClose:()=>{m()},title:"Sequence view",children:[(0,t.jsxs)(n.DialogContent,{className:g.dialogContent,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.default,{model:a}),(0,t.jsx)(_.default,{ref:h,model:a})]}),(0,t.jsxs)("div",{children:[o.type==="gene"?(0,t.jsx)(n.Typography,{children:"Note: inspect subfeature sequences for protein/CDS computations"}):null,D?(0,t.jsx)(r.ErrorMessage,{error:D}):y?"error"in y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Typography,{color:"error",children:y.error}),(0,t.jsx)(n.Button,{variant:"contained",color:"inherit",onClick:()=>{w(!0)},children:"Force load"})]}):(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)(r.LoadingEllipses,{}),children:(0,t.jsx)(u.default,{ref:h,feature:o,sequence:y,model:a})}):(0,t.jsx)(r.LoadingEllipses,{})]})]}),(0,t.jsx)(n.DialogActions,{children:(0,t.jsx)(n.Button,{onClick:()=>{m()},variant:"contained",children:"Close"})})]})});return pe.default=x,pe}var rt;function ln(){if(rt)return ee;rt=1;var e=j&&j.__createBinding||(Object.create?function(o,a,f,g){g===void 0&&(g=f);var h=Object.getOwnPropertyDescriptor(a,f);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[f]}}),Object.defineProperty(o,g,h)}:function(o,a,f,g){g===void 0&&(g=f),o[g]=a[f]}),t=j&&j.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),s=j&&j.__importStar||function(){var o=function(a){return o=Object.getOwnPropertyNames||function(f){var g=[];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(g[g.length]=h);return g},o(a)};return function(a){if(a&&a.__esModule)return a;var f={};if(a!=null)for(var g=o(a),h=0;h<g.length;h++)g[h]!=="default"&&e(f,a,g[h]);return t(f,a),f}}(),r=j&&j.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ee,"__esModule",{value:!0});const n=S,l=P,c=R,u=F,b=gt(),_=H,i=r(xt()),p=r(jt()),x=(0,l.lazy)(()=>Promise.resolve().then(()=>s(bt()))),m=(0,l.lazy)(()=>Promise.resolve().then(()=>s(an()))),d=(0,u.observer)(function({model:o,feature:a}){const{sequenceFeatureDetails:f}=o,{upDownBp:g}=f,h=(0,l.useRef)(null),[v,w]=(0,l.useState)(!1),[y,D]=(0,l.useState)(!1),{sequence:q,error:C}=(0,b.useFeatureSequence)(o,a,g,y);return(0,l.useEffect)(()=>{f.setFeature(a)},[f,a]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(p.default,{model:f}),(0,n.jsx)(i.default,{ref:h,model:f,extraItems:[{label:"Open in dialog",onClick:()=>{setTimeout(()=>{w(!0)},1)}}]})]}),v?(0,n.jsxs)("div",{children:["Open in dialog...",(0,n.jsx)(l.Suspense,{fallback:(0,n.jsx)(_.LoadingEllipses,{}),children:(0,n.jsx)(m,{model:o,feature:a,handleClose:()=>{w(!1)}})})]}):(0,n.jsxs)("div",{children:[a.type==="gene"?(0,n.jsx)(c.Typography,{children:"Note: inspect subfeature sequences for protein/CDS computations"}):null,C?(0,n.jsx)(_.ErrorMessage,{error:C}):q?"error"in q?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Typography,{color:"error",children:q.error}),(0,n.jsx)(c.Button,{variant:"contained",color:"inherit",onClick:()=>{D(!0)},children:"Force load"})]}):(0,n.jsx)(l.Suspense,{fallback:(0,n.jsx)(_.LoadingEllipses,{}),children:(0,n.jsx)(x,{ref:h,feature:a,sequence:q,model:f})}):(0,n.jsx)(_.LoadingEllipses,{})]})]})});return ee.default=d,ee}var _e={},st;function cn(){if(st)return _e;st=1;var e=j&&j.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=l;const t=S,s=H,r=e(pt),n=R;function l({handleClose:c}){return(0,t.jsxs)(s.Dialog,{maxWidth:"xl",open:!0,onClose:()=>{c()},title:"Feature sequence panel help",children:[(0,t.jsxs)(n.DialogContent,{children:[(0,t.jsx)(n.Typography,{children:'The "Feature sequence" panel shows the underlying genomic sequence for a given feature, fetched from the reference genome.'}),(0,t.jsx)(n.Typography,{children:"For gene features, this panel does special calculations to e.g. stitch together the coding sequence, the options are:"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"CDS - shows the stitched together CDS sequences"}),(0,t.jsx)("li",{children:'Protein - the translated coding sequence, with the "standard" genetic code'}),(0,t.jsx)("li",{children:"cDNA - shows the 'copy DNA' of transcript, formed from exon sequences"}),(0,t.jsx)("li",{children:"Genomic w/ introns +/- Nbp up+down stream - the sequence underlying the entire gene including including introns, with UTR and CDS highlighted"})]}),(0,t.jsx)(n.Typography,{children:"For other feature types, the options are:"}),(0,t.jsx)("ul",{children:(0,t.jsx)("li",{children:"Genomic +/- Nbp up+down stream - the reference genome sequence underlying the feature, with the up and downstream sequence"})}),(0,t.jsxs)(n.Typography,{children:['Note 1: you can use the "gear icon" ',(0,t.jsx)(r.default,{})," to edit the number of bp displayed up/downstream and in the intron region"]}),(0,t.jsx)(n.Typography,{children:"Note 2: The 'Copy HTML' function retains the colors from the sequence panel but cannot be pasted into some programs like notepad that only expect plain text."})]}),(0,t.jsx)(n.DialogActions,{children:(0,t.jsx)(n.Button,{onClick:()=>{c()},autoFocus:!0,variant:"contained",children:"Close"})})]})}return _e}var un=j&&j.__createBinding||(Object.create?function(e,t,s,r){r===void 0&&(r=s);var n=Object.getOwnPropertyDescriptor(t,s);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,n)}:function(e,t,s,r){r===void 0&&(r=s),e[r]=t[s]}),dn=j&&j.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vt=j&&j.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(s){var r=[];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[r.length]=n);return r},e(t)};return function(t){if(t&&t.__esModule)return t;var s={};if(t!=null)for(var r=e(t),n=0;n<r.length;n++)r[n]!=="default"&&un(s,t,r[n]);return dn(s,t),s}}(),fn=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Te,"__esModule",{value:!0});const I=S,je=P,pn=fn(kt),De=R,_n=F,mn=B,hn=H,gn=T(),xn=(0,je.lazy)(()=>Promise.resolve().then(()=>vt(ln()))),jn=(0,je.lazy)(()=>Promise.resolve().then(()=>vt(cn()))),bn=(0,mn.makeStyles)()(e=>({formControl:{margin:0},container:{marginTop:e.spacing(4),marginBottom:e.spacing(4)}})),vn=(0,_n.observer)(function({model:e,feature:t}){const{classes:s}=bn(),[r,n]=(0,je.useState)(!1);return(0,I.jsxs)("div",{className:s.container,children:[(0,I.jsx)(De.FormControl,{className:s.formControl,children:(0,I.jsx)(De.Button,{variant:"contained",onClick:()=>{n(!r)},children:r?"Hide feature sequence":"Show feature sequence"})}),(0,I.jsx)(De.IconButton,{onClick:()=>{(0,gn.getSession)(e).queueDialog(l=>[jn,{handleClose:l}])},children:(0,I.jsx)(pn.default,{})}),r?(0,I.jsx)(je.Suspense,{fallback:(0,I.jsx)(hn.LoadingEllipses,{}),children:(0,I.jsx)(xn,{model:e,feature:t},t.uniqueId)}):null]})});Te.default=vn;(function(e){var t=j&&j.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=Te;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t(s).default}})})(ht);var me={},he={},Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.default=$n;const $e=S,Sn=P,yn=R,qn=B,Cn=H,wn=T(),Dn=(0,qn.makeStyles)()(e=>({fieldValue:{wordBreak:"break-word",maxHeight:300,fontSize:12,padding:e.spacing(.5),overflow:"auto"}}));function $n({value:e}){const{classes:t}=Dn(),s=/^https?:\/\//.exec(`${e}`);return(0,$e.jsx)("div",{className:t.fieldValue,children:(0,Sn.isValidElement)(e)?e:s?(0,$e.jsx)(yn.Link,{href:`${e}`,children:`${e}`}):(0,$e.jsx)(Cn.SanitizedHTML,{html:(0,wn.isObject)(e)?JSON.stringify(e):String(e)})})}var V={};Object.defineProperty(V,"__esModule",{value:!0});V.default=Fn;const Me=S,Mn=R,On=B,Pn=(0,On.makeStyles)()(e=>({fieldDescription:{"&:hover":{background:e.palette.mode==="dark"?"#e65100":"yellow"}},fieldName:{wordBreak:"break-all",minWidth:90,borderBottom:"1px solid #0003",fontSize:12,background:e.palette.action.disabledBackground,marginRight:e.spacing(1),padding:e.spacing(.5)}}));function Fn({description:e,name:t,width:s,prefix:r=[]}){const{classes:n,cx:l}=Pn(),c=[...r,t].join(".");return e?(0,Me.jsx)(Mn.Tooltip,{title:e,placement:"left",children:(0,Me.jsx)("div",{className:l(n.fieldDescription,n.fieldName),children:c})}):(0,Me.jsx)("div",{className:n.fieldName,style:{width:s},children:c})}var ot;function Nn(){if(ot)return he;ot=1;var e=j&&j.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(he,"__esModule",{value:!0}),he.default=b;const t=S,s=B,r=e(qt()),n=e(Y),l=e(V),c=T(),u=(0,s.makeStyles)()(_=>({field:{display:"flex",flexWrap:"wrap"},fieldSubvalue:{wordBreak:"break-word",maxHeight:300,padding:_.spacing(.5),border:`1px solid ${_.palette.action.selected}`,boxSizing:"border-box",overflow:"auto"}}));function b({name:_,value:i,description:p,prefix:x=[]}){const{classes:m}=u();return i.length===1?(0,c.isObject)(i[0])?(0,t.jsx)(r.default,{attributes:i[0],prefix:[...x,_]}):(0,t.jsxs)("div",{className:m.field,children:[(0,t.jsx)(l.default,{prefix:x,description:p,name:_}),(0,t.jsx)(n.default,{value:i[0]})]}):i.every(d=>(0,c.isObject)(d))?(0,t.jsx)(t.Fragment,{children:i.map((d,o)=>(0,t.jsx)(r.default,{attributes:d,prefix:[...x,`${_}-${o}`]},`${JSON.stringify(d)}-${o}`))}):(0,t.jsxs)("div",{className:m.field,children:[(0,t.jsx)(l.default,{prefix:x,description:p,name:_}),i.map((d,o)=>(0,t.jsx)("div",{className:m.fieldSubvalue,children:(0,t.jsx)(n.default,{value:d})},`${JSON.stringify(d)}-${o}`))]})}return he}var ke={},Tn=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ke,"__esModule",{value:!0});ke.default=En;const G=S,kn=P,Oe=R,it=Bt,Bn=B,Rn=Tn(V),An=H,at=T(),Ln=(0,Bn.makeStyles)()(e=>({margin:{marginBottom:e.spacing(4)},cell:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}));function En({value:e,prefix:t,name:s}){const{classes:r}=Ln(),[n,l]=(0,kn.useState)(!1),c=Object.keys(e[0]).sort(),u=new Set(c),b=Object.entries(e).map(([p,x])=>{const{id:m,...d}=x;return{id:p,identifier:m,...d}});for(const p of e)for(const x of Object.keys(p))u.add(x);let _;u.has("id")?(u.delete("id"),_=["identifier",...u]):_=[...u];const i=_.map(p=>(0,at.measureGridWidth)(b.map(x=>x[p])));return u.size<c.length+5?(0,G.jsxs)("div",{className:r.margin,children:[(0,G.jsx)(Rn.default,{prefix:t,name:s}),(0,G.jsx)(Oe.FormControlLabel,{control:(0,G.jsx)(Oe.Checkbox,{checked:n,onChange:p=>{l(p.target.checked)}}),label:(0,G.jsx)(Oe.Typography,{variant:"body2",children:"Show options"})}),(0,G.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,G.jsx)(it.DataGrid,{disableRowSelectionOnClick:!0,rows:b,rowHeight:20,columnHeaderHeight:35,hideFooter:b.length<25,slots:{toolbar:n?it.GridToolbar:null},slotProps:{toolbar:{printOptions:{disableToolbarButton:!0}}},columns:_.map((p,x)=>({field:p,renderCell:m=>{const d=m.value;return(0,G.jsx)("div",{className:r.cell,children:(0,G.jsx)(An.SanitizedHTML,{html:(0,at.getStr)(d||"")})})},width:i[x]}))})})]}):null}var ye={},St=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ye,"__esModule",{value:!0});var Gn=ye.default=Wn;const Pe=S,In=B,Hn=St(Y),zn=St(V),Un=(0,In.makeStyles)()({field:{display:"flex",flexWrap:"wrap"}});function Wn({name:e,value:t,description:s,prefix:r,width:n}){const{classes:l}=Un();return t!=null?(0,Pe.jsxs)("div",{className:l.field,children:[(0,Pe.jsx)(zn.default,{prefix:r,description:s,name:e,width:n}),(0,Pe.jsx)(Hn.default,{value:t})]}):null}var Be={},yt=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});Be.default=Kn;const Fe=S,Vn=B,Qn=yt(Y),Jn=yt(V),Xn=(0,Vn.makeStyles)()({field:{display:"flex",flexWrap:"wrap"}});function Kn({value:e,prefix:t,name:s}){const{classes:r}=Xn(),{uri:n,baseUri:l=""}=e;let c;try{c=new URL(n,l).href}catch{c=n}return(0,Fe.jsxs)("div",{className:r.field,children:[(0,Fe.jsx)(Jn.default,{prefix:t,name:s}),(0,Fe.jsx)(Qn.default,{value:c})]})}var lt;function qt(){if(lt)return me;lt=1;var e=j&&j.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(me,"__esModule",{value:!0}),me.default=i;const t=S,s=e(Nn()),r=e(ke),n=e(ye),l=e(Be),c=z,u=T(),b=170,_=["__jbrowsefmt","length","position","subfeatures","uniqueId","exonFrames","parentId","thickStart","thickEnd"];function i(p){const{attributes:x,omit:m=[],omitSingleLevel:d=[],descriptions:o,formatter:a=q=>q,hideUris:f,prefix:g=[]}=p,h=new Set([...m,..._,...d]),{__jbrowsefmt:v,...w}=x,y={...w,...v},D=(0,c.generateMaxWidth)(Object.entries(y).filter(([q,C])=>C!==void 0&&!h.has(q)),g);return(0,t.jsx)(t.Fragment,{children:Object.entries(y).filter(([q,C])=>C!==void 0&&!h.has(q)).map(([q,C])=>{const E=(0,c.accessNested)([...g,q],o);if(Array.isArray(C))return C.length>1&&C.every(Q=>(0,u.isObject)(Q))?(0,t.jsx)(r.default,{name:q,prefix:g,value:C},q):(0,t.jsx)(s.default,{name:q,value:C,description:E,prefix:g},q);if((0,u.isObject)(C)){const{omitSingleLevel:Q,...N}=p;return(0,u.isUriLocation)(C)?f?null:(0,t.jsx)(l.default,{name:q,prefix:g,value:C},q):(0,t.jsx)(i,{...N,attributes:C,descriptions:o,prefix:[...g,q]},q)}else return(0,t.jsx)(n.default,{name:q,value:a(C,q),description:E,prefix:g,width:Math.min(D,b)},q)})})}return me}var Re={},Zn=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Re,"__esModule",{value:!0});var Yn=Re.default=rr;const K=S,er=Zn(Rt),ge=R,tr=B,nr=(0,tr.makeStyles)()(e=>({expansionPanelDetails:{display:"block",padding:e.spacing(1)},icon:{color:e.palette.tertiary.contrastText||"#fff"}}));function rr({children:e,title:t,defaultExpanded:s=!0}){const{classes:r}=nr();return(0,K.jsxs)(ge.Accordion,{defaultExpanded:s,children:[(0,K.jsx)(ge.AccordionSummary,{expandIcon:(0,K.jsx)(er.default,{className:r.icon}),children:(0,K.jsx)(ge.Typography,{variant:"button",children:t})}),(0,K.jsx)(ge.AccordionDetails,{className:r.expansionPanelDetails,children:e})]})}var Ae={},Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.default=or;const ct=S,sr=T();function or(e){const{feature:t}=e,s=t.strand,r={"-1":"-",0:"",1:"+"},n=r[s]?`(${r[s]})`:"",l=(0,sr.assembleLocString)(t);return(0,ct.jsx)(ct.Fragment,{children:`${l} ${n}`})}var Ct=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.default=lr;const Z=S,ir=Ct(Le),ut=Ct(ye),ar=T();function lr(e){const{feature:t}=e,s=t,r={...s,...s.__jbrowsefmt},{start:n,end:l}=r,c={...r,length:(0,ar.toLocale)(l-n)},u={description:"Description",name:"Name",length:"Length",type:"Type"};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(ut.default,{name:"Position",value:(0,Z.jsx)(ir.default,{...e,feature:r})}),Object.entries(u).map(([b,_])=>[_,c[b]]).filter(([,b])=>b!=null).map(([b,_])=>(0,Z.jsx)(ut.default,{name:b,value:_},b))]})}var qe=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mt,"__esModule",{value:!0});var cr=mt.default=wt;const $=S,ur=At,W=R,dr=z,fr=qe(ht),pr=qe(qt()),Ne=qe(Re),dt=qe(Ae),_r=H,ft=T(),mr=["name","start","end","strand","refName","description","type"];function wt(e){const{omit:t=[],model:s,feature:r,depth:n=0}=e,{maxDepth:l}=s,{mate:c,name:u="",id:b="",type:_="",subfeatures:i,uniqueId:p}=r,x=(0,ft.getEnv)(s).pluginManager,m=(0,ft.getSession)(s),d=x.evaluateExtensionPoint("Core-extraFeaturePanel",null,{session:m,feature:r,model:s}),o=c;return(0,$.jsxs)(Ne.default,{title:(0,dr.generateTitle)(u,b,_),children:[(0,$.jsx)(W.Typography,{children:"Core details"}),(0,$.jsx)(dt.default,{...e}),o?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(W.Divider,{}),(0,$.jsx)(W.Typography,{children:"Mate details"}),(0,$.jsx)(dt.default,{...e,feature:{...o,start:o.start,end:o.end,refName:o.refName,uniqueId:`${p}-mate`}})]}):null,(0,$.jsx)(W.Divider,{}),(0,$.jsx)(W.Typography,{children:"Attributes"}),(0,$.jsx)(pr.default,{attributes:r,...e,omit:t,omitSingleLevel:mr}),(0,$.jsx)(ur.ErrorBoundary,{FallbackComponent:a=>(0,$.jsx)(_r.ErrorMessage,{error:a.error}),children:(0,$.jsx)(fr.default,{...e})}),d?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(W.Divider,{}),(0,$.jsx)(Ne.default,{title:d.name,children:(0,$.jsx)(d.Component,{...e})})]}):null,n<l&&(i!=null&&i.length)?(0,$.jsx)(Ne.default,{title:"Subfeatures",defaultExpanded:n<1,children:i.map((a,f)=>(0,$.jsx)(wt,{feature:{...a,uniqueId:`${p}_${f}`},model:s,depth:n+1},JSON.stringify(a)))}):null]})}const hr=Lt()({compact:{paddingRight:0,paddingTop:0,paddingBottom:0}}),gr=["read paired","read mapped in proper pair","read unmapped","mate unmapped","read reverse strand","mate reverse strand","first in pair","second in pair","not primary alignment","read fails platform/vendor quality checks","read is PCR or optical duplicate","supplementary alignment"];function xr(e){const{classes:t}=hr(),{feature:s}=e,{flags:r}=s;return S.jsxs(Yn,{...e,title:"Flags",children:[S.jsx(Gn,{name:"Flag",value:r}),S.jsx(Et,{children:gr.map((n,l)=>{const c=r&1<<l,u=`${n}_${c}`;return S.jsx(Gt,{control:S.jsx(It,{className:t.compact,checked:!!c,name:n,readOnly:!0}),label:n},u)})})]})}function jr({value:e}){const[t,s]=P.useState(!1),[r,n]=P.useState(!1),l=String(e);return l.length>100?S.jsxs(S.Fragment,{children:[S.jsx("button",{type:"button",onClick:()=>{Ht(l),n(!0),setTimeout(()=>{n(!1)},700)},children:r?"Copied to clipboard":"Copy"}),S.jsx("button",{type:"button",onClick:()=>{s(c=>!c)},children:t?"Show less":"Show more"}),S.jsx("div",{children:t?l:`${l.slice(0,100)}...`})]}):S.jsx("div",{children:l})}function br(e,t){var s;return((s=t.tags)===null||s===void 0?void 0:s[e])||t[e]}async function vr(e,t){const s=zt.getSession(t),{view:r}=t;try{if(r)await r.navToLocString(e);else throw new Error("No view associated with this view anymore")}catch(n){console.error(n),s.notify(`${n}`)}}function Sr({locString:e,model:t}){return S.jsx(Ut,{onClick:s=>{s.preventDefault(),vr(e,t)},href:"#",children:e})}const yr={AM:"The smallest template-independent mapping quality in the template",AS:"Alignment score generated by aligner",BC:"Barcode sequence identifying the sample",BQ:"Offset to base alignment quality (BAQ)",BZ:"Phred quality of the unique molecular barcode bases in the {OX} tag",CB:"Cell identifier",CC:"Reference name of the next hit",CM:"Edit distance between the color sequence and the color reference (see also {NM})",CO:"Free-text comments",CP:"Leftmost coordinate of the next hit",CQ:"Color read base qualities",CR:"Cellular barcode sequence bases (uncorrected)",CS:"Color read sequence",CT:"Complete read annotation tag, used for consensus annotation dummy features",CY:"Phred quality of the cellular barcode sequence in the {CR} tag",E2:"The 2nd most likely base calls",FI:"The index of segment in the template",FS:"Segment suffix",FZ:"Flow stopToken intensities",GC:"Reserved for backwards compatibility reasons",GQ:"Reserved for backwards compatibility reasons",GS:"Reserved for backwards compatibility reasons",H0:"Number of perfect hits",H1:"Number of 1-difference hits (see also {NM})",H2:"Number of 2-difference hits",HI:"Query hit index",IH:"Query hit total count",LB:"Library",MC:"CIGAR string for mate/next segment",MD:"String encoding mismatched and deleted reference bases",MF:"Reserved for backwards compatibility reasons",MI:"Molecular identifier; a string that uniquely identifies the molecule from which the record was derived",ML:"Base modification probabilities",MM:"Base modifications / methylation ",MQ:"Mapping quality of the mate/next segment",NH:"Number of reported alignments that contain the query in the current record",NM:"Edit distance to the reference",OA:"Original alignment",OC:"Original CIGAR (deprecated; use {OA} instead)",OP:"Original mapping position (deprecated; use {OA} instead)",OQ:"Original base quality",OX:"Original unique molecular barcode bases",PG:"Program",PQ:"Phred likelihood of the template",PT:"Read annotations for parts of the padded read sequence",PU:"Platform unit",Q2:"Phred quality of the mate/next segment sequence in the {R2} tag",QT:"Phred quality of the sample barcode sequence in the {BC} tag",QX:"Quality score of the unique molecular identifier in the {RX} tag",R2:"Sequence of the mate/next segment in the template",RG:"Read group",RT:"Reserved for backwards compatibility reasons",RX:"Sequence bases of the (possibly corrected) unique molecular identifier",S2:"Reserved for backwards compatibility reasons",SA:"Other canonical alignments in a chimeric alignment",SM:"Template-independent mapping quality",SQ:"Reserved for backwards compatibility reasons",TC:"The number of segments in the template",TS:"Transcript strand",U2:"Phred probability of the 2nd call being wrong conditional on the best being wrong",UQ:"Phred likelihood of the segment, conditional on the mapping being correct"},qr=P.lazy(()=>_t(()=>import("./SupplementaryAlignments-BbgZrjqL.js"),__vite__mapDeps([0,1,2]),import.meta.url)),Cr=P.lazy(()=>_t(()=>import("./LinkedPairedAlignments-F6Pv2Eih.js"),__vite__mapDeps([3,1,2]),import.meta.url)),wr=Wt(function(e){const{model:t}=e,{featureData:s}=t,r=structuredClone(s),n=br("SA",r),{flags:l}=r;return S.jsxs(Vt,{"data-testid":"alignment-side-drawer",children:[S.jsx(cr,{...e,descriptions:{tags:yr},feature:r,formatter:(c,u)=>u==="next_segment_position"?S.jsx(Sr,{model:t,locString:c}):S.jsx(jr,{value:c})}),n!==void 0?S.jsx(qr,{model:t,tag:n,feature:r}):null,l&1?S.jsx(Cr,{model:t,feature:r}):null,l!==void 0?S.jsx(xr,{feature:r,...e}):null]})}),$r=Object.freeze(Object.defineProperty({__proto__:null,default:wr},Symbol.toStringTag,{value:"Module"}));export{$r as A,Yn as _,vr as n};
//# sourceMappingURL=AlignmentsFeatureDetail-BKnk7V1a.js.map
