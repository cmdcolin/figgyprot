import{a3 as y}from"./index-CGKDrrCR.js";import{i as M}from"./util-B_L2Y7L7.js";import $ from"./PAFAdapter-oBP31DxD.js";import"./index-CGsrR2gh.js";function w(e,o,n,a,d,s,c,l,r){return{qname:e,qstart:o,qend:n,tname:d,tstart:s,tend:c,strand:a==="-"?-1:1,extra:{numMatches:r,blockLen:Math.max(n-o,c-s),mappingQual:0,cg:l}}}function z(e,o){const{statusCallback:n=()=>{}}={};let a="",d=0,s=0,c="",l="",r="",f=0,g=0,m=0,i="";const u=[];let A=0,p=0;const k=new TextDecoder("utf8");for(;p<e.length;){A++%1e4===0&&n(`Loading ${y.getProgressDisplayStr(p,e.length)}`);const h=e.indexOf(10,p);if(h===-1)break;const q=e.subarray(p,h),L=k.decode(q).trim();p=h+1;const t=L.replaceAll(" ","	").split("	");if(t[0]==="chain"){if(i&&u.push(w(c,f,g,r,a,d,s,i,m)),a=t[2],d=+t[5],s=+t[6],c=t[7],l=t[8],r=t[9],f=+t[10],g=+t[11],r==="-"){const _=f;f=+l-g,g=+l-_}m=0,i=""}else{const _=+t[0]||0,b=t.length>1?+t[1]:0,x=t.length>2?+t[2]:0;_!==0&&(m+=+_,i+=`${_}M`),x!==0&&(i+=`${x}I`),b!==0&&(i+=`${b}D`)}}return u}class E extends ${async setupPre(o){const n=M.openLocation(this.getConf("chainLocation"),this.pluginManager),a=await y.fetchAndMaybeUnzip(n,o);return z(a)}}export{E as default};
//# sourceMappingURL=ChainAdapter-Dr3AcN4A.js.map
