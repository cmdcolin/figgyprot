const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./WarningDialog-ByQpZGHY.js","./index-DQP-8m57.js","./index-CEY7u6QK.css","./DialogContentText-agbJdpxO.js","./DataGrid-ChB5DIbN.js","./index-C2zLQblx.js","./utils-BwPRrx3T.js","./getThemeProps-CxhQYenD.js","./MenuItem-tJXN-aMC.js","./dividerClasses-DeaUjeHH.js","./Divider-BL11ttcd.js","./Badge-0i2NKxJo.js","./TableCell-Wvje52uY.js","./DotplotTooltipClick-DqIIn2Do.js","./DotplotTooltipMouseover-uX5oOKqf.js"])))=>i.map(i=>d[i]);
import{aa as W,j as e,d2 as ne,o as C,an as M,cA as te,cB as se,ap as re,ck as de,cr as ue,a as o,aQ as he,B as _,_ as Z,m as K,P as U,d3 as pe,T as H,u as E,c as y,f as q,am as xe,cT as me,ak as fe,t as je,y as ye,aj as oe,bs as ge,bC as ie,cU as ve}from"./index-DQP-8m57.js";import{a as we,b as Ce,c as be}from"./Grid-BMb2LS6P.js";import{A as ke}from"./ArrowRight-DjqWREiz.js";import{R as ae}from"./RadioGroup-Bwaf1JN4.js";import{G as Y}from"./Grid-DSjVwpqQ.js";import{R as O}from"./Radio-DXlju-BF.js";import{M as Se}from"./MenuItem-tJXN-aMC.js";import{C as Me}from"./Container-BqSiQx_j.js";import"./getThemeProps-CxhQYenD.js";import"./useThemeProps-BmWfpJIl.js";import"./dividerClasses-DeaUjeHH.js";const Le=W(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14z"})),Ae=W(e.jsx("path",{d:"M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 12H5V7h14z"})),Ee=W(e.jsx("path",{d:"M12.01 5.5 10 8h4zM18 10v4l2.5-1.99zM6 10l-2.5 2.01L6 14zm8 6h-4l2.01 2.5zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16.01H3V4.99h18z"}));function Ie(n){return e.jsx(ne,{...n,children:e.jsx("path",{fill:"currentColor",d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"})})}function Te(n){return e.jsx(ne,{...n,children:e.jsx("path",{fill:"currentColor",d:"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z"})})}const ze=C(function({model:n}){return e.jsxs("div",{children:[e.jsx(M,{onClick:()=>{n.zoomOut()},children:e.jsx(te,{})}),e.jsx(M,{onClick:()=>{n.zoomIn()},children:e.jsx(se,{})}),e.jsx(M,{onClick:()=>n.activateTrackSelector(),title:"Open track selector",children:e.jsx(re.TrackSelector,{})}),e.jsx(de,{menuItems:[{label:"Square view - same bp per pixel",icon:Le,onClick:()=>{n.squareView()}},{label:"Rectangular view - same total bp",icon:Ae,onClick:()=>{n.squareViewProportional()}},{label:"Show all regions",icon:Ee,onClick:()=>{n.showAllRegions()}},{type:"checkbox",label:"Draw CIGAR",checked:n.drawCigar,onClick:()=>{n.setDrawCigar(!n.drawCigar)}},{label:"Show pan buttons",type:"checkbox",checked:n.showPanButtons,onClick:()=>{n.setShowPanButtons(!n.showPanButtons)}},{label:"Click and drag mode",subMenu:[{label:"Pan by default, select region when ctrl/cmd key is held",icon:Ie,type:"radio",checked:n.cursorMode==="move",onClick:()=>{n.setCursorMode("move")}},{label:"Select region by default, pan when ctrl/cmd key is held",icon:Te,type:"radio",checked:n.cursorMode==="crosshair",onClick:()=>{n.setCursorMode("crosshair")}}]},{label:"Wheel scroll mode",subMenu:[{label:"Pans view",type:"radio",checked:n.wheelMode==="pan",onClick:()=>{n.setWheelMode("pan")}},{label:"Zooms view",type:"radio",checked:n.wheelMode==="zoom",onClick:()=>{n.setWheelMode("zoom")}},{label:"Disable",type:"radio",checked:n.wheelMode==="none",onClick:()=>{n.setWheelMode("none")}}]}],children:e.jsx(ue,{})})]})}),Ne=o.lazy(()=>Z(()=>import("./WarningDialog-ByQpZGHY.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]),import.meta.url)),Pe=C(function({model:n}){const s=n.tracks.filter(u=>{var h;return(h=u.displays[0].warnings)===null||h===void 0?void 0:h.length}),[t,r]=o.useState(!1),[i,c]=o.useState(!1);return s.length&&!i?e.jsxs(he,{severity:"warning",children:["Warnings during render"," ",e.jsx(_,{onClick:()=>{r(!0)},children:"More info"}),t?e.jsx(Ne,{trackWarnings:s,handleClose:()=>{r(!1)}}):null,e.jsx(_,{variant:"contained",onClick:()=>{c(!0)},children:"Dismiss"})]}):null}),De=W(e.jsx("path",{d:"m7 14 5-5 5 5z"})),Ve=W(e.jsx("path",{d:"m14 7-5 5 5 5z"})),Re=K()({dpad:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",margin:0,position:"absolute",right:50,zIndex:500,top:50},icon:{padding:0,margin:0}}),Be=C(function({model:s}){const{classes:t}=Re();return e.jsxs(U,{className:t.dpad,elevation:6,children:[e.jsx("div",{}),e.jsx(M,{className:t.icon,onClick:()=>{s.vview.scroll(100)},children:e.jsx(De,{})}),e.jsx("div",{}),e.jsx(M,{className:t.icon,onClick:()=>{s.hview.scroll(-100)},children:e.jsx(Ve,{})}),e.jsx("div",{}),e.jsx(M,{className:t.icon,onClick:()=>{s.hview.scroll(100)},children:e.jsx(ke,{})}),e.jsx("div",{}),e.jsx(M,{className:t.icon,onClick:()=>{s.vview.scroll(-100)},children:e.jsx(pe,{})}),e.jsx("div",{}),e.jsx(M,{className:t.icon,onClick:()=>{s.zoomIn()},children:e.jsx(se,{})}),e.jsx("div",{}),e.jsx(M,{className:t.icon,onClick:()=>{s.zoomOut()},children:e.jsx(te,{})})]})}),Fe=K()({bp:{display:"flex",alignItems:"center",marginLeft:10},spacer:{flexGrow:1},headerBar:{display:"flex",position:"relative"}}),_e=C(function({model:n,selection:s}){const{classes:t}=Fe(),{hview:r,vview:i,showPanButtons:c}=n;return e.jsxs("div",{className:t.headerBar,children:[e.jsx(ze,{model:n}),e.jsxs(H,{className:t.bp,variant:"body2",color:"textSecondary",children:["x: ",r.assemblyNames.join(",")," ",E.getBpDisplayStr(r.currBp),e.jsx("br",{}),"y: ",i.assemblyNames.join(",")," ",E.getBpDisplayStr(i.currBp)]}),s?e.jsxs(H,{className:t.bp,variant:"body2",color:"textSecondary",children:[`width:${E.getBpDisplayStr(r.bpPerPx*s.width)}`," ",e.jsx("br",{}),`height:${E.getBpDisplayStr(i.bpPerPx*s.height)}`]}):null,e.jsx("div",{className:t.spacer}),e.jsx(Pe,{model:n}),c?e.jsx(Be,{model:n}):null]})});function He({radioOption:n,assembly1:s,assembly2:t,fileLocation:r,indexFileLocation:i,bed1Location:c,bed2Location:u}){if(n===".paf")return{type:"PAFAdapter",pafLocation:r,queryAssembly:s,targetAssembly:t};if(n===".out")return{type:"MashMapAdapter",outLocation:r,queryAssembly:s,targetAssembly:t};if(n===".delta")return{type:"DeltaAdapter",deltaLocation:r,queryAssembly:s,targetAssembly:t};if(n===".chain")return{type:"ChainAdapter",chainLocation:r,queryAssembly:s,targetAssembly:t};if(n===".anchors")return{type:"MCScanAnchorsAdapter",mcscanAnchorsLocation:r,bed1Location:c,bed2Location:u,assemblyNames:[s,t]};if(n===".anchors.simple")return{type:"MCScanSimpleAnchorsAdapter",mcscanSimpleAnchorsLocation:r,bed1Location:c,bed2Location:u,assemblyNames:[s,t]};if(n===".pif.gz")return{type:"PairwiseIndexedPAFAdapter",pifGzLocation:r,index:{location:i},assemblyNames:[s,t]};throw new Error(`Unknown to detect type ${n} from filename (select radio button to clarify)`)}function We(n){return n?n.uri||n.localPath||n.name:void 0}function $e(n){return n.endsWith(".gz")?n.slice(0,-3):n}function qe(n){return n.split("#")[0].split("?")[0].split("/").pop()}function Oe(n){const s=n.split(".").pop();return s?`.${s}`:""}const Ke=C(function({model:n,assembly1:s,assembly2:t}){const[r,i]=o.useState(!1),[c,u]=o.useState(),[h,k]=o.useState(),[d,p]=o.useState(),[x,f]=o.useState(),[g,I]=o.useState(""),[L,T]=o.useState(),b=We(d),v=g||(b?Oe($e(b)):"");o.useEffect(()=>{try{if(d){const a=b?qe(b):"MyTrack",V=`${a}-${Date.now()}-sessionTrack`;T(void 0),n.setImportFormSyntenyTrack(0,{type:"userOpened",value:{trackId:V,name:a,assemblyNames:[t,s],type:"SyntenyTrack",adapter:He({radioOption:v,assembly1:r?t:s,assembly2:r?s:t,fileLocation:d,indexFileLocation:x,bed1Location:h,bed2Location:c})}})}}catch(a){console.error(a),T(a)}},[r,n,b,s,t,h,c,d,x,v]);const $={".paf":"minimap2 target.fa query.fa",".pif.gz":"minimap2 target.fa query.fa",".out":"mashmap target.fa query.fa",".delta":"mummer target.fa query.fa",".chain":"e.g. queryToTarget.chain"};return e.jsxs(U,{style:{padding:12},children:[L?e.jsx(y.ErrorMessage,{error:L}):null,e.jsx(H,{style:{textAlign:"center"},children:"Add a .paf (minimap2), .delta (Mummer), .chain (UCSC liftover), .anchors or .anchors.simple (MCScan), or .pif.gz (jbrowse CLI make-pif) file to view. These file types can also be gzipped."}),e.jsx(ae,{value:v,onChange:a=>{I(a.target.value)},children:e.jsx(Y,{container:!0,justifyContent:"center",children:[".paf",".delta",".out",".chain",".anchors",".anchors.simple",".pif.gz"].map(a=>e.jsx(q,{value:a,control:e.jsx(O,{}),label:a},a))})}),e.jsx(Y,{container:!0,justifyContent:"center",children:v===".paf"||v===".out"||v===".delta"||v===".chain"||v===".pif.gz"?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[e.jsx(y.FileSelector,{name:`${v} location`,inline:!0,description:"",location:d,setLocation:a=>{p(a)}}),e.jsxs("div",{children:[e.jsxs("div",{children:["Verify or click swap",e.jsx(xe,{title:e.jsx("code",{children:$[v]}),children:e.jsx(me,{})})]}),e.jsxs("div",{style:{display:"flex",gap:20},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:4,alignItems:"center"},children:[e.jsx("div",{children:e.jsx("i",{children:r?t:s})}),e.jsx("div",{children:"query assembly"}),e.jsx("div",{children:e.jsx("i",{children:r?s:t})}),e.jsx("div",{children:"target assembly"})]}),e.jsx(_,{variant:"contained",onClick:()=>{i(!r)},children:"Swap?"})]})]})]}):g===".anchors"||g===".anchors.simple"?e.jsxs("div",{children:[e.jsxs("div",{style:{margin:20},children:["Open the ",g," and .bed files for both genome assemblies from the MCScan (Python version) pipeline"," ",e.jsx("a",{href:"https://github.com/tanghaibao/jcvi/wiki/MCscan-(Python-version)",children:"(more info)"})]}),e.jsxs("div",{children:[e.jsx(y.FileSelector,{inline:!0,name:g,location:d,setLocation:a=>{p(a)}}),e.jsx(y.FileSelector,{inline:!0,name:"genome 1 .bed (left column of anchors file)",description:"",location:h,setLocation:a=>{k(a)}}),e.jsx(y.FileSelector,{inline:!0,name:"genome 2 .bed (right column of anchors file)",description:"",location:c,setLocation:a=>{u(a)}})]}),e.jsxs("div",{style:{margin:"auto",display:"flex",justifyContent:"center",gap:20},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:4,alignItems:"center"},children:[e.jsx("div",{children:e.jsx("i",{children:r?t:s})}),e.jsx("div",{children:"bed1 assembly"}),e.jsx("div",{children:e.jsx("i",{children:r?s:t})}),e.jsx("div",{children:"bed2 assembly"})]}),e.jsx(_,{variant:"contained",onClick:()=>{i(!r)},children:"Swap?"})]})]}):g===".pif.gz"?e.jsxs("div",{style:{display:"flex"},children:[e.jsx("div",{children:e.jsx(y.FileSelector,{name:`${g} location`,description:"",location:d,setLocation:a=>{p(a)}})}),e.jsx("div",{children:e.jsx(y.FileSelector,{name:`${g} index location`,description:"",location:x,setLocation:a=>{f(a)}})})]}):e.jsx(y.FileSelector,{name:g?`${g} location`:"",description:"",location:d,setLocation:a=>{p(a)}})})]})});function Ue(n,s,t){const r=ye.readConfObject(n,"assemblyNames");return r.includes(s)&&r.includes(t)&&n.type.includes("Synteny")}const Ge=C(function({model:n,assembly1:s,assembly2:t}){var r;const i=E.getSession(n),{tracks:c,sessionTracks:u}=i,k=[...c,...u||[]].filter(f=>Ue(f,t,s)),d=((r=k[0])===null||r===void 0?void 0:r.trackId)||"",[p,x]=o.useState(d);return o.useEffect(()=>{x(d)},[d]),o.useEffect(()=>{n.setImportFormSyntenyTrack(0,{type:"preConfigured",value:p})},[n,p]),e.jsxs(U,{style:{padding:12},children:[e.jsxs(H,{children:['Select a track from the select box below, the track will be shown when you hit "Launch". Note: there is a track selector ',e.jsx("i",{children:"inside"})," the DotplotView, which can turn on one or more SyntenyTracks (more than one can be displayed at once). Look for the track selector icon"," ",e.jsx(re.TrackSelector,{})]}),k.length?e.jsx(fe,{value:p,onChange:f=>{x(f.target.value)},children:k.map(f=>e.jsx(Se,{value:f.trackId,children:je.getTrackName(f,i)},f.trackId))}):e.jsx(y.ErrorMessage,{error:`No synteny tracks found for ${s},${t}`})]})}),Xe=C(function({assembly1:n,assembly2:s,model:t}){const[r,i]=o.useState("tracklist");return o.useEffect(()=>{r==="none"&&t.setImportFormSyntenyTrack(0,{type:"none"})},[t,r]),e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:[e.jsx(ge,{id:"group-label",children:"(Optional) Select or add a synteny track"}),e.jsxs(ae,{row:!0,value:r,onChange:c=>{i(c.target.value)},"aria-labelledby":"group-label",children:[e.jsx(q,{value:"none",control:e.jsx(O,{}),label:"None"}),e.jsx(q,{value:"tracklist",control:e.jsx(O,{}),label:"Existing track"}),e.jsx(q,{value:"custom",control:e.jsx(O,{}),label:"New track"})]})]}),r==="custom"?e.jsx(Ke,{model:t,assembly2:s,assembly1:n}):null,r==="tracklist"?e.jsx(Ge,{model:t,assembly1:n,assembly2:s}):null]})}),Ye=K()(n=>({importFormContainer:{padding:n.spacing(4),margin:"0 auto"},assemblySelector:{width:"75%",margin:"0 auto"}}));function Ze({model:n,assembly1:s,assembly2:t}){const r=E.getSession(n),{importFormSyntenyTrackSelections:i}=n;n.setError(void 0),ie(()=>{E.isSessionWithAddTracks(r)&&ve(i).map((c,u)=>{var h;c.type==="userOpened"?(r.addTrackConf(c.value),n.toggleTrack((h=c.value)===null||h===void 0?void 0:h.trackId)):c.type==="preConfigured"&&n.showTrack(c.value,u)}),n.showAllRegions(),n.setAssemblyNames(t,s)})}const Je=C(function({model:n}){const{classes:s}=Ye(),t=E.getSession(n),{assemblyNames:r}=t,[i,c]=o.useState(r[0]||""),[u,h]=o.useState(r[0]||""),[k,d]=o.useState(),p=k||n.error;return e.jsxs(Me,{className:s.importFormContainer,children:[p?e.jsx(y.ErrorMessage,{error:p}):null,e.jsxs(U,{style:{padding:12},children:[e.jsx(H,{style:{textAlign:"center"},children:"Select assemblies for dotplot view"}),e.jsxs(Y,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",children:[e.jsx(y.AssemblySelector,{helperText:"x-axis assembly",selected:i,session:t,onChange:x=>{c(x)}}),e.jsx(y.AssemblySelector,{helperText:"y-axis assembly",selected:u,session:t,onChange:x=>{h(x)}}),e.jsx(oe,{children:e.jsx(_,{onClick:()=>{(async()=>{try{d(void 0),Ze({assembly1:u,assembly2:i,model:n})}catch(x){console.error(x),d(x)}})()},variant:"contained",color:"primary",children:"Launch"})})]}),e.jsx(Xe,{assembly2:i,assembly1:u,model:n})]})]})}),Qe=o.lazy(()=>Z(()=>import("./DotplotTooltipClick-DqIIn2Do.js"),__vite__mapDeps([13,1,2]),import.meta.url)),en=o.lazy(()=>Z(()=>import("./DotplotTooltipMouseover-uX5oOKqf.js"),__vite__mapDeps([14,1,2]),import.meta.url)),ee={left:0,top:0,height:0},ce=K()(n=>({spacer:{gridColumn:"1/2",gridRow:"2/2"},root:{position:"relative",marginBottom:n.spacing(1),overflow:"hidden"},container:{display:"grid",padding:5,position:"relative"},overlay:{pointerEvents:"none",overflow:"hidden",display:"flex",width:"100%",gridRow:"1/2",gridColumn:"2/2",zIndex:100,"& path":{cursor:"crosshair",fill:"none"}},content:{position:"relative",gridColumn:"2/2",gridRow:"1/2"},resizeHandle:{height:4,background:"#ccc",boxSizing:"border-box",borderTop:"1px solid #fafafa"}}));function X(n,s){return n&&[n[0]-s.left,n[1]-s.top]}const nn=C(({model:n})=>{const{classes:s}=ce();return e.jsx("div",{className:s.overlay,children:n.tracks.map(t=>{const[r]=t.displays,{RenderingComponent:i}=r;return i?e.jsx(i,{model:r},t.configuration.trackId):null})})}),tn=C(function({model:n}){var s,t;const{classes:r}=ce(),[i,c]=o.useState(),[u,h]=o.useState(),[k,d]=o.useState(!1),[p,x]=o.useState(),f=o.useRef(null),g=o.useRef(null),I=o.useRef(0),L=o.useRef(0),T=o.useRef(!1),[b,v]=o.useState(!1),[$,a]=o.useState(!1),V=((s=f.current)===null||s===void 0?void 0:s.getBoundingClientRect())||ee,J=((t=f.current)===null||t===void 0?void 0:t.getBoundingClientRect())||ee,j=X(u,V),R=X(i,V),A=X(p,V),S=A||R,le=p||i,z=j&&S?S[0]-j[0]:0,B=j&&S?S[1]-j[1]:0,{hview:N,vview:P,wheelMode:G,cursorMode:F}=n,Q=F==="move"&&!b||F==="crosshair"&&b,D=F==="move"&&b||F==="crosshair"&&!b;return o.useEffect(()=>{function m(l){l.preventDefault(),I.current+=l.deltaX,L.current-=l.deltaY,T.current||(T.current=!0,window.requestAnimationFrame(()=>{ie(()=>{if(G==="pan")N.scroll(I.current/3),P.scroll(L.current/10);else if(G==="zoom"&&Math.abs(L.current)>Math.abs(I.current)*2&&R){const w=L.current<0?1.1:.9;N.zoomTo(N.bpPerPx*w,R[0]),P.zoomTo(P.bpPerPx*w,J.height-R[1])}}),T.current=!1,I.current=0,L.current=0}))}if(f.current){const l=f.current;return l.addEventListener("wheel",m),()=>{l.removeEventListener("wheel",m)}}return()=>{}},[N,P,G,R,J.height]),o.useEffect(()=>{function m(l){c([l.clientX,l.clientY]),i&&u&&Q&&!p&&(N.scroll(-l.clientX+i[0]),P.scroll(l.clientY-i[1]))}return window.addEventListener("mousemove",m),()=>{window.removeEventListener("mousemove",m)}},[Q,i,u,p,N,P]),o.useEffect(()=>{function m(w){(w.metaKey||w.ctrlKey)&&a(!0)}function l(w){!w.metaKey&&!w.ctrlKey&&a(!1)}return window.addEventListener("keydown",m),window.addEventListener("keyup",l),()=>{window.removeEventListener("keydown",m),window.addEventListener("keyup",l)}},[]),o.useEffect(()=>{function m(l){Math.abs(z)>3&&Math.abs(B)>3&&D?x([l.clientX,l.clientY]):h(void 0)}return j&&!A?(window.addEventListener("mouseup",m,!0),()=>{window.removeEventListener("mouseup",m,!0)}):()=>{}},[D,j,A,z,B]),e.jsxs("div",{children:[e.jsx(_e,{model:n,selection:!D||!(j&&S)?void 0:{width:Math.abs(z),height:Math.abs(B)}}),e.jsxs("div",{ref:g,className:r.root,onMouseLeave:()=>{d(!1)},onMouseEnter:()=>{d(!0)},children:[e.jsxs("div",{className:r.container,children:[e.jsx(we,{model:n}),e.jsx(Ce,{model:n}),e.jsxs("div",{ref:f,className:r.content,children:[k&&D?e.jsx(o.Suspense,{fallback:null,children:e.jsx(en,{model:n,mouserect:S,mouserectClient:le,xdistance:z})}):null,D?e.jsx(o.Suspense,{fallback:null,children:e.jsx(Qe,{model:n,mousedown:j,mousedownClient:u,xdistance:z,ydistance:B})}):null,e.jsx("div",{style:{cursor:$?"pointer":F},onMouseDown:m=>{if(m.button===0){const{clientX:l,clientY:w}=m;h([l,w]),c([l,w]),v($)}},children:e.jsx(be,{model:n,children:D&&j&&S?e.jsx("rect",{fill:"rgba(255,0,0,0.3)",x:Math.min(S[0],j[0]),y:Math.min(S[1],j[1]),width:Math.abs(z),height:Math.abs(B)}):null})}),e.jsx("div",{className:r.spacer})]}),e.jsx(nn,{model:n}),e.jsx(y.Menu,{open:!!A,onMenuItemClick:(m,l)=>{l(),x(void 0),h(void 0)},onClose:()=>{x(void 0),h(void 0)},anchorReference:"anchorPosition",anchorPosition:p?{top:p[1]+50,left:p[0]+50}:void 0,style:{zIndex:800},menuItems:[{label:"Zoom in",onClick:()=>{j&&A&&n.zoomInToMouseCoords(j,A),d(!1)}},{label:"Open linear synteny view",onClick:()=>{j&&A&&n.onDotplotView(j,A),d(!1)}}]})]}),e.jsx(y.ResizeHandle,{onDrag:m=>n.setHeight(n.height+m),className:r.resizeHandle})]})]})}),mn=C(function({model:n}){const{initialized:s,loading:t,error:r}=n;return!s&&!t||r?e.jsx(Je,{model:n}):t?e.jsx(y.LoadingEllipses,{variant:"h6"}):e.jsx(tn,{model:n})});export{mn as default};
//# sourceMappingURL=DotplotView-DJJaAvia.js.map
