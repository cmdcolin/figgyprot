import{I as h,H as v,a as m,J as T,j as o,K as x,M as C,N as w,O as D,Q as N,u as j,P as L,B as E,cH as O,br as P,c as A,D as I,T as M,e as _}from"./index-BXtJZUZx.js";import{T as z,a as R,b as y}from"./TableCell-3LNUgoLB.js";import{D as F}from"./Divider-C0Sjin2e.js";import"./dividerClasses-F6oYoNIY.js";function G(e){return h("MuiTable",e)}v("MuiTable",["root","stickyHeader"]);const J=e=>{const{classes:t,stickyHeader:a}=e;return w({root:["root",a&&"stickyHeader"]},G,t)},K=x("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.stickyHeader&&t.stickyHeader]}})(D(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),k="table",V=m.forwardRef(function(t,a){const s=T({props:t,name:"MuiTable"}),{className:r,component:n=k,padding:u="normal",size:l="medium",stickyHeader:i=!1,...g}=s,f={...s,component:n,padding:u,size:l,stickyHeader:i},c=J(f),p=m.useMemo(()=>({padding:u,size:l,stickyHeader:i}),[u,l,i]);return o.jsx(z.Provider,{value:p,children:o.jsx(K,{as:n,role:n===k?null:"table",ref:a,className:C(c.root,r),ownerState:f,...g})})});function W(e){return h("MuiTableBody",e)}v("MuiTableBody",["root"]);const X=e=>{const{classes:t}=e;return w({root:["root"]},W,t)},q=x("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),Q={variant:"body"},S="tbody",Y=m.forwardRef(function(t,a){const s=T({props:t,name:"MuiTableBody"}),{className:r,component:n=S,...u}=s,l={...s,component:n},i=X(l);return o.jsx(R.Provider,{value:Q,children:o.jsx(q,{className:C(i.root,r),as:n,ref:a,role:n===S?null:"rowgroup",ownerState:l,...u})})});function Z(e){return h("MuiTableContainer",e)}v("MuiTableContainer",["root"]);const ee=e=>{const{classes:t}=e;return w({root:["root"]},Z,t)},oe=x("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),te=m.forwardRef(function(t,a){const s=T({props:t,name:"MuiTableContainer"}),{className:r,component:n="div",...u}=s,l={...s,component:n},i=ee(l);return o.jsx(oe,{ref:a,as:n,className:C(i.root,r),ownerState:l,...u})});function ae(e){return h("MuiTableHead",e)}v("MuiTableHead",["root"]);const se=e=>{const{classes:t}=e;return w({root:["root"]},ae,t)},ne=x("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),re={variant:"head"},$="thead",le=m.forwardRef(function(t,a){const s=T({props:t,name:"MuiTableHead"}),{className:r,component:n=$,...u}=s,l={...s,component:n},i=se(l);return o.jsx(R.Provider,{value:re,children:o.jsx(ne,{as:n,className:C(i.root,r),ref:a,role:n===$?null:"rowgroup",ownerState:l,...u})})});function ie(e){return h("MuiTableRow",e)}const H=v("MuiTableRow",["root","selected","hover","head","footer"]),ce=e=>{const{classes:t,selected:a,hover:s,head:r,footer:n}=e;return w({root:["root",a&&"selected",s&&"hover",r&&"head",n&&"footer"]},ie,t)},de=x("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.head&&t.head,a.footer&&t.footer]}})(D(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${H.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${H.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:N(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:N(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),U="tr",B=m.forwardRef(function(t,a){const s=T({props:t,name:"MuiTableRow"}),{className:r,component:n=U,hover:u=!1,selected:l=!1,...i}=s,g=m.useContext(R),f={...s,component:n,hover:u,selected:l,head:g&&g.variant==="head",footer:g&&g.variant==="footer"},c=ce(f);return o.jsx(de,{as:n,ref:a,className:C(c.root,r),role:n===U?null:"row",ownerState:f,...i})});function ue({searchResults:e,assemblyName:t,model:a,handleClose:s}){const r=j.getSession(a),{pluginManager:n}=j.getEnv(r),{assemblyManager:u}=r,l=t||a.displayedRegions[0].assemblyName,i=u.get(l);if(!i)throw new Error(`assembly ${l} not found`);if(!i.regions)throw new Error(`assembly ${l} regions not loaded`);function g(c){var p;if(c){const b=n.pluggableConfigSchemaType("track"),d=O(b,P(a),c);return((p=d==null?void 0:d.name)===null||p===void 0?void 0:p.value)||""}return""}async function f(c){var p;try{const b=(p=i==null?void 0:i.regions)===null||p===void 0?void 0:p.find(d=>c===d.refName);b?(a.setDisplayedRegions([b]),a.showAllRegions()):await a.navToLocString(c,l)}catch(b){console.warn(b),r.notify(`${b}`,"warning")}}return o.jsx(te,{component:L,children:o.jsxs(V,{children:[o.jsx(le,{children:o.jsxs(B,{children:[o.jsx(y,{children:"Name"}),o.jsx(y,{align:"right",children:"Location"}),o.jsx(y,{align:"right",children:"Track"}),o.jsx(y,{align:"right"})]})}),o.jsx(Y,{children:e.map(c=>{const p=c.getLocation();let b;try{b=p?j.parseLocString(p,d=>i.isValidRefName(d)):void 0}catch{}return o.jsxs(B,{children:[o.jsx(y,{component:"th",scope:"row",children:c.getLabel()}),o.jsx(y,{align:"right",children:b?j.assembleLocString({...b,refName:i.getCanonicalRefName(b.refName)||b.refName}):p}),o.jsx(y,{align:"right",children:g(c.getTrackId())||"N/A"}),o.jsx(y,{align:"right",children:o.jsx(E,{onClick:async()=>{try{await f(c.getLocation()||c.getLabel());const d=c.getTrackId();d&&a.showTrack(d)}catch(d){console.error(d),r.notifyError(`${d}`,d)}s()},color:"primary",variant:"contained",children:"Go"})})]},c.getId())})})]})})}function fe({model:e,assemblyName:t,searchQuery:a,searchResults:s,handleClose:r}){return o.jsxs(A.Dialog,{open:!0,maxWidth:"xl",onClose:r,title:"Search results",children:[o.jsx(I,{children:s!=null&&s.length?o.jsxs(o.Fragment,{children:[o.jsxs(M,{children:["Showing results for ",o.jsx("b",{children:a})]}),o.jsx(ue,{model:e,handleClose:r,assemblyName:t,searchResults:s})]}):o.jsxs(M,{children:["No results found for ",o.jsx("b",{children:a})]})}),o.jsx(F,{}),o.jsx(_,{children:o.jsx(E,{onClick:()=>{r()},color:"primary",children:"Cancel"})})]})}export{fe as default};
//# sourceMappingURL=SearchResultsDialog-C4Npu-Vc.js.map
